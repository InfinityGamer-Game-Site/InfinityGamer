var _SETTINGS={API:{Enabled:!0,Log:{Events:{InitializeGame:!0,EndGame:!0,Level:{Begin:!0,End:!0,Win:!0,Lose:!0,Draw:!0}}}},Ad:{Mobile:{Preroll:{Enabled:!0,Duration:5,Width:300,Height:250,Rotation:{Enabled:!1,Weight:{MobileAdInGamePreroll:40,MobileAdInGamePreroll2:40,MobileAdInGamePreroll3:20}}},Header:{Enabled:!1,Duration:5,Width:320,Height:50,Rotation:{Enabled:!1,Weight:{MobileAdInGameHeader:40,MobileAdInGameHeader2:40,MobileAdInGameHeader3:20}}},Footer:{Enabled:!1,Duration:5,Width:320,Height:50,
Rotation:{Enabled:!1,Weight:{MobileAdInGameFooter:40,MobileAdInGameFooter2:40,MobileAdInGameFooter3:20}}},End:{Enabled:!1,Duration:1,Width:300,Height:250,Rotation:{Enabled:!1,Weight:{MobileAdInGameEnd:40,MobileAdInGameEnd2:40,MobileAdInGameEnd3:20}}}}},Language:{Default:"en"},DeveloperBranding:{Splash:{Enabled:!1},Logo:{Enabled:!1,Link:"http://google.com",LinkEnabled:!1,NewWindow:!0,Width:166,Height:61}},Branding:{Splash:{Enabled:!1},Logo:{Enabled:!1,Link:"http://google.com",LinkEnabled:!1,NewWindow:!0,
Width:166,Height:61}},MoreGames:{Enabled:!1,Link:"http://silvergames.com",NewWindow:!0},Gamecenter:{Enabled:!1}};var _STRINGS={Ad:{Mobile:{Preroll:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"},Header:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"},End:{ReadyIn:"Advertisement ends in ",Loading:"Please wait ...",Close:"Close"}}},Splash:{Loading:"Loading ...",LogoLine1:"Some text here",LogoLine2:"powered by MarketJS",LogoLine3:"none"},Game:{SelectPlayer:"Select Player",Win:"You win!",Lose:"You lose!",Score:"Score",Time:"Time",moves:"Moves",best:"Best",
back:"Back",restart:"Restart",undo:"Undo",hints:"Hints",faster:"Faster",paused:"PAUSED",options:"OPTIONS",sound:"Sound",music:"Music",levelcomplete:"Level Complete",selectlevel:"Level Select",pathcomplete:"Path Complete!",go:"GO!",hintplus:"+1 hint"},Results:{Title:"High score"}};var MobileAdInGamePreroll={ad_duration:_SETTINGS.Ad.Mobile.Preroll.Duration,ad_width:_SETTINGS.Ad.Mobile.Preroll.Width,ad_height:_SETTINGS.Ad.Mobile.Preroll.Height,ready_in:_STRINGS.Ad.Mobile.Preroll.ReadyIn,loading:_STRINGS.Ad.Mobile.Preroll.Loading,close:_STRINGS.Ad.Mobile.Preroll.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){if(_SETTINGS.Ad.Mobile.Preroll.Rotation.Enabled){var j=_SETTINGS.Ad.Mobile.Preroll.Rotation.Weight,l=j.MobileAdInGamePreroll,m=
l+j.MobileAdInGamePreroll2,j=m+j.MobileAdInGamePreroll3,n=Math.floor(100*Math.random());console.log("seed: ",n);n<=l?this.selectedOverlayName="MobileAdInGamePreroll":n<=m?this.selectedOverlayName="MobileAdInGamePreroll2":n<=j&&(this.selectedOverlayName="MobileAdInGamePreroll3");console.log("Ad rotating preroll enabled")}else this.selectedOverlayName="MobileAdInGamePreroll",console.log("Ad rotating preroll disabled");console.log("selected:",this.selectedOverlayName);this.overlay=$("#"+this.selectedOverlayName);
this.box=$("#"+this.selectedOverlayName+"-Box");this.game=$("#game");this.boxContents={footer:$("#"+this.selectedOverlayName+"-Box-Footer"),header:$("#"+this.selectedOverlayName+"-Box-Header"),close:$("#"+this.selectedOverlayName+"-Box-Close"),body:$("#"+this.selectedOverlayName+"-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-
this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},Timer:function(j){var l=j,m=setInterval(function(){MobileAdInGamePreroll.boxContents.header.text(MobileAdInGamePreroll.ready_in+l+"...");MobileAdInGamePreroll.boxContents.footer.text(MobileAdInGamePreroll.loading);l--;0>l&&(clearInterval(m),MobileAdInGamePreroll.boxContents.close.css("left",MobileAdInGamePreroll.boxContents.body.width()-23),MobileAdInGamePreroll.boxContents.close.show(),MobileAdInGamePreroll.boxContents.header.html(MobileAdInGamePreroll.close),
MobileAdInGamePreroll.boxContents.footer.text(""))},1E3)},Close:function(){this.boxContents.close.hide();this.overlay.hide()}};var MobileAdInGameHeader={ad_duration:_SETTINGS.Ad.Mobile.Header.Duration,ad_width:_SETTINGS.Ad.Mobile.Header.Width,ad_height:_SETTINGS.Ad.Mobile.Header.Height,Initialize:function(){if(_SETTINGS.Ad.Mobile.Header.Rotation.Enabled){var j=_SETTINGS.Ad.Mobile.Header.Rotation.Weight,l=j.MobileAdInGameHeader,m=l+j.MobileAdInGameHeader2,j=m+j.MobileAdInGameHeader3,n=Math.floor(100*Math.random());console.log("seed: ",n);n<=l?this.selectedOverlayName="MobileAdInGameHeader":n<=m?this.selectedOverlayName="MobileAdInGameHeader2":
n<=j&&(this.selectedOverlayName="MobileAdInGameHeader3");console.log("Ad rotating header enabled")}else this.selectedOverlayName="MobileAdInGameHeader",console.log("Ad rotating header disabled");this.div=$("#"+this.selectedOverlayName);this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",0);this.div.show(this.Timer(this.ad_duration))},Timer:function(j){var l=setInterval(function(){j--;
0>j&&(MobileAdInGameHeader.div.hide(),clearInterval(l))},1E3)}};var MobileAdInGameFooter={ad_duration:_SETTINGS.Ad.Mobile.Footer.Duration,ad_width:_SETTINGS.Ad.Mobile.Footer.Width,ad_height:_SETTINGS.Ad.Mobile.Footer.Height,Initialize:function(){if(_SETTINGS.Ad.Mobile.Footer.Rotation.Enabled){var j=_SETTINGS.Ad.Mobile.Footer.Rotation.Weight,l=j.MobileAdInGameFooter,m=l+j.MobileAdInGameFooter2,j=m+j.MobileAdInGameFooter3,n=Math.floor(100*Math.random());console.log("seed: ",n);n<=l?this.selectedOverlayName="MobileAdInGameFooter":n<=m?this.selectedOverlayName="MobileAdInGameFooter2":
n<=j&&(this.selectedOverlayName="MobileAdInGameFooter3");console.log("Ad rotating footer enabled")}else this.selectedOverlayName="MobileAdInGameFooter",console.log("Ad rotating footer disabled");this.div=$("#"+this.selectedOverlayName);this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",this.game.height()-this.div.height()-5);this.div.show(this.Timer(this.ad_duration))},
Timer:function(j){var l=setInterval(function(){j--;0>j&&(MobileAdInGameFooter.div.hide(),clearInterval(l))},1E3)}};var MobileAdInGameEnd={ad_duration:_SETTINGS.Ad.Mobile.End.Duration,ad_width:_SETTINGS.Ad.Mobile.End.Width,ad_height:_SETTINGS.Ad.Mobile.End.Height,ready_in:_STRINGS.Ad.Mobile.End.ReadyIn,loading:_STRINGS.Ad.Mobile.End.Loading,close:_STRINGS.Ad.Mobile.End.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){if(_SETTINGS.Ad.Mobile.End.Rotation.Enabled){var j=_SETTINGS.Ad.Mobile.End.Rotation.Weight,l=j.MobileAdInGameEnd,m=l+j.MobileAdInGameEnd2,j=m+j.MobileAdInGameEnd3,
n=Math.floor(100*Math.random());console.log("seed: ",n);n<=l?this.selectedOverlayName="MobileAdInGameEnd":n<=m?this.selectedOverlayName="MobileAdInGameEnd2":n<=j&&(this.selectedOverlayName="MobileAdInGameEnd3");console.log("Ad rotating end enabled")}else this.selectedOverlayName="MobileAdInGameEnd",console.log("Ad rotating end disabled");console.log("selected:",this.selectedOverlayName);this.overlay=$("#"+this.selectedOverlayName);this.box=$("#"+this.selectedOverlayName+"-Box");this.game=$("#game");
this.boxContents={footer:$("#"+this.selectedOverlayName+"-Box-Footer"),header:$("#"+this.selectedOverlayName+"-Box-Header"),close:$("#"+this.selectedOverlayName+"-Box-Close"),body:$("#"+this.selectedOverlayName+"-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},
Timer:function(j){var l=j,m=setInterval(function(){MobileAdInGameEnd.boxContents.header.text(MobileAdInGameEnd.ready_in+l+"...");MobileAdInGameEnd.boxContents.footer.text(MobileAdInGameEnd.loading);l--;0>l&&(clearInterval(m),MobileAdInGameEnd.boxContents.close.css("left",MobileAdInGameEnd.boxContents.body.width()-23),MobileAdInGameEnd.boxContents.close.show(),MobileAdInGameEnd.boxContents.header.html(MobileAdInGameEnd.close),MobileAdInGameEnd.boxContents.footer.text(""))},1E3)},Close:function(){this.boxContents.close.hide();
this.overlay.hide()}};(function(j,l){function m(j,C,m){if(m===l&&1===j.nodeType)if(m="data-"+C.replace(zc,"-$1").toLowerCase(),m=j.getAttribute(m),"string"==typeof m){try{m="true"===m?!0:"false"===m?!1:"null"===m?null:+m+""===m?+m:Ac.test(m)?p.parseJSON(m):m}catch(v){}p.data(j,C,m)}else m=l;return m}function n(j){for(var l in j)if(!("data"===l&&p.isEmptyObject(j[l]))&&"toJSON"!==l)return!1;return!0}function q(){return!1}function r(){return!0}function B(j){return!j||!j.parentNode||11===j.parentNode.nodeType}function u(j,
l){do j=j[l];while(j&&1!==j.nodeType);return j}function z(j,l,m){l=l||0;if(p.isFunction(l))return p.grep(j,function(j,H){return!!l.call(j,H,j)===m});if(l.nodeType)return p.grep(j,function(j){return j===l===m});if("string"==typeof l){var v=p.grep(j,function(j){return 1===j.nodeType});if(Bc.test(l))return p.filter(l,v,!m);l=p.filter(l,v)}return p.grep(j,function(j){return 0<=p.inArray(j,l)===m})}function D(j){var l=Eb.split("|");j=j.createDocumentFragment();if(j.createElement)for(;l.length;)j.createElement(l.pop());
return j}function y(j,l){if(1===l.nodeType&&p.hasData(j)){var m,v,n;v=p._data(j);var x=p._data(l,v),s=v.events;if(s)for(m in delete x.handle,x.events={},s){v=0;for(n=s[m].length;v<n;v++)p.event.add(l,m,s[m][v])}x.data&&(x.data=p.extend({},x.data))}}function G(j,l){var m;1===l.nodeType&&(l.clearAttributes&&l.clearAttributes(),l.mergeAttributes&&l.mergeAttributes(j),m=l.nodeName.toLowerCase(),"object"===m?(l.parentNode&&(l.outerHTML=j.outerHTML),p.support.html5Clone&&j.innerHTML&&!p.trim(l.innerHTML)&&
(l.innerHTML=j.innerHTML)):"input"===m&&Fb.test(j.type)?(l.defaultChecked=l.checked=j.checked,l.value!==j.value&&(l.value=j.value)):"option"===m?l.selected=j.defaultSelected:"input"===m||"textarea"===m?l.defaultValue=j.defaultValue:"script"===m&&l.text!==j.text&&(l.text=j.text),l.removeAttribute(p.expando))}function K(j){return"undefined"!=typeof j.getElementsByTagName?j.getElementsByTagName("*"):"undefined"!=typeof j.querySelectorAll?j.querySelectorAll("*"):[]}function L(j){Fb.test(j.type)&&(j.defaultChecked=
j.checked)}function t(j,l){if(l in j)return l;for(var m=l.charAt(0).toUpperCase()+l.slice(1),p=l,n=Gb.length;n--;)if(l=Gb[n]+m,l in j)return l;return p}function E(j,l){return j=l||j,"none"===p.css(j,"display")||!p.contains(j.ownerDocument,j)}function A(j,l){for(var m,v,n=[],x=0,s=j.length;x<s;x++)m=j[x],m.style&&(n[x]=p._data(m,"olddisplay"),l?(!n[x]&&"none"===m.style.display&&(m.style.display=""),""===m.style.display&&E(m)&&(n[x]=p._data(m,"olddisplay",Da(m.nodeName)))):(v=V(m,"display"),!n[x]&&
"none"!==v&&p._data(m,"olddisplay",v)));for(x=0;x<s;x++)if(m=j[x],m.style&&(!l||"none"===m.style.display||""===m.style.display))m.style.display=l?n[x]||"":"none";return j}function R(j,l,m){return(j=Cc.exec(l))?Math.max(0,j[1]-(m||0))+(j[2]||"px"):l}function W(j,l,m,v){l=m===(v?"border":"content")?4:"width"===l?1:0;for(var n=0;4>l;l+=2)"margin"===m&&(n+=p.css(j,m+ka[l],!0)),v?("content"===m&&(n-=parseFloat(V(j,"padding"+ka[l]))||0),"margin"!==m&&(n-=parseFloat(V(j,"border"+ka[l]+"Width"))||0)):(n+=
parseFloat(V(j,"padding"+ka[l]))||0,"padding"!==m&&(n+=parseFloat(V(j,"border"+ka[l]+"Width"))||0));return n}function S(j,l,m){var v="width"===l?j.offsetWidth:j.offsetHeight,n=!0,x=p.support.boxSizing&&"border-box"===p.css(j,"boxSizing");if(0>=v||null==v){v=V(j,l);if(0>v||null==v)v=j.style[l];if(Ea.test(v))return v;n=x&&(p.support.boxSizingReliable||v===j.style[l]);v=parseFloat(v)||0}return v+W(j,l,m||(x?"border":"content"),n)+"px"}function Da(j){if(db[j])return db[j];var l=p("<"+j+">").appendTo(J.body),
m=l.css("display");l.remove();if("none"===m||""===m){ra=J.body.appendChild(ra||p.extend(J.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!sa||!ra.createElement)sa=(ra.contentWindow||ra.contentDocument).document,sa.write("<!doctype html><html><body>"),sa.close();l=sa.body.appendChild(sa.createElement(j));m=V(l,"display");J.body.removeChild(ra)}return db[j]=m,m}function Fa(j,l,m,v){var n;if(p.isArray(l))p.each(l,function(l,C){m||Dc.test(j)?v(j,C):Fa(j+"["+("object"==typeof C?l:"")+"]",
C,m,v)});else if(!m&&"object"===p.type(l))for(n in l)Fa(j+"["+n+"]",l[n],m,v);else v(j,l)}function P(j){return function(l,m){"string"!=typeof l&&(m=l,l="*");var v,n,x=l.toLowerCase().split(la),s=0,q=x.length;if(p.isFunction(m))for(;s<q;s++)v=x[s],(n=/^\+/.test(v))&&(v=v.substr(1)||"*"),v=j[v]=j[v]||[],v[n?"unshift":"push"](m)}}function aa(j,C,m,p,n,x){n=n||C.dataTypes[0];x=x||{};x[n]=!0;var s;n=j[n];for(var q=0,t=n?n.length:0,r=j===fb;q<t&&(r||!s);q++)s=n[q](C,m,p),"string"==typeof s&&(!r||x[s]?s=
l:(C.dataTypes.unshift(s),s=aa(j,C,m,p,s,x)));return(r||!s)&&!x["*"]&&(s=aa(j,C,m,p,"*",x)),s}function Hb(j,C){var m,v,n=p.ajaxSettings.flatOptions||{};for(m in C)C[m]!==l&&((n[m]?j:v||(v={}))[m]=C[m]);v&&p.extend(!0,j,v)}function Ga(){try{return new j.XMLHttpRequest}catch(H){}}function xa(){return setTimeout(function(){Ha=l},0),Ha=p.now()}function Ib(j,l,m){var v,n=0,x=Ia.length,s=p.Deferred().always(function(){delete q.elem}),q=function(){for(var l=Ha||xa(),l=Math.max(0,t.startTime+t.duration-l),
C=1-(l/t.duration||0),m=0,F=t.tweens.length;m<F;m++)t.tweens[m].run(C);return s.notifyWith(j,[t,C,l]),1>C&&F?l:(s.resolveWith(j,[t]),!1)},t=s.promise({elem:j,props:p.extend({},l),opts:p.extend(!0,{specialEasing:{}},m),originalProperties:l,originalOptions:m,startTime:Ha||xa(),duration:m.duration,tweens:[],createTween:function(l,C){var m=p.Tween(j,t.opts,l,C,t.opts.specialEasing[l]||t.opts.easing);return t.tweens.push(m),m},stop:function(l){for(var C=0,m=l?t.tweens.length:0;C<m;C++)t.tweens[C].run(1);
return l?s.resolveWith(j,[t,l]):s.rejectWith(j,[t,l]),this}});l=t.props;m=t.opts.specialEasing;var r,E,u,A;for(v in l)if(r=p.camelCase(v),E=m[r],u=l[v],p.isArray(u)&&(E=u[1],u=l[v]=u[0]),v!==r&&(l[r]=u,delete l[v]),(A=p.cssHooks[r])&&"expand"in A)for(v in u=A.expand(u),delete l[r],u)v in l||(l[v]=u[v],m[v]=E);else m[r]=E;for(;n<x;n++)if(v=Ia[n].call(t,j,l,t.opts))return v;var z=t;p.each(l,function(j,H){for(var l=(ya[j]||[]).concat(ya["*"]),C=0,m=l.length;C<m&&!l[C].call(z,j,H);C++);});return p.isFunction(t.opts.start)&&
t.opts.start.call(j,t),p.fx.timer(p.extend(q,{anim:t,queue:t.opts.queue,elem:j})),t.progress(t.opts.progress).done(t.opts.done,t.opts.complete).fail(t.opts.fail).always(t.opts.always)}function X(j,l,m,p,n){return new X.prototype.init(j,l,m,p,n)}function Ja(j,l){var m,p={height:j},n=0;for(l=l?1:0;4>n;n+=2-l)m=ka[n],p["margin"+m]=p["padding"+m]=j;return l&&(p.opacity=p.width=j),p}function Jb(j){return p.isWindow(j)?j:9===j.nodeType?j.defaultView||j.parentWindow:!1}var Kb,Ka,J=j.document,Fc=j.location,
Gc=j.navigator,Hc=j.jQuery,Ic=j.$,Lb=Array.prototype.push,fa=Array.prototype.slice,Mb=Array.prototype.indexOf,Jc=Object.prototype.toString,hb=Object.prototype.hasOwnProperty,ib=String.prototype.trim,p=function(j,l){return new p.fn.init(j,l,Kb)},La=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Kc=/\S/,la=/\s+/,Lc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Mc=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Nb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Nc=/^[\],:{}\s]*$/,Oc=/(?:^|:|,)(?:\s*\[)+/g,Pc=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
Qc=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,Rc=/^-ms-/,Sc=/-([\da-z])/gi,Tc=function(j,l){return(l+"").toUpperCase()},Ma=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",Ma,!1),p.ready()):"complete"===J.readyState&&(J.detachEvent("onreadystatechange",Ma),p.ready())},Ob={};p.fn=p.prototype={constructor:p,init:function(j,C,m){var v,n;if(!j)return this;if(j.nodeType)return this.context=this[0]=j,this.length=1,this;if("string"==typeof j){"<"===j.charAt(0)&&
">"===j.charAt(j.length-1)&&3<=j.length?v=[null,j,null]:v=Mc.exec(j);if(v&&(v[1]||!C)){if(v[1])return C=C instanceof p?C[0]:C,n=C&&C.nodeType?C.ownerDocument||C:J,j=p.parseHTML(v[1],n,!0),Nb.test(v[1])&&p.isPlainObject(C)&&this.attr.call(j,C,!0),p.merge(this,j);if((C=J.getElementById(v[2]))&&C.parentNode){if(C.id!==v[2])return m.find(j);this.length=1;this[0]=C}return this.context=J,this.selector=j,this}return!C||C.jquery?(C||m).find(j):this.constructor(C).find(j)}return p.isFunction(j)?m.ready(j):
(j.selector!==l&&(this.selector=j.selector,this.context=j.context),p.makeArray(j,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return fa.call(this)},get:function(j){return null==j?this.toArray():0>j?this[this.length+j]:this[j]},pushStack:function(j,l,m){j=p.merge(this.constructor(),j);return j.prevObject=this,j.context=this.context,"find"===l?j.selector=this.selector+(this.selector?" ":"")+m:l&&(j.selector=this.selector+"."+l+"("+m+")"),j},each:function(j,
l){return p.each(this,j,l)},ready:function(j){return p.ready.promise().done(j),this},eq:function(j){return j=+j,-1===j?this.slice(j):this.slice(j,j+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(fa.apply(this,arguments),"slice",fa.call(arguments).join(","))},map:function(j){return this.pushStack(p.map(this,function(l,m){return j.call(l,m,l)}))},end:function(){return this.prevObject||this.constructor(null)},push:Lb,sort:[].sort,splice:[].splice};
p.fn.init.prototype=p.fn;p.extend=p.fn.extend=function(){var j,C,m,v,n,x,s=arguments[0]||{},q=1,t=arguments.length,r=!1;"boolean"==typeof s&&(r=s,s=arguments[1]||{},q=2);"object"!=typeof s&&!p.isFunction(s)&&(s={});for(t===q&&(s=this,--q);q<t;q++)if(null!=(j=arguments[q]))for(C in j)m=s[C],v=j[C],s!==v&&(r&&v&&(p.isPlainObject(v)||(n=p.isArray(v)))?(n?(n=!1,x=m&&p.isArray(m)?m:[]):x=m&&p.isPlainObject(m)?m:{},s[C]=p.extend(r,x,v)):v!==l&&(s[C]=v));return s};p.extend({noConflict:function(H){return j.$===
p&&(j.$=Ic),H&&j.jQuery===p&&(j.jQuery=Hc),p},isReady:!1,readyWait:1,holdReady:function(j){j?p.readyWait++:p.ready(!0)},ready:function(j){if(!(!0===j?--p.readyWait:p.isReady)){if(!J.body)return setTimeout(p.ready,1);p.isReady=!0;!0!==j&&0<--p.readyWait||(Ka.resolveWith(J,[p]),p.fn.trigger&&p(J).trigger("ready").off("ready"))}},isFunction:function(j){return"function"===p.type(j)},isArray:Array.isArray||function(j){return"array"===p.type(j)},isWindow:function(j){return null!=j&&j==j.window},isNumeric:function(j){return!isNaN(parseFloat(j))&&
isFinite(j)},type:function(j){return null==j?String(j):Ob[Jc.call(j)]||"object"},isPlainObject:function(j){if(!j||"object"!==p.type(j)||j.nodeType||p.isWindow(j))return!1;try{if(j.constructor&&!hb.call(j,"constructor")&&!hb.call(j.constructor.prototype,"isPrototypeOf"))return!1}catch(C){return!1}for(var m in j);return m===l||hb.call(j,m)},isEmptyObject:function(j){for(var l in j)return!1;return!0},error:function(j){throw Error(j);},parseHTML:function(j,l,m){var v;return!j||"string"!=typeof j?null:
("boolean"==typeof l&&(m=l,l=0),l=l||J,(v=Nb.exec(j))?[l.createElement(v[1])]:(v=p.buildFragment([j],l,m?null:[]),p.merge([],(v.cacheable?p.clone(v.fragment):v.fragment).childNodes)))},parseJSON:function(l){if(!l||"string"!=typeof l)return null;l=p.trim(l);if(j.JSON&&j.JSON.parse)return j.JSON.parse(l);if(Nc.test(l.replace(Pc,"@").replace(Qc,"]").replace(Oc,"")))return(new Function("return "+l))();p.error("Invalid JSON: "+l)},parseXML:function(H){var m,F;if(!H||"string"!=typeof H)return null;try{j.DOMParser?
(F=new DOMParser,m=F.parseFromString(H,"text/xml")):(m=new ActiveXObject("Microsoft.XMLDOM"),m.async="false",m.loadXML(H))}catch(v){m=l}return(!m||!m.documentElement||m.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+H),m},noop:function(){},globalEval:function(l){l&&Kc.test(l)&&(j.execScript||function(l){j.eval.call(j,l)})(l)},camelCase:function(j){return j.replace(Rc,"ms-").replace(Sc,Tc)},nodeName:function(j,l){return j.nodeName&&j.nodeName.toLowerCase()===l.toLowerCase()},
each:function(j,m,F){var v,n=0,x=j.length,s=x===l||p.isFunction(j);if(F)if(s)for(v in j){if(!1===m.apply(j[v],F))break}else for(;n<x&&!1!==m.apply(j[n++],F););else if(s)for(v in j){if(!1===m.call(j[v],v,j[v]))break}else for(;n<x&&!1!==m.call(j[n],n,j[n++]););return j},trim:ib&&!ib.call("\ufeff\u00a0")?function(j){return null==j?"":ib.call(j)}:function(j){return null==j?"":(j+"").replace(Lc,"")},makeArray:function(j,l){var m,v=l||[];return null!=j&&(m=p.type(j),null==j.length||"string"===m||"function"===
m||"regexp"===m||p.isWindow(j)?Lb.call(v,j):p.merge(v,j)),v},inArray:function(j,l,m){var p;if(l){if(Mb)return Mb.call(l,j,m);p=l.length;for(m=m?0>m?Math.max(0,p+m):m:0;m<p;m++)if(m in l&&l[m]===j)return m}return-1},merge:function(j,m){var p=m.length,v=j.length,n=0;if("number"==typeof p)for(;n<p;n++)j[v++]=m[n];else for(;m[n]!==l;)j[v++]=m[n++];return j.length=v,j},grep:function(j,l,m){var p,n=[],x=0,s=j.length;for(m=!!m;x<s;x++)p=!!l(j[x],x),m!==p&&n.push(j[x]);return n},map:function(j,m,F){var v,
n,x=[],s=0,q=j.length;if(j instanceof p||q!==l&&"number"==typeof q&&(0<q&&j[0]&&j[q-1]||0===q||p.isArray(j)))for(;s<q;s++)v=m(j[s],s,F),null!=v&&(x[x.length]=v);else for(n in j)v=m(j[n],n,F),null!=v&&(x[x.length]=v);return x.concat.apply([],x)},guid:1,proxy:function(j,m){var F,v,n;return"string"==typeof m&&(F=j[m],m=j,j=F),p.isFunction(j)?(v=fa.call(arguments,2),n=function(){return j.apply(m,v.concat(fa.call(arguments)))},n.guid=j.guid=j.guid||p.guid++,n):l},access:function(j,m,F,v,n,x,s){var q,t=
null==F,r=0,u=j.length;if(F&&"object"==typeof F){for(r in F)p.access(j,m,r,F[r],1,x,v);n=1}else if(v!==l){q=s===l&&p.isFunction(v);t&&(q?(q=m,m=function(j,l,H){return q.call(p(j),H)}):(m.call(j,v),m=null));if(m)for(;r<u;r++)m(j[r],F,q?v.call(j[r],r,m(j[r],F)):v,s);n=1}return n?j:t?m.call(j):u?m(j[0],F):x},now:function(){return(new Date).getTime()}});p.ready.promise=function(l){if(!Ka)if(Ka=p.Deferred(),"complete"===J.readyState)setTimeout(p.ready,1);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",
Ma,!1),j.addEventListener("load",p.ready,!1);else{J.attachEvent("onreadystatechange",Ma);j.attachEvent("onload",p.ready);var m=!1;try{m=null==j.frameElement&&J.documentElement}catch(F){}m&&m.doScroll&&function I(){if(!p.isReady){try{m.doScroll("left")}catch(j){return setTimeout(I,50)}p.ready()}}()}return Ka.promise(l)};p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(j,l){Ob["[object "+l+"]"]=l.toLowerCase()});Kb=p(J);var Pb={};p.Callbacks=function(j){var m;if("string"==
typeof j){if(!(m=Pb[j])){m=j;var F=Pb[m]={};m=(p.each(m.split(la),function(j,l){F[l]=!0}),F)}}else m=p.extend({},j);j=m;var v,n,x,s,q,t,r=[],u=!j.once&&[],E=function(l){v=j.memory&&l;n=!0;t=s||0;s=0;q=r.length;for(x=!0;r&&t<q;t++)if(!1===r[t].apply(l[0],l[1])&&j.stopOnFalse){v=!1;break}x=!1;r&&(u?u.length&&E(u.shift()):v?r=[]:A.disable())},A={add:function(){if(r){var l=r.length;(function Ec(l){p.each(l,function(l,m){var C=p.type(m);"function"===C&&(!j.unique||!A.has(m))?r.push(m):m&&m.length&&"string"!==
C&&Ec(m)})})(arguments);x?q=r.length:v&&(s=l,E(v))}return this},remove:function(){return r&&p.each(arguments,function(j,l){for(var H;-1<(H=p.inArray(l,r,H));)r.splice(H,1),x&&(H<=q&&q--,H<=t&&t--)}),this},has:function(j){return-1<p.inArray(j,r)},empty:function(){return r=[],this},disable:function(){return r=u=v=l,this},disabled:function(){return!r},lock:function(){return u=l,v||A.disable(),this},locked:function(){return!u},fireWith:function(j,l){return l=l||[],l=[j,l.slice?l.slice():l],r&&(!n||u)&&
(x?u.push(l):E(l)),this},fire:function(){return A.fireWith(this,arguments),this},fired:function(){return!!n}};return A};p.extend({Deferred:function(j){var l=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],m="pending",v={state:function(){return m},always:function(){return n.done(arguments).fail(arguments),this},then:function(){var j=arguments;return p.Deferred(function(H){p.each(l,function(l,
m){var C=m[0],F=j[l];n[m[1]](p.isFunction(F)?function(){var j=F.apply(this,arguments);j&&p.isFunction(j.promise)?j.promise().done(H.resolve).fail(H.reject).progress(H.notify):H[C+"With"](this===n?H:this,[j])}:H[C])});j=null}).promise()},promise:function(j){return null!=j?p.extend(j,v):v}},n={};return v.pipe=v.then,p.each(l,function(j,H){var p=H[2],q=H[3];v[H[1]]=p.add;q&&p.add(function(){m=q},l[j^1][2].disable,l[2][2].lock);n[H[0]]=p.fire;n[H[0]+"With"]=p.fireWith}),v.promise(n),j&&j.call(n,n),n},
when:function(j){var l=0,m=fa.call(arguments),v=m.length,n=1!==v||j&&p.isFunction(j.promise)?v:0,x=1===n?j:p.Deferred(),s=function(j,l,H){return function(m){l[j]=this;H[j]=1<arguments.length?fa.call(arguments):m;H===q?x.notifyWith(l,H):--n||x.resolveWith(l,H)}},q,t,r;if(1<v){q=Array(v);t=Array(v);for(r=Array(v);l<v;l++)m[l]&&p.isFunction(m[l].promise)?m[l].promise().done(s(l,r,m)).fail(x.reject).progress(s(l,t,q)):--n}return n||x.resolveWith(r,m),x.promise()}});var Uc=p,jb;var U,Na,ma,Oa,Pa,Y,na,
Qa,kb,za,Qb,Q=J.createElement("div");Q.setAttribute("className","t");Q.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Na=Q.getElementsByTagName("*");ma=Q.getElementsByTagName("a")[0];ma.style.cssText="top:1px;float:left;opacity:.5";if(!Na||!Na.length)jb={};else{Oa=J.createElement("select");Pa=Oa.appendChild(J.createElement("option"));Y=Q.getElementsByTagName("input")[0];U={leadingWhitespace:3===Q.firstChild.nodeType,tbody:!Q.getElementsByTagName("tbody").length,htmlSerialize:!!Q.getElementsByTagName("link").length,
style:/top/.test(ma.getAttribute("style")),hrefNormalized:"/a"===ma.getAttribute("href"),opacity:/^0.5/.test(ma.style.opacity),cssFloat:!!ma.style.cssFloat,checkOn:"on"===Y.value,optSelected:Pa.selected,getSetAttribute:"t"!==Q.className,enctype:!!J.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===J.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,
shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};Y.checked=!0;U.noCloneChecked=Y.cloneNode(!0).checked;Oa.disabled=!0;U.optDisabled=!Pa.disabled;try{delete Q.test}catch(Wd){U.deleteExpando=!1}!Q.addEventListener&&Q.attachEvent&&Q.fireEvent&&(Q.attachEvent("onclick",Qb=function(){U.noCloneEvent=!1}),Q.cloneNode(!0).fireEvent("onclick"),Q.detachEvent("onclick",Qb));Y=J.createElement("input");Y.value="t";Y.setAttribute("type","radio");U.radioValue="t"===Y.value;Y.setAttribute("checked",
"checked");Y.setAttribute("name","t");Q.appendChild(Y);na=J.createDocumentFragment();na.appendChild(Q.lastChild);U.checkClone=na.cloneNode(!0).cloneNode(!0).lastChild.checked;U.appendChecked=Y.checked;na.removeChild(Y);na.appendChild(Q);if(Q.attachEvent)for(kb in{submit:!0,change:!0,focusin:!0})Qa="on"+kb,(za=Qa in Q)||(Q.setAttribute(Qa,"return;"),za="function"==typeof Q[Qa]),U[kb+"Bubbles"]=za;jb=(p(function(){var l,m,p,v,n=J.getElementsByTagName("body")[0];n&&(l=J.createElement("div"),l.style.cssText=
"visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",n.insertBefore(l,n.firstChild),m=J.createElement("div"),l.appendChild(m),m.innerHTML="<table><tr><td></td><td>t</td></tr></table>",p=m.getElementsByTagName("td"),p[0].style.cssText="padding:0;margin:0;border:0;display:none",za=0===p[0].offsetHeight,p[0].style.display="",p[1].style.display="none",U.reliableHiddenOffsets=za&&0===p[0].offsetHeight,m.innerHTML="",m.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
U.boxSizing=4===m.offsetWidth,U.doesNotIncludeMarginInBodyOffset=1!==n.offsetTop,j.getComputedStyle&&(U.pixelPosition="1%"!==(j.getComputedStyle(m,null)||{}).top,U.boxSizingReliable="4px"===(j.getComputedStyle(m,null)||{width:"4px"}).width,v=J.createElement("div"),v.style.cssText=m.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",v.style.marginRight=v.style.width="0",m.style.width="1px",m.appendChild(v),U.reliableMarginRight=!parseFloat((j.getComputedStyle(v,null)||{}).marginRight)),
"undefined"!=typeof m.style.zoom&&(m.innerHTML="",m.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",U.inlineBlockNeedsLayout=3===m.offsetWidth,m.style.display="block",m.style.overflow="visible",m.innerHTML="<div></div>",m.firstChild.style.width="5px",U.shrinkWrapBlocks=3!==m.offsetWidth,l.style.zoom=1),n.removeChild(l))}),na.removeChild(Q),Na=ma=Oa=Pa=Y=na=Q=null,U)}Uc.support=jb;var Ac=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,zc=/([A-Z])/g;
p.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(j){return j=j.nodeType?p.cache[j[p.expando]]:j[p.expando],!!j&&!n(j)},data:function(j,m,F,v){if(p.acceptData(j)){var n,x,s=p.expando,q="string"==typeof m,t=j.nodeType,r=t?p.cache:j,u=t?j[s]:j[s]&&s;if(u&&r[u]&&(v||r[u].data)||!(q&&F===l)){u||(t?j[s]=u=p.deletedIds.pop()||p.guid++:u=s);r[u]||(r[u]={},
t||(r[u].toJSON=p.noop));if("object"==typeof m||"function"==typeof m)v?r[u]=p.extend(r[u],m):r[u].data=p.extend(r[u].data,m);return n=r[u],v||(n.data||(n.data={}),n=n.data),F!==l&&(n[p.camelCase(m)]=F),q?(x=n[m],null==x&&(x=n[p.camelCase(m)])):x=n,x}}},removeData:function(j,l,m){if(p.acceptData(j)){var v,I,x,s=j.nodeType,q=s?p.cache:j,t=s?j[p.expando]:p.expando;if(q[t]){if(l&&(v=m?q[t]:q[t].data)){p.isArray(l)||(l in v?l=[l]:(l=p.camelCase(l),l in v?l=[l]:l=l.split(" ")));I=0;for(x=l.length;I<x;I++)delete v[l[I]];
if(!(m?n:p.isEmptyObject)(v))return}if(!m&&(delete q[t].data,!n(q[t])))return;s?p.cleanData([j],!0):p.support.deleteExpando||q!=q.window?delete q[t]:q[t]=null}}},_data:function(j,l,m){return p.data(j,l,m,!0)},acceptData:function(j){var l=j.nodeName&&p.noData[j.nodeName.toLowerCase()];return!l||!0!==l&&j.getAttribute("classid")===l}});p.fn.extend({data:function(j,C){var F,v,n,x,s,q=this[0],t=0,r=null;if(j===l){if(this.length&&(r=p.data(q),1===q.nodeType&&!p._data(q,"parsedAttrs"))){n=q.attributes;
for(s=n.length;t<s;t++)x=n[t].name,x.indexOf("data-")||(x=p.camelCase(x.substring(5)),m(q,x,r[x]));p._data(q,"parsedAttrs",!0)}return r}return"object"==typeof j?this.each(function(){p.data(this,j)}):(F=j.split(".",2),F[1]=F[1]?"."+F[1]:"",v=F[1]+"!",p.access(this,function(C){if(C===l)return r=this.triggerHandler("getData"+v,[F[0]]),r===l&&q&&(r=p.data(q,j),r=m(q,j,r)),r===l&&F[1]?this.data(F[0]):r;F[1]=C;this.each(function(){var l=p(this);l.triggerHandler("setData"+v,F);p.data(this,j,C);l.triggerHandler("changeData"+
v,F)})},null,C,1<arguments.length,null,!1))},removeData:function(j){return this.each(function(){p.removeData(this,j)})}});p.extend({queue:function(j,l,m){var n;if(j)return l=(l||"fx")+"queue",n=p._data(j,l),m&&(!n||p.isArray(m)?n=p._data(j,l,p.makeArray(m)):n.push(m)),n||[]},dequeue:function(j,l){l=l||"fx";var m=p.queue(j,l),n=m.length,I=m.shift(),x=p._queueHooks(j,l),s=function(){p.dequeue(j,l)};"inprogress"===I&&(I=m.shift(),n--);I&&("fx"===l&&m.unshift("inprogress"),delete x.stop,I.call(j,s,x));
!n&&x&&x.empty.fire()},_queueHooks:function(j,l){var m=l+"queueHooks";return p._data(j,m)||p._data(j,m,{empty:p.Callbacks("once memory").add(function(){p.removeData(j,l+"queue",!0);p.removeData(j,m,!0)})})}});p.fn.extend({queue:function(j,m){var F=2;return"string"!=typeof j&&(m=j,j="fx",F--),arguments.length<F?p.queue(this[0],j):m===l?this:this.each(function(){var l=p.queue(this,j,m);p._queueHooks(this,j);"fx"===j&&"inprogress"!==l[0]&&p.dequeue(this,j)})},dequeue:function(j){return this.each(function(){p.dequeue(this,
j)})},delay:function(j,l){return j=p.fx?p.fx.speeds[j]||j:j,l=l||"fx",this.queue(l,function(l,m){var C=setTimeout(l,j);m.stop=function(){clearTimeout(C)}})},clearQueue:function(j){return this.queue(j||"fx",[])},promise:function(j,m){var F,n=1,I=p.Deferred(),x=this,s=this.length,q=function(){--n||I.resolveWith(x,[x])};"string"!=typeof j&&(m=j,j=l);for(j=j||"fx";s--;)(F=p._data(x[s],j+"queueHooks"))&&F.empty&&(n++,F.empty.add(q));return q(),I.promise(m)}});var ha,Rb,Sb,Tb=/[\t\r\n]/g,Vc=/\r/g,Wc=/^(?:button|input)$/i,
Xc=/^(?:button|input|object|select|textarea)$/i,Yc=/^a(?:rea|)$/i,Ub=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Vb=p.support.getSetAttribute;p.fn.extend({attr:function(j,l){return p.access(this,p.attr,j,l,1<arguments.length)},removeAttr:function(j){return this.each(function(){p.removeAttr(this,j)})},prop:function(j,l){return p.access(this,p.prop,j,l,1<arguments.length)},removeProp:function(j){return j=p.propFix[j]||
j,this.each(function(){try{this[j]=l,delete this[j]}catch(m){}})},addClass:function(j){var l,m,n,I,x,s,q;if(p.isFunction(j))return this.each(function(l){p(this).addClass(j.call(this,l,this.className))});if(j&&"string"==typeof j){l=j.split(la);m=0;for(n=this.length;m<n;m++)if(I=this[m],1===I.nodeType)if(!I.className&&1===l.length)I.className=j;else{x=" "+I.className+" ";s=0;for(q=l.length;s<q;s++)0>x.indexOf(" "+l[s]+" ")&&(x+=l[s]+" ");I.className=p.trim(x)}}return this},removeClass:function(j){var m,
F,n,I,x,s,q;if(p.isFunction(j))return this.each(function(l){p(this).removeClass(j.call(this,l,this.className))});if(j&&"string"==typeof j||j===l){m=(j||"").split(la);s=0;for(q=this.length;s<q;s++)if(n=this[s],1===n.nodeType&&n.className){F=(" "+n.className+" ").replace(Tb," ");I=0;for(x=m.length;I<x;I++)for(;0<=F.indexOf(" "+m[I]+" ");)F=F.replace(" "+m[I]+" "," ");n.className=j?p.trim(F):""}}return this},toggleClass:function(j,l){var m=typeof j,n="boolean"==typeof l;return p.isFunction(j)?this.each(function(m){p(this).toggleClass(j.call(this,
m,this.className,l),l)}):this.each(function(){if("string"===m)for(var I,x=0,s=p(this),q=l,t=j.split(la);I=t[x++];)q=n?q:!s.hasClass(I),s[q?"addClass":"removeClass"](I);else if("undefined"===m||"boolean"===m)this.className&&p._data(this,"__className__",this.className),this.className=this.className||!1===j?"":p._data(this,"__className__")||""})},hasClass:function(j){j=" "+j+" ";for(var l=0,m=this.length;l<m;l++)if(1===this[l].nodeType&&0<=(" "+this[l].className+" ").replace(Tb," ").indexOf(j))return!0;
return!1},val:function(j){var m,F,n,I=this[0];if(arguments.length)return n=p.isFunction(j),this.each(function(F){var s,I=p(this);if(1===this.nodeType&&(n?s=j.call(this,F,I.val()):s=j,null==s?s="":"number"==typeof s?s+="":p.isArray(s)&&(s=p.map(s,function(j){return null==j?"":j+""})),m=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],!m||!("set"in m)||m.set(this,s,"value")===l))this.value=s});if(I)return m=p.valHooks[I.type]||p.valHooks[I.nodeName.toLowerCase()],m&&"get"in m&&(F=m.get(I,
"value"))!==l?F:(F=I.value,"string"==typeof F?F.replace(Vc,""):null==F?"":F)}});p.extend({valHooks:{option:{get:function(j){var l=j.attributes.value;return!l||l.specified?j.value:j.text}},select:{get:function(j){var l,m,n=j.selectedIndex,I=[],x=j.options,s="select-one"===j.type;if(0>n)return null;j=s?n:0;for(m=s?n+1:x.length;j<m;j++)if(l=x[j],l.selected&&(p.support.optDisabled?!l.disabled:null===l.getAttribute("disabled"))&&(!l.parentNode.disabled||!p.nodeName(l.parentNode,"optgroup"))){l=p(l).val();
if(s)return l;I.push(l)}return s&&!I.length&&x.length?p(x[n]).val():I},set:function(j,l){var m=p.makeArray(l);return p(j).find("option").each(function(){this.selected=0<=p.inArray(p(this).val(),m)}),m.length||(j.selectedIndex=-1),m}}},attrFn:{},attr:function(j,m,F,n){var I,x,s=j.nodeType;if(j&&!(3===s||8===s||2===s)){if(n&&p.isFunction(p.fn[m]))return p(j)[m](F);if("undefined"==typeof j.getAttribute)return p.prop(j,m,F);(n=1!==s||!p.isXMLDoc(j))&&(m=m.toLowerCase(),x=p.attrHooks[m]||(Ub.test(m)?Rb:
ha));if(F!==l){if(null===F){p.removeAttr(j,m);return}return x&&"set"in x&&n&&(I=x.set(j,F,m))!==l?I:(j.setAttribute(m,F+""),F)}return x&&"get"in x&&n&&null!==(I=x.get(j,m))?I:(I=j.getAttribute(m),null===I?l:I)}},removeAttr:function(j,l){var m,n,I,x,s=0;if(l&&1===j.nodeType)for(n=l.split(la);s<n.length;s++)(I=n[s])&&(m=p.propFix[I]||I,x=Ub.test(I),x||p.attr(j,I,""),j.removeAttribute(Vb?I:m),x&&m in j&&(j[m]=!1))},attrHooks:{type:{set:function(j,l){if(Wc.test(j.nodeName)&&j.parentNode)p.error("type property can't be changed");
else if(!p.support.radioValue&&"radio"===l&&p.nodeName(j,"input")){var m=j.value;return j.setAttribute("type",l),m&&(j.value=m),l}}},value:{get:function(j,l){return ha&&p.nodeName(j,"button")?ha.get(j,l):l in j?j.value:null},set:function(j,l,m){if(ha&&p.nodeName(j,"button"))return ha.set(j,l,m);j.value=l}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(j,m,n){var v,I,x,s=j.nodeType;if(j&&!(3===s||8===s||2===s))return x=1!==s||!p.isXMLDoc(j),x&&(m=p.propFix[m]||m,I=p.propHooks[m]),n!==l?I&&"set"in I&&(v=I.set(j,n,m))!==l?v:j[m]=n:I&&"get"in I&&null!==(v=I.get(j,m))?v:j[m]},propHooks:{tabIndex:{get:function(j){var m=j.getAttributeNode("tabindex");return m&&m.specified?parseInt(m.value,10):Xc.test(j.nodeName)||Yc.test(j.nodeName)&&j.href?0:l}}}});Rb={get:function(j,
m){var n,v=p.prop(j,m);return!0===v||"boolean"!=typeof v&&(n=j.getAttributeNode(m))&&!1!==n.nodeValue?m.toLowerCase():l},set:function(j,l,m){var n;return!1===l?p.removeAttr(j,m):(n=p.propFix[m]||m,n in j&&(j[n]=!0),j.setAttribute(m,m.toLowerCase())),m}};Vb||(Sb={name:!0,id:!0,coords:!0},ha=p.valHooks.button={get:function(j,m){var p;return p=j.getAttributeNode(m),p&&(Sb[m]?""!==p.value:p.specified)?p.value:l},set:function(j,l,m){var p=j.getAttributeNode(m);return p||(p=J.createAttribute(m),j.setAttributeNode(p)),
p.value=l+""}},p.each(["width","height"],function(j,l){p.attrHooks[l]=p.extend(p.attrHooks[l],{set:function(j,m){if(""===m)return j.setAttribute(l,"auto"),m}})}),p.attrHooks.contenteditable={get:ha.get,set:function(j,l,m){""===l&&(l="false");ha.set(j,l,m)}});p.support.hrefNormalized||p.each(["href","src","width","height"],function(j,m){p.attrHooks[m]=p.extend(p.attrHooks[m],{get:function(j){j=j.getAttribute(m,2);return null===j?l:j}})});p.support.style||(p.attrHooks.style={get:function(j){return j.style.cssText.toLowerCase()||
l},set:function(j,l){return j.style.cssText=l+""}});p.support.optSelected||(p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(j){j=j.parentNode;return j&&(j.selectedIndex,j.parentNode&&j.parentNode.selectedIndex),null}}));p.support.enctype||(p.propFix.enctype="encoding");p.support.checkOn||p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(j){return null===j.getAttribute("value")?"on":j.value}}});p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],
{set:function(j,l){if(p.isArray(l))return j.checked=0<=p.inArray(p(j).val(),l)}})});var lb=/^(?:textarea|input|select)$/i,Wb=/^([^\.]*|)(?:\.(.+)|)$/,Zc=/(?:^|\s)hover(\.\S+|)\b/,$c=/^key/,ad=/^(?:mouse|contextmenu)|click/,Xb=/^(?:focusinfocus|focusoutblur)$/,Yb=function(j){return p.event.special.hover?j:j.replace(Zc,"mouseenter$1 mouseleave$1")};p.event={add:function(j,m,n,v,I){var x,s,q,t,r,u,E,A,z;if(!(3===j.nodeType||8===j.nodeType||!m||!n||!(x=p._data(j)))){n.handler&&(E=n,n=E.handler,I=E.selector);
n.guid||(n.guid=p.guid++);(q=x.events)||(x.events=q={});(s=x.handle)||(x.handle=s=function(j){return"undefined"!=typeof p&&(!j||p.event.triggered!==j.type)?p.event.dispatch.apply(s.elem,arguments):l},s.elem=j);m=p.trim(Yb(m)).split(" ");for(x=0;x<m.length;x++){t=Wb.exec(m[x])||[];r=t[1];u=(t[2]||"").split(".").sort();z=p.event.special[r]||{};r=(I?z.delegateType:z.bindType)||r;z=p.event.special[r]||{};t=p.extend({type:r,origType:t[1],data:v,handler:n,guid:n.guid,selector:I,needsContext:I&&p.expr.match.needsContext.test(I),
namespace:u.join(".")},E);A=q[r];if(!A&&(A=q[r]=[],A.delegateCount=0,!z.setup||!1===z.setup.call(j,v,u,s)))j.addEventListener?j.addEventListener(r,s,!1):j.attachEvent&&j.attachEvent("on"+r,s);z.add&&(z.add.call(j,t),t.handler.guid||(t.handler.guid=n.guid));I?A.splice(A.delegateCount++,0,t):A.push(t);p.event.global[r]=!0}j=null}},global:{},remove:function(j,l,m,n,q){var x,s,t,r,u,E,A,z,G,y,D=p.hasData(j)&&p._data(j);if(D&&(A=D.events)){l=p.trim(Yb(l||"")).split(" ");for(x=0;x<l.length;x++)if(s=Wb.exec(l[x])||
[],t=r=s[1],s=s[2],t){z=p.event.special[t]||{};t=(n?z.delegateType:z.bindType)||t;G=A[t]||[];u=G.length;s=s?RegExp("(^|\\.)"+s.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(E=0;E<G.length;E++)y=G[E],(q||r===y.origType)&&(!m||m.guid===y.guid)&&(!s||s.test(y.namespace))&&(!n||n===y.selector||"**"===n&&y.selector)&&(G.splice(E--,1),y.selector&&G.delegateCount--,z.remove&&z.remove.call(j,y));0===G.length&&u!==G.length&&((!z.teardown||!1===z.teardown.call(j,s,D.handle))&&p.removeEvent(j,
t,D.handle),delete A[t])}else for(t in A)p.event.remove(j,t+l[x],m,n,!0);p.isEmptyObject(A)&&(delete D.handle,p.removeData(j,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(m,C,n,v){if(!n||3!==n.nodeType&&8!==n.nodeType){var q,x,s,t,r,u,E,A=m.type||m;t=[];if(!Xb.test(A+p.event.triggered)&&(0<=A.indexOf("!")&&(A=A.slice(0,-1),q=!0),0<=A.indexOf(".")&&(t=A.split("."),A=t.shift(),t.sort()),n&&!p.event.customEvent[A]||p.event.global[A]))if(m="object"==typeof m?m[p.expando]?
m:new p.Event(A,m):new p.Event(A),m.type=A,m.isTrigger=!0,m.exclusive=q,m.namespace=t.join("."),m.namespace_re=m.namespace?RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t=0>A.indexOf(":")?"on"+A:"",n){if(m.result=l,m.target||(m.target=n),C=null!=C?p.makeArray(C):[],C.unshift(m),r=p.event.special[A]||{},!(r.trigger&&!1===r.trigger.apply(n,C))){E=[[n,r.bindType||A]];if(!v&&!r.noBubble&&!p.isWindow(n)){x=r.delegateType||A;q=Xb.test(x+A)?n:n.parentNode;for(s=n;q;q=q.parentNode)E.push([q,x]),
s=q;s===(n.ownerDocument||J)&&E.push([s.defaultView||s.parentWindow||j,x])}for(x=0;x<E.length&&!m.isPropagationStopped();x++)q=E[x][0],m.type=E[x][1],(u=(p._data(q,"events")||{})[m.type]&&p._data(q,"handle"))&&u.apply(q,C),(u=t&&q[t])&&p.acceptData(q)&&u.apply&&!1===u.apply(q,C)&&m.preventDefault();return m.type=A,!v&&!m.isDefaultPrevented()&&(!r._default||!1===r._default.apply(n.ownerDocument,C))&&("click"!==A||!p.nodeName(n,"a"))&&p.acceptData(n)&&t&&n[A]&&("focus"!==A&&"blur"!==A||0!==m.target.offsetWidth)&&
!p.isWindow(n)&&(s=n[t],s&&(n[t]=null),p.event.triggered=A,n[A](),p.event.triggered=l,s&&(n[t]=s)),m.result}}else for(x in n=p.cache,n)n[x].events&&n[x].events[A]&&p.event.trigger(m,C,n[x].handle.elem,!0)}},dispatch:function(m){m=p.event.fix(m||j.event);var C,n,v,q,x,s,t=(p._data(this,"events")||{})[m.type]||[],r=t.delegateCount,u=fa.call(arguments),A=!m.exclusive&&!m.namespace,E=p.event.special[m.type]||{},z=[];u[0]=m;m.delegateTarget=this;if(!(E.preDispatch&&!1===E.preDispatch.call(this,m))){if(r&&
(!m.button||"click"!==m.type))for(n=m.target;n!=this;n=n.parentNode||this)if(!0!==n.disabled||"click"!==m.type){q={};x=[];for(C=0;C<r;C++)v=t[C],s=v.selector,q[s]===l&&(q[s]=v.needsContext?0<=p(s,this).index(n):p.find(s,this,null,[n]).length),q[s]&&x.push(v);x.length&&z.push({elem:n,matches:x})}t.length>r&&z.push({elem:this,matches:t.slice(r)});for(C=0;C<z.length&&!m.isPropagationStopped();C++){q=z[C];m.currentTarget=q.elem;for(n=0;n<q.matches.length&&!m.isImmediatePropagationStopped();n++)if(v=q.matches[n],
A||!m.namespace&&!v.namespace||m.namespace_re&&m.namespace_re.test(v.namespace))m.data=v.data,m.handleObj=v,v=((p.event.special[v.origType]||{}).handle||v.handler).apply(q.elem,u),v!==l&&(m.result=v,!1===v&&(m.preventDefault(),m.stopPropagation()))}return E.postDispatch&&E.postDispatch.call(this,m),m.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},
keyHooks:{props:["char","charCode","key","keyCode"],filter:function(j,l){return null==j.which&&(j.which=null!=l.charCode?l.charCode:l.keyCode),j}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(j,m){var p,n,q,x=m.button,s=m.fromElement;return null==j.pageX&&null!=m.clientX&&(p=j.target.ownerDocument||J,n=p.documentElement,q=p.body,j.pageX=m.clientX+(n&&n.scrollLeft||q&&q.scrollLeft||0)-(n&&n.clientLeft||
q&&q.clientLeft||0),j.pageY=m.clientY+(n&&n.scrollTop||q&&q.scrollTop||0)-(n&&n.clientTop||q&&q.clientTop||0)),!j.relatedTarget&&s&&(j.relatedTarget=s===j.target?m.toElement:s),!j.which&&x!==l&&(j.which=x&1?1:x&2?3:x&4?2:0),j}},fix:function(j){if(j[p.expando])return j;var l,m,n=j,q=p.event.fixHooks[j.type]||{},x=q.props?this.props.concat(q.props):this.props;j=p.Event(n);for(l=x.length;l;)m=x[--l],j[m]=n[m];return j.target||(j.target=n.srcElement||J),3===j.target.nodeType&&(j.target=j.target.parentNode),
j.metaKey=!!j.metaKey,q.filter?q.filter(j,n):j},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(j,l,m){p.isWindow(this)&&(this.onbeforeunload=m)},teardown:function(j,l){this.onbeforeunload===l&&(this.onbeforeunload=null)}}},simulate:function(j,l,m,n){j=p.extend(new p.Event,m,{type:j,isSimulated:!0,originalEvent:{}});n?p.event.trigger(j,null,l):p.event.dispatch.call(l,j);j.isDefaultPrevented()&&m.preventDefault()}};p.event.handle=
p.event.dispatch;p.removeEvent=J.removeEventListener?function(j,l,m){j.removeEventListener&&j.removeEventListener(l,m,!1)}:function(j,l,m){l="on"+l;j.detachEvent&&("undefined"==typeof j[l]&&(j[l]=null),j.detachEvent(l,m))};p.Event=function(j,l){if(this instanceof p.Event)j&&j.type?(this.originalEvent=j,this.type=j.type,this.isDefaultPrevented=j.defaultPrevented||!1===j.returnValue||j.getPreventDefault&&j.getPreventDefault()?r:q):this.type=j,l&&p.extend(this,l),this.timeStamp=j&&j.timeStamp||p.now(),
this[p.expando]=!0;else return new p.Event(j,l)};p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=r;var j=this.originalEvent;j&&(j.preventDefault?j.preventDefault():j.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=r;var j=this.originalEvent;j&&(j.stopPropagation&&j.stopPropagation(),j.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r;this.stopPropagation()},isDefaultPrevented:q,isPropagationStopped:q,isImmediatePropagationStopped:q};
p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(j,l){p.event.special[j]={delegateType:l,bindType:l,handle:function(j){var m,H=j.relatedTarget,n=j.handleObj;if(!H||H!==this&&!p.contains(this,H))j.type=n.origType,m=n.handler.apply(this,arguments),j.type=l;return m}}});p.support.submitBubbles||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",function(j){j=j.target;(j=p.nodeName(j,"input")||p.nodeName(j,"button")?
j.form:l)&&!p._data(j,"_submit_attached")&&(p.event.add(j,"submit._submit",function(j){j._submit_bubble=!0}),p._data(j,"_submit_attached",!0))})},postDispatch:function(j){j._submit_bubble&&(delete j._submit_bubble,this.parentNode&&!j.isTrigger&&p.event.simulate("submit",this.parentNode,j,!0))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}});p.support.changeBubbles||(p.event.special.change={setup:function(){if(lb.test(this.nodeName)){if("checkbox"===this.type||
"radio"===this.type)p.event.add(this,"propertychange._change",function(j){"checked"===j.originalEvent.propertyName&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(j){this._just_changed&&!j.isTrigger&&(this._just_changed=!1);p.event.simulate("change",this,j,!0)});return!1}p.event.add(this,"beforeactivate._change",function(j){j=j.target;lb.test(j.nodeName)&&!p._data(j,"_change_attached")&&(p.event.add(j,"change._change",function(j){this.parentNode&&!j.isSimulated&&!j.isTrigger&&
p.event.simulate("change",this.parentNode,j,!0)}),p._data(j,"_change_attached",!0))})},handle:function(j){var l=j.target;if(this!==l||j.isSimulated||j.isTrigger||"radio"!==l.type&&"checkbox"!==l.type)return j.handleObj.handler.apply(this,arguments)},teardown:function(){return p.event.remove(this,"._change"),!lb.test(this.nodeName)}});p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(j,l){var m=0,n=function(j){p.event.simulate(l,j.target,p.event.fix(j),!0)};p.event.special[l]=
{setup:function(){0===m++&&J.addEventListener(j,n,!0)},teardown:function(){0===--m&&J.removeEventListener(j,n,!0)}}});p.fn.extend({on:function(j,m,n,v,t){var x,s;if("object"==typeof j){"string"!=typeof m&&(n=n||m,m=l);for(s in j)this.on(s,m,n,j[s],t);return this}null==n&&null==v?(v=m,n=m=l):null==v&&("string"==typeof m?(v=n,n=l):(v=n,n=m,m=l));if(!1===v)v=q;else if(!v)return this;return 1===t&&(x=v,v=function(j){return p().off(j),x.apply(this,arguments)},v.guid=x.guid||(x.guid=p.guid++)),this.each(function(){p.event.add(this,
j,v,n,m)})},one:function(j,l,m,p){return this.on(j,l,m,p,1)},off:function(j,m,n){var v,t;if(j&&j.preventDefault&&j.handleObj)return v=j.handleObj,p(j.delegateTarget).off(v.namespace?v.origType+"."+v.namespace:v.origType,v.selector,v.handler),this;if("object"==typeof j){for(t in j)this.off(t,m,j[t]);return this}if(!1===m||"function"==typeof m)n=m,m=l;return!1===n&&(n=q),this.each(function(){p.event.remove(this,j,n,m)})},bind:function(j,l,m){return this.on(j,null,l,m)},unbind:function(j,l){return this.off(j,
null,l)},live:function(j,l,m){return p(this.context).on(j,this.selector,l,m),this},die:function(j,l){return p(this.context).off(j,this.selector||"**",l),this},delegate:function(j,l,m,p){return this.on(l,j,m,p)},undelegate:function(j,l,m){return 1===arguments.length?this.off(j,"**"):this.off(l,j||"**",m)},trigger:function(j,l){return this.each(function(){p.event.trigger(j,l,this)})},triggerHandler:function(j,l){if(this[0])return p.event.trigger(j,l,this[0],!0)},toggle:function(j){var l=arguments,m=
j.guid||p.guid++,n=0,q=function(m){var F=(p._data(this,"lastToggle"+j.guid)||0)%n;return p._data(this,"lastToggle"+j.guid,F+1),m.preventDefault(),l[F].apply(this,arguments)||!1};for(q.guid=m;n<l.length;)l[n++].guid=m;return this.click(q)},hover:function(j,l){return this.mouseenter(j).mouseleave(l||j)}});p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(j,l){p.fn[l]=function(j,m){return null==m&&(m=j,j=null),0<arguments.length?this.on(l,null,j,m):this.trigger(l)};$c.test(l)&&(p.event.fixHooks[l]=p.event.keyHooks);ad.test(l)&&(p.event.fixHooks[l]=p.event.mouseHooks)});var bd=j,M=function(j,l,m,p){m=m||[];l=l||ca;var n,q,s,t,r=l.nodeType;if(!j||"string"!=typeof j)return m;if(1!==r&&9!==r)return[];s=Ra(l);if(!s&&!p&&(n=cd.exec(j)))if(t=n[1])if(9===r){q=l.getElementById(t);if(!q||!q.parentNode)return m;if(q.id===t)return m.push(q),m}else{if(l.ownerDocument&&
(q=l.ownerDocument.getElementById(t))&&Zb(l,q)&&q.id===t)return m.push(q),m}else{if(n[2])return ta.apply(m,ua.call(l.getElementsByTagName(j),0)),m;if((t=n[3])&&$b&&l.getElementsByClassName)return ta.apply(m,ua.call(l.getElementsByClassName(t),0)),m}return mb(j.replace(Sa,"$1"),l,m,p,s)},Aa=function(j){return function(l){return"input"===l.nodeName.toLowerCase()&&l.type===j}},ac=function(j){return function(l){var m=l.nodeName.toLowerCase();return("input"===m||"button"===m)&&l.type===j}},oa=function(j){return da(function(l){return l=
+l,da(function(m,p){for(var n,q=j([],m.length,l),s=q.length;s--;)m[n=q[s]]&&(m[n]=!(p[n]=m[n]))})})},Ta=function(j,l,m){if(j===l)return m;for(j=j.nextSibling;j;){if(j===l)return-1;j=j.nextSibling}return 1},Va=function(j,l){var m,p,n,q,s,t,r;if(s=bc[T][j])return l?0:s.slice(0);s=j;t=[];for(r=N.preFilter;s;){if(!m||(p=dd.exec(s)))p&&(s=s.slice(p[0].length)),t.push(n=[]);m=!1;if(p=ed.exec(s))n.push(m=new cc(p.shift())),s=s.slice(m.length),m.type=p[0].replace(Sa," ");for(q in N.filter)(p=Ua[q].exec(s))&&
(!r[q]||(p=r[q](p,ca,!0)))&&(n.push(m=new cc(p.shift())),s=s.slice(m.length),m.type=q,m.matches=p);if(!m)break}return l?s.length:s?M.error(j):bc(j,t).slice(0)},ob=function(j,l,m){var p=l.dir,n=m&&"parentNode"===l.dir,q=fd++;return l.first?function(l,m,C){for(;l=l[p];)if(n||1===l.nodeType)return j(l,m,C)}:function(l,m,C){if(C)for(;l=l[p];){if((n||1===l.nodeType)&&j(l,m,C))return l}else for(var F,t=Ba+" "+q+" ",r=t+nb;l=l[p];)if(n||1===l.nodeType){if((F=l[T])===r)return l.sizset;if("string"==typeof F&&
0===F.indexOf(t)){if(l.sizset)return l}else{l[T]=r;if(j(l,m,C))return l.sizset=!0,l;l.sizset=!1}}}},pb=function(j){return 1<j.length?function(l,m,p){for(var n=j.length;n--;)if(!j[n](l,m,p))return!1;return!0}:j[0]},Wa=function(j,l,m,p,n){for(var q,s=[],t=0,r=j.length,u=null!=l;t<r;t++)if(q=j[t])if(!m||m(q,p,n))s.push(q),u&&l.push(t);return s},qb=function(j,l,m,p,n,q){return p&&!p[T]&&(p=qb(p)),n&&!n[T]&&(n=qb(n,q)),da(function(q,x,t,r){if(!q||!n){var u,A,E=[],z=[],G=x.length;if(!(A=q)){A=l||"*";var y=
t.nodeType?[t]:t,D=[];u=0;for(var R=y.length;u<R;u++)M(A,y[u],D,q);A=D}y=j&&(q||!l)?Wa(A,E,j,t,r):A;D=m?n||(q?j:G||p)?[]:x:y;m&&m(y,D,t,r);if(p){A=Wa(D,z);p(A,[],t,r);for(t=A.length;t--;)if(u=A[t])D[z[t]]=!(y[z[t]]=u)}if(q)for(t=j&&D.length;t--;){if(u=D[t])q[E[t]]=!(x[E[t]]=u)}else D=Wa(D===x?D.splice(G,D.length):D),n?n(null,x,D,r):ta.apply(x,D)}})},rb=function(j){var l,m,p,n=j.length,q=N.relative[j[0].type];m=q||N.relative[" "];for(var s=q?1:0,t=ob(function(j){return j===l},m,!0),r=ob(function(j){return-1<
dc.call(l,j)},m,!0),u=[function(j,m,p){return!q&&(p||m!==Xa)||((l=m).nodeType?t(j,m,p):r(j,m,p))}];s<n;s++)if(m=N.relative[j[s].type])u=[ob(pb(u),m)];else{m=N.filter[j[s].type].apply(null,j[s].matches);if(m[T]){for(p=++s;p<n&&!N.relative[j[p].type];p++);return qb(1<s&&pb(u),1<s&&j.slice(0,s-1).join("").replace(Sa,"$1"),m,s<p&&rb(j.slice(s,p)),p<n&&rb(j=j.slice(p)),p<n&&j.join(""))}u.push(m)}return pb(u)},mb=function(j,l,m,p,n){var q,s,t,r,u=Va(j);if(!p&&1===u.length){s=u[0]=u[0].slice(0);if(2<s.length&&
"ID"===(t=s[0]).type&&9===l.nodeType&&!n&&N.relative[s[1].type]){l=N.find.ID(t.matches[0].replace(pa,""),l,n)[0];if(!l)return m;j=j.slice(s.shift().length)}for(q=Ua.POS.test(j)?-1:s.length-1;0<=q;q--){t=s[q];if(N.relative[r=t.type])break;if(r=N.find[r])if(p=r(t.matches[0].replace(pa,""),sb.test(s[0].type)&&l.parentNode||l,n)){s.splice(q,1);j=p.length&&s.join("");if(!j)return ta.apply(m,ua.call(p,0)),m;break}}}return tb(j,u)(p,l,n,m,sb.test(j)),m},ec=function(){},nb,ub,N,Ya,Ra,Zb,tb,vb,Ca,Xa,fc=!0,
T=("sizcache"+Math.random()).replace(".",""),cc=String,ca=bd.document,ba=ca.documentElement,Ba=0,fd=0,gd=[].pop,ta=[].push,ua=[].slice,dc=[].indexOf||function(j){for(var l=0,m=this.length;l<m;l++)if(this[l]===j)return l;return-1},da=function(j,l){return j[T]=null==l||l,j},wb=function(){var j={},l=[];return da(function(m,p){return l.push(m)>N.cacheLength&&delete j[l.shift()],j[m]=p},j)},gc=wb(),bc=wb(),hc=wb(),ic="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",xb=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+ic+")|[^:]|\\\\.)*|.*))\\)|)",Sa=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,dd=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ed=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,hd=RegExp(xb),cd=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,sb=/[\x20\t\r\n\f]*[+~]/,id=/h\d/i,jd=/input|select|textarea|button/i,pa=/\\(?!\\)/g,
Ua={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+ic),PSEUDO:RegExp("^"+xb),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},ia=function(j){var l=ca.createElement("div");try{return j(l)}catch(m){return!1}finally{}},kd=ia(function(j){return j.appendChild(ca.createComment("")),!j.getElementsByTagName("*").length}),ld=ia(function(j){return j.innerHTML="<a href='#'></a>",j.firstChild&&"undefined"!==typeof j.firstChild.getAttribute&&"#"===j.firstChild.getAttribute("href")}),
md=ia(function(j){j.innerHTML="<select></select>";j=typeof j.lastChild.getAttribute("multiple");return"boolean"!==j&&"string"!==j}),$b=ia(function(j){return j.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!j.getElementsByClassName||!j.getElementsByClassName("e").length?!1:(j.lastChild.className="e",2===j.getElementsByClassName("e").length)}),nd=ia(function(j){j.id=T+0;j.innerHTML="<a name='"+T+"'></a><div name='"+T+"'></div>";ba.insertBefore(j,ba.firstChild);var l=ca.getElementsByName&&
ca.getElementsByName(T).length===2+ca.getElementsByName(T+0).length;return ub=!ca.getElementById(T),ba.removeChild(j),l});try{ua.call(ba.childNodes,0)[0].nodeType}catch(Xd){ua=function(j){for(var l,m=[];l=this[j];j++)m.push(l);return m}}M.matches=function(j,l){return M(j,null,null,l)};M.matchesSelector=function(j,l){return 0<M(l,null,null,[j]).length};Ya=M.getText=function(j){var l,m="",p=0;if(l=j.nodeType)if(1===l||9===l||11===l){if("string"==typeof j.textContent)return j.textContent;for(j=j.firstChild;j;j=
j.nextSibling)m+=Ya(j)}else{if(3===l||4===l)return j.nodeValue}else for(;l=j[p];p++)m+=Ya(l);return m};Ra=M.isXML=function(j){return(j=j&&(j.ownerDocument||j).documentElement)?"HTML"!==j.nodeName:!1};Zb=M.contains=ba.contains?function(j,l){var m=9===j.nodeType?j.documentElement:j,p=l&&l.parentNode;return j===p||!(!p||!(1===p.nodeType&&m.contains&&m.contains(p)))}:ba.compareDocumentPosition?function(j,l){return l&&!!(j.compareDocumentPosition(l)&16)}:function(j,l){for(;l=l.parentNode;)if(l===j)return!0;
return!1};M.attr=function(j,l){var m,p=Ra(j);return p||(l=l.toLowerCase()),(m=N.attrHandle[l])?m(j):p||md?j.getAttribute(l):(m=j.getAttributeNode(l),m?"boolean"==typeof j[l]?j[l]?l:null:m.specified?m.value:null:null)};N=M.selectors={cacheLength:50,createPseudo:da,match:Ua,attrHandle:ld?{}:{href:function(j){return j.getAttribute("href",2)},type:function(j){return j.getAttribute("type")}},find:{ID:ub?function(j,l,m){if("undefined"!==typeof l.getElementById&&!m)return(j=l.getElementById(j))&&j.parentNode?
[j]:[]}:function(j,l,m){if("undefined"!==typeof l.getElementById&&!m)return(l=l.getElementById(j))?l.id===j||"undefined"!==typeof l.getAttributeNode&&l.getAttributeNode("id").value===j?[l]:void 0:[]},TAG:kd?function(j,l){if("undefined"!==typeof l.getElementsByTagName)return l.getElementsByTagName(j)}:function(j,l){var m=l.getElementsByTagName(j);if("*"===j){for(var p,n=[],q=0;p=m[q];q++)1===p.nodeType&&n.push(p);return n}return m},NAME:nd&&function(j,l){if("undefined"!==typeof l.getElementsByName)return l.getElementsByName(name)},
CLASS:$b&&function(j,l,m){if("undefined"!==typeof l.getElementsByClassName&&!m)return l.getElementsByClassName(j)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(j){return j[1]=j[1].replace(pa,""),j[3]=(j[4]||j[5]||"").replace(pa,""),"~="===j[2]&&(j[3]=" "+j[3]+" "),j.slice(0,4)},CHILD:function(j){return j[1]=j[1].toLowerCase(),"nth"===j[1]?(j[2]||M.error(j[0]),j[3]=+(j[3]?j[4]+(j[5]||1):
2*("even"===j[2]||"odd"===j[2])),j[4]=+(j[6]+j[7]||"odd"===j[2])):j[2]&&M.error(j[0]),j},PSEUDO:function(j){var l,m;if(Ua.CHILD.test(j[0]))return null;if(j[3])j[2]=j[3];else if(l=j[4])hd.test(l)&&(m=Va(l,!0))&&(m=l.indexOf(")",l.length-m)-l.length)&&(l=l.slice(0,m),j[0]=j[0].slice(0,m)),j[2]=l;return j.slice(0,3)}},filter:{ID:ub?function(j){return j=j.replace(pa,""),function(l){return l.getAttribute("id")===j}}:function(j){return j=j.replace(pa,""),function(l){return(l="undefined"!==typeof l.getAttributeNode&&
l.getAttributeNode("id"))&&l.value===j}},TAG:function(j){return"*"===j?function(){return!0}:(j=j.replace(pa,"").toLowerCase(),function(l){return l.nodeName&&l.nodeName.toLowerCase()===j})},CLASS:function(j){var l=gc[T][j];return l||(l=gc(j,RegExp("(^|[\\x20\\t\\r\\n\\f])"+j+"([\\x20\\t\\r\\n\\f]|$)"))),function(j){return l.test(j.className||"undefined"!==typeof j.getAttribute&&j.getAttribute("class")||"")}},ATTR:function(j,l,m){return function(p){p=M.attr(p,j);return null==p?"!="===l:l?(p+="","="===
l?p===m:"!="===l?p!==m:"^="===l?m&&0===p.indexOf(m):"*="===l?m&&-1<p.indexOf(m):"$="===l?m&&p.substr(p.length-m.length)===m:"~="===l?-1<(" "+p+" ").indexOf(m):"|="===l?p===m||p.substr(0,m.length+1)===m+"-":!1):!0}},CHILD:function(j,l,m,p){return"nth"===j?function(j){var l,n;l=j.parentNode;if(1===m&&0===p)return!0;if(l){n=0;for(l=l.firstChild;l&&!(1===l.nodeType&&(n++,j===l));l=l.nextSibling);}return n-=p,n===m||0===n%m&&0<=n/m}:function(l){var m=l;switch(j){case "only":case "first":for(;m=m.previousSibling;)if(1===
m.nodeType)return!1;if("first"===j)return!0;m=l;case "last":for(;m=m.nextSibling;)if(1===m.nodeType)return!1;return!0}}},PSEUDO:function(j,l){var m,p=N.pseudos[j]||N.setFilters[j.toLowerCase()]||M.error("unsupported pseudo: "+j);return p[T]?p(l):1<p.length?(m=[j,j,"",l],N.setFilters.hasOwnProperty(j.toLowerCase())?da(function(j,m){for(var n,H=p(j,l),q=H.length;q--;)n=dc.call(j,H[q]),j[n]=!(m[n]=H[q])}):function(j){return p(j,0,m)}):p}},pseudos:{not:da(function(j){var l=[],m=[],p=tb(j.replace(Sa,"$1"));
return p[T]?da(function(j,l,m,n){n=p(j,null,n,[]);for(var H=j.length;H--;)if(m=n[H])j[H]=!(l[H]=m)}):function(j,n,H){return l[0]=j,p(l,null,H,m),!m.pop()}}),has:da(function(j){return function(l){return 0<M(j,l).length}}),contains:da(function(j){return function(l){return-1<(l.textContent||l.innerText||Ya(l)).indexOf(j)}}),enabled:function(j){return!1===j.disabled},disabled:function(j){return!0===j.disabled},checked:function(j){var l=j.nodeName.toLowerCase();return"input"===l&&!!j.checked||"option"===
l&&!!j.selected},selected:function(j){return j.parentNode&&j.parentNode.selectedIndex,!0===j.selected},parent:function(j){return!N.pseudos.empty(j)},empty:function(j){var l;for(j=j.firstChild;j;){if("@"<j.nodeName||3===(l=j.nodeType)||4===l)return!1;j=j.nextSibling}return!0},header:function(j){return id.test(j.nodeName)},text:function(j){var l,m;return"input"===j.nodeName.toLowerCase()&&"text"===(l=j.type)&&(null==(m=j.getAttribute("type"))||m.toLowerCase()===l)},radio:Aa("radio"),checkbox:Aa("checkbox"),
file:Aa("file"),password:Aa("password"),image:Aa("image"),submit:ac("submit"),reset:ac("reset"),button:function(j){var l=j.nodeName.toLowerCase();return"input"===l&&"button"===j.type||"button"===l},input:function(j){return jd.test(j.nodeName)},focus:function(j){var l=j.ownerDocument;return j===l.activeElement&&(!l.hasFocus||l.hasFocus())&&(!!j.type||!!j.href)},active:function(j){return j===j.ownerDocument.activeElement},first:oa(function(){return[0]}),last:oa(function(j,l){return[l-1]}),eq:oa(function(j,
l,m){return[0>m?m+l:m]}),even:oa(function(j,l){for(var m=0;m<l;m+=2)j.push(m);return j}),odd:oa(function(j,l){for(var m=1;m<l;m+=2)j.push(m);return j}),lt:oa(function(j,l,m){for(l=0>m?m+l:m;0<=--l;)j.push(l);return j}),gt:oa(function(j,l,m){for(m=0>m?m+l:m;++m<l;)j.push(m);return j})}};vb=ba.compareDocumentPosition?function(j,l){return j===l?(Ca=!0,0):(!j.compareDocumentPosition||!l.compareDocumentPosition?j.compareDocumentPosition:j.compareDocumentPosition(l)&4)?-1:1}:function(j,l){if(j===l)return Ca=
!0,0;if(j.sourceIndex&&l.sourceIndex)return j.sourceIndex-l.sourceIndex;var m,p,n=[],q=[];m=j.parentNode;p=l.parentNode;var s=m;if(m===p)return Ta(j,l);if(!m)return-1;if(!p)return 1;for(;s;)n.unshift(s),s=s.parentNode;for(s=p;s;)q.unshift(s),s=s.parentNode;m=n.length;p=q.length;for(s=0;s<m&&s<p;s++)if(n[s]!==q[s])return Ta(n[s],q[s]);return s===m?Ta(j,q[s],-1):Ta(n[s],l,1)};[0,0].sort(vb);fc=!Ca;M.uniqueSort=function(j){var l,m=1;Ca=fc;j.sort(vb);if(Ca)for(;l=j[m];m++)l===j[m-1]&&j.splice(m--,1);
return j};M.error=function(j){throw Error("Syntax error, unrecognized expression: "+j);};tb=M.compile=function(j,l){var m,p=[],n=[],q=hc[T][j];if(!q){l||(l=Va(j));for(m=l.length;m--;)q=rb(l[m]),q[T]?p.push(q):n.push(q);var s=0<p.length,t=0<n.length,r=function(j,l,m,H,q){var C,F,x=[],u=0,A="0",E=j&&[],z=null!=q,D=Xa,G=j||t&&N.find.TAG("*",q&&l.parentNode||l),y=Ba+=null==D?1:Math.E;for(z&&(Xa=l!==ca&&l,nb=r.el);null!=(q=G[A]);A++){if(t&&q){for(C=0;F=n[C];C++)if(F(q,l,m)){H.push(q);break}z&&(Ba=y,nb=
++r.el)}s&&((q=!F&&q)&&u--,j&&E.push(q))}u+=A;if(s&&A!==u){for(C=0;F=p[C];C++)F(E,x,l,m);if(j){if(0<u)for(;A--;)!E[A]&&!x[A]&&(x[A]=gd.call(H));x=Wa(x)}ta.apply(H,x);z&&!j&&0<x.length&&1<u+p.length&&M.uniqueSort(H)}return z&&(Ba=y,Xa=D),E};m=(r.el=0,s?da(r):r);q=hc(j,m)}return q};if(ca.querySelectorAll){var jc,od=mb,pd=/'|\\/g,qd=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ea=[":focus"],Za=[":active",":focus"],$a=ba.matchesSelector||ba.mozMatchesSelector||ba.webkitMatchesSelector||ba.oMatchesSelector||
ba.msMatchesSelector;ia(function(j){j.innerHTML="<select><option selected=''></option></select>";j.querySelectorAll("[selected]").length||ea.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");j.querySelectorAll(":checked").length||ea.push(":checked")});ia(function(j){j.innerHTML="<p test=''></p>";j.querySelectorAll("[test^='']").length&&ea.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");j.innerHTML="<input type='hidden'/>";j.querySelectorAll(":enabled").length||
ea.push(":enabled",":disabled")});ea=RegExp(ea.join("|"));mb=function(j,l,m,p,n){if(!p&&!n&&(!ea||!ea.test(j))){var q,s,t=!0,r=T;s=l;q=9===l.nodeType&&j;if(1===l.nodeType&&"object"!==l.nodeName.toLowerCase()){q=Va(j);(t=l.getAttribute("id"))?r=t.replace(pd,"\\$&"):l.setAttribute("id",r);r="[id='"+r+"'] ";for(s=q.length;s--;)q[s]=r+q[s].join("");s=sb.test(j)&&l.parentNode||l;q=q.join(",")}if(q)try{return ta.apply(m,ua.call(s.querySelectorAll(q),0)),m}catch(u){}finally{t||l.removeAttribute("id")}}return od(j,
l,m,p,n)};$a&&(ia(function(j){jc=$a.call(j,"div");try{$a.call(j,"[test!='']:sizzle"),Za.push("!=",xb)}catch(l){}}),Za=RegExp(Za.join("|")),M.matchesSelector=function(j,l){l=l.replace(qd,"='$1']");if(!Ra(j)&&!Za.test(l)&&(!ea||!ea.test(l)))try{var m=$a.call(j,l);if(m||jc||j.document&&11!==j.document.nodeType)return m}catch(p){}return 0<M(l,null,null,[j]).length})}N.pseudos.nth=N.pseudos.eq;N.filters=ec.prototype=N.pseudos;N.setFilters=new ec;M.attr=p.attr;p.find=M;p.expr=M.selectors;p.expr[":"]=p.expr.pseudos;
p.unique=M.uniqueSort;p.text=M.getText;p.isXMLDoc=M.isXML;p.contains=M.contains;var rd=/Until$/,sd=/^(?:parents|prev(?:Until|All))/,Bc=/^.[^:#\[\.,]*$/,kc=p.expr.match.needsContext,td={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({find:function(j){var l,m,n,q,t,s,r=this;if("string"!=typeof j)return p(j).filter(function(){l=0;for(m=r.length;l<m;l++)if(p.contains(r[l],this))return!0});s=this.pushStack("","find",j);l=0;for(m=this.length;l<m;l++)if(n=s.length,p.find(j,this[l],s),0<l)for(q=n;q<
s.length;q++)for(t=0;t<n;t++)if(s[t]===s[q]){s.splice(q--,1);break}return s},has:function(j){var l,m=p(j,this),n=m.length;return this.filter(function(){for(l=0;l<n;l++)if(p.contains(this,m[l]))return!0})},not:function(j){return this.pushStack(z(this,j,!1),"not",j)},filter:function(j){return this.pushStack(z(this,j,!0),"filter",j)},is:function(j){return!!j&&("string"==typeof j?kc.test(j)?0<=p(j,this.context).index(this[0]):0<p.filter(j,this).length:0<this.filter(j).length)},closest:function(j,l){for(var m,
n=0,q=this.length,t=[],s=kc.test(j)||"string"!=typeof j?p(j,l||this.context):0;n<q;n++)for(m=this[n];m&&m.ownerDocument&&m!==l&&11!==m.nodeType;){if(s?-1<s.index(m):p.find.matchesSelector(m,j)){t.push(m);break}m=m.parentNode}return t=1<t.length?p.unique(t):t,this.pushStack(t,"closest",j)},index:function(j){return j?"string"==typeof j?p.inArray(this[0],p(j)):p.inArray(j.jquery?j[0]:j,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(j,l){var m="string"==typeof j?p(j,l):p.makeArray(j&&
j.nodeType?[j]:j),n=p.merge(this.get(),m);return this.pushStack(B(m[0])||B(n[0])?n:p.unique(n))},addBack:function(j){return this.add(null==j?this.prevObject:this.prevObject.filter(j))}});p.fn.andSelf=p.fn.addBack;p.each({parent:function(j){return(j=j.parentNode)&&11!==j.nodeType?j:null},parents:function(j){return p.dir(j,"parentNode")},parentsUntil:function(j,l,m){return p.dir(j,"parentNode",m)},next:function(j){return u(j,"nextSibling")},prev:function(j){return u(j,"previousSibling")},nextAll:function(j){return p.dir(j,
"nextSibling")},prevAll:function(j){return p.dir(j,"previousSibling")},nextUntil:function(j,l,m){return p.dir(j,"nextSibling",m)},prevUntil:function(j,l,m){return p.dir(j,"previousSibling",m)},siblings:function(j){return p.sibling((j.parentNode||{}).firstChild,j)},children:function(j){return p.sibling(j.firstChild)},contents:function(j){return p.nodeName(j,"iframe")?j.contentDocument||j.contentWindow.document:p.merge([],j.childNodes)}},function(j,l){p.fn[j]=function(m,n){var q=p.map(this,l,m);return rd.test(j)||
(n=m),n&&"string"==typeof n&&(q=p.filter(n,q)),q=1<this.length&&!td[j]?p.unique(q):q,1<this.length&&sd.test(j)&&(q=q.reverse()),this.pushStack(q,j,fa.call(arguments).join(","))}});p.extend({filter:function(j,l,m){return m&&(j=":not("+j+")"),1===l.length?p.find.matchesSelector(l[0],j)?[l[0]]:[]:p.find.matches(j,l)},dir:function(j,m,n){var q=[];for(j=j[m];j&&9!==j.nodeType&&(n===l||1!==j.nodeType||!p(j).is(n));)1===j.nodeType&&q.push(j),j=j[m];return q},sibling:function(j,l){for(var m=[];j;j=j.nextSibling)1===
j.nodeType&&j!==l&&m.push(j);return m}});var Eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ud=/ jQuery\d+="(?:null|\d+)"/g,yb=/^\s+/,lc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,mc=/<([\w:]+)/,vd=/<tbody/i,wd=/<|&#?\w+;/,xd=/<(?:script|style|link)/i,yd=/<(?:script|object|embed|option|style)/i,zb=RegExp("<(?:"+Eb+")[\\s/>]","i"),Fb=/^(?:checkbox|radio)$/,
nc=/checked\s*(?:[^=]|=\s*.checked.)/i,zd=/\/(java|ecma)script/i,Ad=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Z={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},oc=D(J),Ab=oc.appendChild(J.createElement("div"));Z.optgroup=
Z.option;Z.tbody=Z.tfoot=Z.colgroup=Z.caption=Z.thead;Z.th=Z.td;p.support.htmlSerialize||(Z._default=[1,"X<div>","</div>"]);p.fn.extend({text:function(j){return p.access(this,function(j){return j===l?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(j))},null,j,arguments.length)},wrapAll:function(j){if(p.isFunction(j))return this.each(function(l){p(this).wrapAll(j.call(this,l))});if(this[0]){var l=p(j,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&l.insertBefore(this[0]);
l.map(function(){for(var j=this;j.firstChild&&1===j.firstChild.nodeType;)j=j.firstChild;return j}).append(this)}return this},wrapInner:function(j){return p.isFunction(j)?this.each(function(l){p(this).wrapInner(j.call(this,l))}):this.each(function(){var l=p(this),m=l.contents();m.length?m.wrapAll(j):l.append(j)})},wrap:function(j){var l=p.isFunction(j);return this.each(function(m){p(this).wrapAll(l?j.call(this,m):j)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||
p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(j){(1===this.nodeType||11===this.nodeType)&&this.appendChild(j)})},prepend:function(){return this.domManip(arguments,!0,function(j){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(j,this.firstChild)})},before:function(){if(!B(this[0]))return this.domManip(arguments,!1,function(j){this.parentNode.insertBefore(j,this)});if(arguments.length){var j=p.clean(arguments);return this.pushStack(p.merge(j,
this),"before",this.selector)}},after:function(){if(!B(this[0]))return this.domManip(arguments,!1,function(j){this.parentNode.insertBefore(j,this.nextSibling)});if(arguments.length){var j=p.clean(arguments);return this.pushStack(p.merge(this,j),"after",this.selector)}},remove:function(j,l){for(var m,n=0;null!=(m=this[n]);n++)if(!j||p.filter(j,[m]).length)!l&&1===m.nodeType&&(p.cleanData(m.getElementsByTagName("*")),p.cleanData([m])),m.parentNode&&m.parentNode.removeChild(m);return this},empty:function(){for(var j,
l=0;null!=(j=this[l]);l++)for(1===j.nodeType&&p.cleanData(j.getElementsByTagName("*"));j.firstChild;)j.removeChild(j.firstChild);return this},clone:function(j,l){return j=null==j?!1:j,l=null==l?j:l,this.map(function(){return p.clone(this,j,l)})},html:function(j){return p.access(this,function(j){var m=this[0]||{},n=0,q=this.length;if(j===l)return 1===m.nodeType?m.innerHTML.replace(ud,""):l;if("string"==typeof j&&!xd.test(j)&&(p.support.htmlSerialize||!zb.test(j))&&(p.support.leadingWhitespace||!yb.test(j))&&
!Z[(mc.exec(j)||["",""])[1].toLowerCase()]){j=j.replace(lc,"<$1></$2>");try{for(;n<q;n++)m=this[n]||{},1===m.nodeType&&(p.cleanData(m.getElementsByTagName("*")),m.innerHTML=j);m=0}catch(H){}}m&&this.empty().append(j)},null,j,arguments.length)},replaceWith:function(j){return B(this[0])?this.length?this.pushStack(p(p.isFunction(j)?j():j),"replaceWith",j):this:p.isFunction(j)?this.each(function(l){var m=p(this),n=m.html();m.replaceWith(j.call(this,l,n))}):("string"!=typeof j&&(j=p(j).detach()),this.each(function(){var l=
this.nextSibling,m=this.parentNode;p(this).remove();l?p(l).before(j):p(m).append(j)}))},detach:function(j){return this.remove(j,!0)},domManip:function(j,m,n){j=[].concat.apply([],j);var q,t,r,s=0,u=j[0],A=[],E=this.length;if(!p.support.checkClone&&1<E&&"string"==typeof u&&nc.test(u))return this.each(function(){p(this).domManip(j,m,n)});if(p.isFunction(u))return this.each(function(q){var t=p(this);j[0]=u.call(this,q,m?t.html():l);t.domManip(j,m,n)});if(this[0]){q=p.buildFragment(j,this,A);r=q.fragment;
t=r.firstChild;1===r.childNodes.length&&(r=t);if(t){m=m&&p.nodeName(t,"tr");for(q=q.cacheable||E-1;s<E;s++)n.call(m&&p.nodeName(this[s],"table")?this[s].getElementsByTagName("tbody")[0]||this[s].appendChild(this[s].ownerDocument.createElement("tbody")):this[s],s===q?r:p.clone(r,!0,!0))}r=t=null;A.length&&p.each(A,function(j,l){l.src?p.ajax?p.ajax({url:l.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):p.error("no ajax"):p.globalEval((l.text||l.textContent||l.innerHTML||"").replace(Ad,
""));l.parentNode&&l.parentNode.removeChild(l)})}return this}});p.buildFragment=function(j,m,n){var q,t,r,s=j[0];return m=m||J,m=!m.nodeType&&m[0]||m,m=m.ownerDocument||m,1===j.length&&"string"==typeof s&&512>s.length&&m===J&&"<"===s.charAt(0)&&!yd.test(s)&&(p.support.checkClone||!nc.test(s))&&(p.support.html5Clone||!zb.test(s))&&(t=!0,q=p.fragments[s],r=q!==l),q||(q=m.createDocumentFragment(),p.clean(j,m,q,n),t&&(p.fragments[s]=r&&q)),{fragment:q,cacheable:t}};p.fragments={};p.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(j,l){p.fn[j]=function(m){var n,q=0,t=[];m=p(m);var s=m.length;n=1===this.length&&this[0].parentNode;if((null==n||n&&11===n.nodeType&&1===n.childNodes.length)&&1===s)return m[l](this[0]),this;for(;q<s;q++)n=(0<q?this.clone(!0):this).get(),p(m[q])[l](n),t=t.concat(n);return this.pushStack(t,j,m.selector)}});p.extend({clone:function(j,l,m){var n,q,t,s;p.support.html5Clone||p.isXMLDoc(j)||!zb.test("<"+j.nodeName+
">")?s=j.cloneNode(!0):(Ab.innerHTML=j.outerHTML,Ab.removeChild(s=Ab.firstChild));if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(1===j.nodeType||11===j.nodeType)&&!p.isXMLDoc(j)){G(j,s);n=K(j);q=K(s);for(t=0;n[t];++t)q[t]&&G(n[t],q[t])}if(l&&(y(j,s),m)){n=K(j);q=K(s);for(t=0;n[t];++t)y(n[t],q[t])}return s},clean:function(j,l,m,n){var q,t,s,r,u,A,E,z=l===J&&oc,y=[];if(!l||"undefined"==typeof l.createDocumentFragment)l=J;for(q=0;null!=(s=j[q]);q++)if("number"==typeof s&&(s+=""),s){if("string"==
typeof s)if(wd.test(s)){z=z||D(l);A=l.createElement("div");z.appendChild(A);s=s.replace(lc,"<$1></$2>");t=(mc.exec(s)||["",""])[1].toLowerCase();r=Z[t]||Z._default;u=r[0];for(A.innerHTML=r[1]+s+r[2];u--;)A=A.lastChild;if(!p.support.tbody){u=vd.test(s);r="table"===t&&!u?A.firstChild&&A.firstChild.childNodes:"<table>"===r[1]&&!u?A.childNodes:[];for(t=r.length-1;0<=t;--t)p.nodeName(r[t],"tbody")&&!r[t].childNodes.length&&r[t].parentNode.removeChild(r[t])}!p.support.leadingWhitespace&&yb.test(s)&&A.insertBefore(l.createTextNode(yb.exec(s)[0]),
A.firstChild);s=A.childNodes;A.parentNode.removeChild(A)}else s=l.createTextNode(s);s.nodeType?y.push(s):p.merge(y,s)}A&&(s=A=z=null);if(!p.support.appendChecked)for(q=0;null!=(s=y[q]);q++)p.nodeName(s,"input")?L(s):"undefined"!=typeof s.getElementsByTagName&&p.grep(s.getElementsByTagName("input"),L);if(m){j=function(j){if(!j.type||zd.test(j.type))return n?n.push(j.parentNode?j.parentNode.removeChild(j):j):m.appendChild(j)};for(q=0;null!=(s=y[q]);q++)if(!p.nodeName(s,"script")||!j(s))m.appendChild(s),
"undefined"!=typeof s.getElementsByTagName&&(E=p.grep(p.merge([],s.getElementsByTagName("script")),j),y.splice.apply(y,[q+1,0].concat(E)),q+=E.length)}return y},cleanData:function(j,l){for(var m,n,q,t,s=0,r=p.expando,u=p.cache,A=p.support.deleteExpando,E=p.event.special;null!=(q=j[s]);s++)if(l||p.acceptData(q))if(m=(n=q[r])&&u[n]){if(m.events)for(t in m.events)E[t]?p.event.remove(q,t):p.removeEvent(q,t,m.handle);u[n]&&(delete u[n],A?delete q[r]:q.removeAttribute?q.removeAttribute(r):q[r]=null,p.deletedIds.push(n))}}});
var ab,ja;p.uaMatch=function(j){j=j.toLowerCase();j=/(chrome)[ \/]([\w.]+)/.exec(j)||/(webkit)[ \/]([\w.]+)/.exec(j)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(j)||/(msie) ([\w.]+)/.exec(j)||0>j.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(j)||[];return{browser:j[1]||"",version:j[2]||"0"}};ab=p.uaMatch(Gc.userAgent);ja={};ab.browser&&(ja[ab.browser]=!0,ja.version=ab.version);ja.chrome?ja.webkit=!0:ja.webkit&&(ja.safari=!0);p.browser=ja;p.sub=function(){function j(l,m){return new j.fn.init(l,
m)}p.extend(!0,j,this);j.superclass=this;j.fn=j.prototype=this();j.fn.constructor=j;j.sub=this.sub;j.fn.init=function(m,n){return n&&n instanceof p&&!(n instanceof j)&&(n=j(n)),p.fn.init.call(this,m,n,l)};j.fn.init.prototype=j.fn;var l=j(J);return j};var V,ra,sa,Bb=/alpha\([^)]*\)/i,Bd=/opacity=([^)]*)/,Cd=/^(top|right|bottom|left)$/,Dd=/^(none|table(?!-c[ea]).+)/,pc=/^margin/,Cc=RegExp("^("+La+")(.*)$","i"),Ea=RegExp("^("+La+")(?!px)[a-z%]+$","i"),Ed=RegExp("^([-+])=("+La+")","i"),db={},Fd={position:"absolute",
visibility:"hidden",display:"block"},qc={letterSpacing:0,fontWeight:400},ka=["Top","Right","Bottom","Left"],Gb=["Webkit","O","Moz","ms"],Gd=p.fn.toggle;p.fn.extend({css:function(j,m){return p.access(this,function(j,m,n){return n!==l?p.style(j,m,n):p.css(j,m)},j,m,1<arguments.length)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(j,l){var m="boolean"==typeof j;return p.isFunction(j)&&p.isFunction(l)?Gd.apply(this,arguments):this.each(function(){(m?j:E(this))?p(this).show():
p(this).hide()})}});p.extend({cssHooks:{opacity:{get:function(j,l){if(l){var m=V(j,"opacity");return""===m?"1":m}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(j,m,n,q){if(j&&!(3===j.nodeType||8===j.nodeType||!j.style)){var r,u,s,A=p.camelCase(m),E=j.style;m=p.cssProps[A]||(p.cssProps[A]=t(E,A));s=p.cssHooks[m]||p.cssHooks[A];if(n===l)return s&&"get"in s&&(r=s.get(j,
!1,q))!==l?r:E[m];u=typeof n;"string"===u&&(r=Ed.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(p.css(j,m)),u="number");if(!(null==n||"number"===u&&isNaN(n)))if("number"===u&&!p.cssNumber[A]&&(n+="px"),!s||!("set"in s)||(n=s.set(j,n,q))!==l)try{E[m]=n}catch(z){}}},css:function(j,m,n,q){var r,u,s,A=p.camelCase(m);return m=p.cssProps[A]||(p.cssProps[A]=t(j.style,A)),s=p.cssHooks[m]||p.cssHooks[A],s&&"get"in s&&(r=s.get(j,!0,q)),r===l&&(r=V(j,m)),"normal"===r&&m in qc&&(r=qc[m]),n||q!==l?(u=parseFloat(r),n||
p.isNumeric(u)?u||0:r):r},swap:function(j,l,m){var n,p={};for(n in l)p[n]=j.style[n],j.style[n]=l[n];m=m.call(j);for(n in l)j.style[n]=p[n];return m}});j.getComputedStyle?V=function(l,m){var n,q,t,r,s=j.getComputedStyle(l,null),u=l.style;return s&&(n=s[m],""===n&&!p.contains(l.ownerDocument,l)&&(n=p.style(l,m)),Ea.test(n)&&pc.test(m)&&(q=u.width,t=u.minWidth,r=u.maxWidth,u.minWidth=u.maxWidth=u.width=n,n=s.width,u.width=q,u.minWidth=t,u.maxWidth=r)),n}:J.documentElement.currentStyle&&(V=function(j,
l){var m,n,p=j.currentStyle&&j.currentStyle[l],q=j.style;return null==p&&q&&q[l]&&(p=q[l]),Ea.test(p)&&!Cd.test(l)&&(m=q.left,n=j.runtimeStyle&&j.runtimeStyle.left,n&&(j.runtimeStyle.left=j.currentStyle.left),q.left="fontSize"===l?"1em":p,p=q.pixelLeft+"px",q.left=m,n&&(j.runtimeStyle.left=n)),""===p?"auto":p});p.each(["height","width"],function(j,l){p.cssHooks[l]={get:function(j,m,n){if(m)return 0===j.offsetWidth&&Dd.test(V(j,"display"))?p.swap(j,Fd,function(){return S(j,l,n)}):S(j,l,n)},set:function(j,
m,n){return R(j,m,n?W(j,l,n,p.support.boxSizing&&"border-box"===p.css(j,"boxSizing")):0)}}});p.support.opacity||(p.cssHooks.opacity={get:function(j,l){return Bd.test((l&&j.currentStyle?j.currentStyle.filter:j.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":l?"1":""},set:function(j,l){var m=j.style,n=j.currentStyle,q=p.isNumeric(l)?"alpha(opacity="+100*l+")":"",t=n&&n.filter||m.filter||"";m.zoom=1;if(1<=l&&(""===p.trim(t.replace(Bb,""))&&m.removeAttribute)&&(m.removeAttribute("filter"),n&&!n.filter))return;
m.filter=Bb.test(t)?t.replace(Bb,q):t+" "+q}});p(function(){p.support.reliableMarginRight||(p.cssHooks.marginRight={get:function(j,l){return p.swap(j,{display:"inline-block"},function(){if(l)return V(j,"marginRight")})}});!p.support.pixelPosition&&p.fn.position&&p.each(["top","left"],function(j,l){p.cssHooks[l]={get:function(j,m){if(m){var n=V(j,l);return Ea.test(n)?p(j).position()[l]+"px":n}}}})});p.expr&&p.expr.filters&&(p.expr.filters.hidden=function(j){return 0===j.offsetWidth&&0===j.offsetHeight||
!p.support.reliableHiddenOffsets&&"none"===(j.style&&j.style.display||V(j,"display"))},p.expr.filters.visible=function(j){return!p.expr.filters.hidden(j)});p.each({margin:"",padding:"",border:"Width"},function(j,l){p.cssHooks[j+l]={expand:function(m){var n="string"==typeof m?m.split(" "):[m],p={};for(m=0;4>m;m++)p[j+ka[m]+l]=n[m]||n[m-2]||n[0];return p}};pc.test(j)||(p.cssHooks[j+l].set=R)});var Hd=/%20/g,Dc=/\[\]$/,rc=/\r?\n/g,Id=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Jd=/^(?:select|textarea)/i;p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Jd.test(this.nodeName)||Id.test(this.type))}).map(function(j,l){var m=p(this).val();return null==m?null:p.isArray(m)?p.map(m,function(j){return{name:l.name,value:j.replace(rc,"\r\n")}}):{name:l.name,value:m.replace(rc,"\r\n")}}).get()}});
p.param=function(j,m){var n,q=[],t=function(j,l){l=p.isFunction(l)?l():null==l?"":l;q[q.length]=encodeURIComponent(j)+"="+encodeURIComponent(l)};m===l&&(m=p.ajaxSettings&&p.ajaxSettings.traditional);if(p.isArray(j)||j.jquery&&!p.isPlainObject(j))p.each(j,function(){t(this.name,this.value)});else for(n in j)Fa(n,j[n],m,t);return q.join("&").replace(Hd,"+")};var va,qa,Kd=/#.*$/,Ld=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Md=/^(?:GET|HEAD)$/,Nd=/^\/\//,sc=/\?/,Od=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
Pd=/([?&])_=[^&]*/,tc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,uc=p.fn.load,fb={},vc={},wc=["*/"]+["*"];try{qa=Fc.href}catch(Yd){qa=J.createElement("a"),qa.href="",qa=qa.href}va=tc.exec(qa.toLowerCase())||[];p.fn.load=function(j,m,n){if("string"!=typeof j&&uc)return uc.apply(this,arguments);if(!this.length)return this;var q,t,r,s=this,u=j.indexOf(" ");return 0<=u&&(q=j.slice(u,j.length),j=j.slice(0,u)),p.isFunction(m)?(n=m,m=l):m&&"object"==typeof m&&(t="POST"),p.ajax({url:j,type:t,dataType:"html",
data:m,complete:function(j,l){n&&s.each(n,r||[j.responseText,l,j])}}).done(function(j){r=arguments;s.html(q?p("<div>").append(j.replace(Od,"")).find(q):j)}),this};p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(j,l){p.fn[l]=function(j){return this.on(l,j)}});p.each(["get","post"],function(j,m){p[m]=function(j,n,q,t){return p.isFunction(n)&&(t=t||q,q=n,n=l),p.ajax({type:m,url:j,data:n,success:q,dataType:t})}});p.extend({getScript:function(j,m){return p.get(j,
l,m,"script")},getJSON:function(j,l,m){return p.get(j,l,m,"json")},ajaxSetup:function(j,l){return l?Hb(j,p.ajaxSettings):(l=j,j=p.ajaxSettings),Hb(j,l),j},ajaxSettings:{url:qa,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(va[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":wc},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":j.String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:P(fb),ajaxTransport:P(vc),ajax:function(j,m){function n(j,m,r,A){var H,x,C,z,F,L=m;if(2!==W){W=2;u&&clearTimeout(u);s=l;t=A||"";O.readyState=0<j?4:0;if(r){z=y;A=O;var J,S,P,eb,gb=z.contents,M=z.dataTypes,Q=z.responseFields;for(S in Q)S in r&&(A[Q[S]]=r[S]);for(;"*"===M[0];)M.shift(),
J===l&&(J=z.mimeType||A.getResponseHeader("content-type"));if(J)for(S in gb)if(gb[S]&&gb[S].test(J)){M.unshift(S);break}if(M[0]in r)P=M[0];else{for(S in r){if(!M[0]||z.converters[S+" "+M[0]]){P=S;break}eb||(eb=S)}P=P||eb}r=P?(P!==M[0]&&M.unshift(P),r[P]):void 0;z=r}if(200<=j&&300>j||304===j)if(y.ifModified&&(F=O.getResponseHeader("Last-Modified"),F&&(p.lastModified[q]=F),F=O.getResponseHeader("Etag"),F&&(p.etag[q]=F)),304===j)L="notmodified",H=!0;else{var N;a:{H=y;x=z;var aa,L=H.dataTypes.slice();
r=L[0];J={};S=0;H.dataFilter&&(x=H.dataFilter(x,H.dataType));if(L[1])for(N in H.converters)J[N.toLowerCase()]=H.converters[N];for(;C=L[++S];)if("*"!==C){if("*"!==r&&r!==C){N=J[r+" "+C]||J["* "+C];if(!N)for(aa in J)if(F=aa.split(" "),F[1]===C&&(N=J[r+" "+F[0]]||J["* "+F[0]])){!0===N?N=J[aa]:!0!==J[aa]&&(C=F[0],L.splice(S--,0,C));break}if(!0!==N)if(N&&H["throws"])x=N(x);else try{x=N(x)}catch(Da){N={state:"parsererror",error:N?Da:"No conversion from "+r+" to "+C};break a}}r=C}N={state:"success",data:x}}H=
N;L=H.state;x=H.data;C=H.error;H=!C}else if(C=L,!L||j)L="error",0>j&&(j=0);O.status=j;O.statusText=(m||L)+"";H?R.resolveWith(D,[x,L,O]):R.rejectWith(D,[O,L,C]);O.statusCode(B);B=l;E&&G.trigger("ajax"+(H?"Success":"Error"),[O,y,H?x:C]);K.fireWith(D,[O,L]);E&&(G.trigger("ajaxComplete",[O,y]),--p.active||p.event.trigger("ajaxStop"))}}"object"==typeof j&&(m=j,j=l);m=m||{};var q,t,r,s,u,A,E,z,y=p.ajaxSetup({},m),D=y.context||y,G=D!==y&&(D.nodeType||D instanceof p)?p(D):p.event,R=p.Deferred(),K=p.Callbacks("once memory"),
B=y.statusCode||{},L={},J={},W=0,S="canceled",O={readyState:0,setRequestHeader:function(j,l){if(!W){var m=j.toLowerCase();j=J[m]=J[m]||j;L[j]=l}return this},getAllResponseHeaders:function(){return 2===W?t:null},getResponseHeader:function(j){var m;if(2===W){if(!r)for(r={};m=Ld.exec(t);)r[m[1].toLowerCase()]=m[2];m=r[j.toLowerCase()]}return m===l?null:m},overrideMimeType:function(j){return W||(y.mimeType=j),this},abort:function(j){return j=j||S,s&&s.abort(j),n(0,j),this}};R.promise(O);O.success=O.done;
O.error=O.fail;O.complete=K.add;O.statusCode=function(j){if(j){var l;if(2>W)for(l in j)B[l]=[B[l],j[l]];else l=j[O.status],O.always(l)}return this};y.url=((j||y.url)+"").replace(Kd,"").replace(Nd,va[1]+"//");y.dataTypes=p.trim(y.dataType||"*").toLowerCase().split(la);null==y.crossDomain&&(A=tc.exec(y.url.toLowerCase())||!1,y.crossDomain=A&&A.join(":")+(A[3]?"":"http:"===A[1]?80:443)!==va.join(":")+(va[3]?"":"http:"===va[1]?80:443));y.data&&y.processData&&"string"!=typeof y.data&&(y.data=p.param(y.data,
y.traditional));aa(fb,y,m,O);if(2===W)return O;E=y.global;y.type=y.type.toUpperCase();y.hasContent=!Md.test(y.type);E&&0===p.active++&&p.event.trigger("ajaxStart");if(!y.hasContent&&(y.data&&(y.url+=(sc.test(y.url)?"&":"?")+y.data,delete y.data),q=y.url,!1===y.cache)){A=p.now();var P=y.url.replace(Pd,"$1_="+A);y.url=P+(P===y.url?(sc.test(y.url)?"&":"?")+"_="+A:"")}(y.data&&y.hasContent&&!1!==y.contentType||m.contentType)&&O.setRequestHeader("Content-Type",y.contentType);y.ifModified&&(q=q||y.url,
p.lastModified[q]&&O.setRequestHeader("If-Modified-Since",p.lastModified[q]),p.etag[q]&&O.setRequestHeader("If-None-Match",p.etag[q]));O.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+wc+"; q=0.01":""):y.accepts["*"]);for(z in y.headers)O.setRequestHeader(z,y.headers[z]);if(!y.beforeSend||!1!==y.beforeSend.call(D,O,y)&&2!==W){S="abort";for(z in{success:1,error:1,complete:1})O[z](y[z]);if(s=aa(vc,y,m,O)){O.readyState=1;E&&G.trigger("ajaxSend",
[O,y]);y.async&&0<y.timeout&&(u=setTimeout(function(){O.abort("timeout")},y.timeout));try{W=1,s.send(L,n)}catch(M){if(2>W)n(-1,M);else throw M;}}else n(-1,"No Transport");return O}return O.abort()},active:0,lastModified:{},etag:{}});var xc=[],Qd=/\?/,bb=/(=)\?(?=&|$)|\?\?/,Rd=p.now();p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var j=xc.pop()||p.expando+"_"+Rd++;return this[j]=!0,j}});p.ajaxPrefilter("json jsonp",function(m,n,q){var t,r,u,s=m.data,A=m.url,E=!1!==m.jsonp,y=E&&bb.test(A),
z=E&&!y&&"string"==typeof s&&!(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&bb.test(s);if("jsonp"===m.dataTypes[0]||y||z)return t=m.jsonpCallback=p.isFunction(m.jsonpCallback)?m.jsonpCallback():m.jsonpCallback,r=j[t],y?m.url=A.replace(bb,"$1"+t):z?m.data=s.replace(bb,"$1"+t):E&&(m.url+=(Qd.test(A)?"&":"?")+m.jsonp+"="+t),m.converters["script json"]=function(){return u||p.error(t+" was not called"),u[0]},m.dataTypes[0]="json",j[t]=function(){u=arguments},q.always(function(){j[t]=
r;m[t]&&(m.jsonpCallback=n.jsonpCallback,xc.push(t));u&&p.isFunction(r)&&r(u[0]);u=r=l}),"script"});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(j){return p.globalEval(j),j}}});p.ajaxPrefilter("script",function(j){j.cache===l&&(j.cache=!1);j.crossDomain&&(j.type="GET",j.global=!1)});p.ajaxTransport("script",function(j){if(j.crossDomain){var m,n=
J.head||J.getElementsByTagName("head")[0]||J.documentElement;return{send:function(p,q){m=J.createElement("script");m.async="async";j.scriptCharset&&(m.charset=j.scriptCharset);m.src=j.url;m.onload=m.onreadystatechange=function(j,p){if(p||!m.readyState||/loaded|complete/.test(m.readyState))m.onload=m.onreadystatechange=null,n&&m.parentNode&&n.removeChild(m),m=l,p||q(200,"success")};n.insertBefore(m,n.firstChild)},abort:function(){m&&m.onload(0,1)}}}});var wa,Cb=j.ActiveXObject?function(){for(var j in wa)wa[j](0,
1)}:!1,Sd=0;p.ajaxSettings.xhr=j.ActiveXObject?function(){var l;if(!(l=!this.isLocal&&Ga()))a:{try{l=new j.ActiveXObject("Microsoft.XMLHTTP");break a}catch(m){}l=void 0}return l}:Ga;var Db=p.ajaxSettings.xhr();p.extend(p.support,{ajax:!!Db,cors:!!Db&&"withCredentials"in Db});p.support.ajax&&p.ajaxTransport(function(m){if(!m.crossDomain||p.support.cors){var n;return{send:function(q,t){var r,u,s=m.xhr();m.username?s.open(m.type,m.url,m.async,m.username,m.password):s.open(m.type,m.url,m.async);if(m.xhrFields)for(u in m.xhrFields)s[u]=
m.xhrFields[u];m.mimeType&&s.overrideMimeType&&s.overrideMimeType(m.mimeType);!m.crossDomain&&!q["X-Requested-With"]&&(q["X-Requested-With"]="XMLHttpRequest");try{for(u in q)s.setRequestHeader(u,q[u])}catch(A){}s.send(m.hasContent&&m.data||null);n=function(j,q){var u,A,E,x,y;try{if(n&&(q||4===s.readyState))if(n=l,r&&(s.onreadystatechange=p.noop,Cb&&delete wa[r]),q)4!==s.readyState&&s.abort();else{u=s.status;E=s.getAllResponseHeaders();x={};(y=s.responseXML)&&y.documentElement&&(x.xml=y);try{x.text=
s.responseText}catch(z){}try{A=s.statusText}catch(F){A=""}!u&&m.isLocal&&!m.crossDomain?u=x.text?200:404:1223===u&&(u=204)}}catch(D){q||t(-1,D)}x&&t(u,A,x,E)};m.async?4===s.readyState?setTimeout(n,0):(r=++Sd,Cb&&(wa||(wa={},p(j).unload(Cb)),wa[r]=n),s.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var Ha,cb,Td=/^(?:toggle|show|hide)$/,Ud=RegExp("^(?:([-+])=|)("+La+")([a-z%]*)$","i"),Vd=/queueHooks$/,Ia=[function(j,l,m){var n,q,t,r,u,A,y=this,z=j.style,D={},G=[],R=j.nodeType&&E(j);m.queue||
(u=p._queueHooks(j,"fx"),null==u.unqueued&&(u.unqueued=0,A=u.empty.fire,u.empty.fire=function(){u.unqueued||A()}),u.unqueued++,y.always(function(){y.always(function(){u.unqueued--;p.queue(j,"fx").length||u.empty.fire()})}));1===j.nodeType&&("height"in l||"width"in l)&&(m.overflow=[z.overflow,z.overflowX,z.overflowY],"inline"===p.css(j,"display")&&"none"===p.css(j,"float")&&(!p.support.inlineBlockNeedsLayout||"inline"===Da(j.nodeName)?z.display="inline-block":z.zoom=1));m.overflow&&(z.overflow="hidden",
p.support.shrinkWrapBlocks||y.done(function(){z.overflow=m.overflow[0];z.overflowX=m.overflow[1];z.overflowY=m.overflow[2]}));for(n in l)q=l[n],Td.exec(q)&&(delete l[n],q!==(R?"hide":"show")&&G.push(n));if(q=G.length){t=p._data(j,"fxshow")||p._data(j,"fxshow",{});R?p(j).show():y.done(function(){p(j).hide()});y.done(function(){var l;p.removeData(j,"fxshow",!0);for(l in D)p.style(j,l,D[l])});for(n=0;n<q;n++)l=G[n],r=y.createTween(l,R?t[l]:0),D[l]=t[l]||p.style(j,l),l in t||(t[l]=r.start,R&&(r.end=r.start,
r.start="width"===l||"height"===l?1:0))}}],ya={"*":[function(j,l){var m,n,q=this.createTween(j,l),t=Ud.exec(l),r=q.cur(),u=+r||0,A=1,E=20;if(t){m=+t[2];n=t[3]||(p.cssNumber[j]?"":"px");if("px"!==n&&u){u=p.css(q.elem,j,!0)||m||1;do A=A||".5",u/=A,p.style(q.elem,j,u+n);while(A!==(A=q.cur()/r)&&1!==A&&--E)}q.unit=n;q.start=u;q.end=t[1]?u+(t[1]+1)*m:m}return q}]};p.Animation=p.extend(Ib,{tweener:function(j,l){p.isFunction(j)?(l=j,j=["*"]):j=j.split(" ");for(var m,n=0,q=j.length;n<q;n++)m=j[n],ya[m]=ya[m]||
[],ya[m].unshift(l)},prefilter:function(j,l){l?Ia.unshift(j):Ia.push(j)}});p.Tween=X;X.prototype={constructor:X,init:function(j,l,m,n,q,t){this.elem=j;this.prop=m;this.easing=q||"swing";this.options=l;this.start=this.now=this.cur();this.end=n;this.unit=t||(p.cssNumber[m]?"":"px")},cur:function(){var j=X.propHooks[this.prop];return j&&j.get?j.get(this):X.propHooks._default.get(this)},run:function(j){var l,m=X.propHooks[this.prop];return this.options.duration?this.pos=l=p.easing[this.easing](j,this.options.duration*
j,0,1,this.options.duration):this.pos=l=j,this.now=(this.end-this.start)*l+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),m&&m.set?m.set(this):X.propHooks._default.set(this),this}};X.prototype.init.prototype=X.prototype;X.propHooks={_default:{get:function(j){var l;return null==j.elem[j.prop]||j.elem.style&&null!=j.elem.style[j.prop]?(l=p.css(j.elem,j.prop,!1,""),!l||"auto"===l?0:l):j.elem[j.prop]},set:function(j){p.fx.step[j.prop]?p.fx.step[j.prop](j):j.elem.style&&
(null!=j.elem.style[p.cssProps[j.prop]]||p.cssHooks[j.prop])?p.style(j.elem,j.prop,j.now+j.unit):j.elem[j.prop]=j.now}}};X.propHooks.scrollTop=X.propHooks.scrollLeft={set:function(j){j.elem.nodeType&&j.elem.parentNode&&(j.elem[j.prop]=j.now)}};p.each(["toggle","show","hide"],function(j,l){var m=p.fn[l];p.fn[l]=function(n,q,t){return null==n||"boolean"==typeof n||!j&&p.isFunction(n)&&p.isFunction(q)?m.apply(this,arguments):this.animate(Ja(l,!0),n,q,t)}});p.fn.extend({fadeTo:function(j,l,m,n){return this.filter(E).css("opacity",
0).show().end().animate({opacity:l},j,m,n)},animate:function(j,l,m,n){var q=p.isEmptyObject(j),t=p.speed(l,m,n);l=function(){var l=Ib(this,p.extend({},j),t);q&&l.stop(!0)};return q||!1===t.queue?this.each(l):this.queue(t.queue,l)},stop:function(j,m,n){var q=function(j){var l=j.stop;delete j.stop;l(n)};return"string"!=typeof j&&(n=m,m=j,j=l),m&&!1!==j&&this.queue(j||"fx",[]),this.each(function(){var l=!0,m=null!=j&&j+"queueHooks",t=p.timers,r=p._data(this);if(m)r[m]&&r[m].stop&&q(r[m]);else for(m in r)r[m]&&
r[m].stop&&Vd.test(m)&&q(r[m]);for(m=t.length;m--;)t[m].elem===this&&(null==j||t[m].queue===j)&&(t[m].anim.stop(n),l=!1,t.splice(m,1));(l||!n)&&p.dequeue(this,j)})}});p.each({slideDown:Ja("show"),slideUp:Ja("hide"),slideToggle:Ja("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(j,l){p.fn[j]=function(j,m,n){return this.animate(l,j,m,n)}});p.speed=function(j,l,m){var n=j&&"object"==typeof j?p.extend({},j):{complete:m||!m&&l||p.isFunction(j)&&j,duration:j,
easing:m&&l||l&&!p.isFunction(l)&&l};n.duration=p.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in p.fx.speeds?p.fx.speeds[n.duration]:p.fx.speeds._default;if(null==n.queue||!0===n.queue)n.queue="fx";return n.old=n.complete,n.complete=function(){p.isFunction(n.old)&&n.old.call(this);n.queue&&p.dequeue(this,n.queue)},n};p.easing={linear:function(j){return j},swing:function(j){return 0.5-Math.cos(j*Math.PI)/2}};p.timers=[];p.fx=X.prototype.init;p.fx.tick=function(){for(var j,l=p.timers,
m=0;m<l.length;m++)j=l[m],!j()&&l[m]===j&&l.splice(m--,1);l.length||p.fx.stop()};p.fx.timer=function(j){j()&&p.timers.push(j)&&!cb&&(cb=setInterval(p.fx.tick,p.fx.interval))};p.fx.interval=13;p.fx.stop=function(){clearInterval(cb);cb=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fx.step={};p.expr&&p.expr.filters&&(p.expr.filters.animated=function(j){return p.grep(p.timers,function(l){return j===l.elem}).length});var yc=/^(?:body|html)$/i;p.fn.offset=function(j){if(arguments.length)return j===
l?this:this.each(function(l){p.offset.setOffset(this,j,l)});var m,n,q,t,r,s,u,A={top:0,left:0},E=this[0],y=E&&E.ownerDocument;if(y)return(n=y.body)===E?p.offset.bodyOffset(E):(m=y.documentElement,p.contains(m,E)?("undefined"!=typeof E.getBoundingClientRect&&(A=E.getBoundingClientRect()),q=Jb(y),t=m.clientTop||n.clientTop||0,r=m.clientLeft||n.clientLeft||0,s=q.pageYOffset||m.scrollTop,u=q.pageXOffset||m.scrollLeft,{top:A.top+s-t,left:A.left+u-r}):A)};p.offset={bodyOffset:function(j){var l=j.offsetTop,
m=j.offsetLeft;return p.support.doesNotIncludeMarginInBodyOffset&&(l+=parseFloat(p.css(j,"marginTop"))||0,m+=parseFloat(p.css(j,"marginLeft"))||0),{top:l,left:m}},setOffset:function(j,l,m){var n=p.css(j,"position");"static"===n&&(j.style.position="relative");var q=p(j),t=q.offset(),r=p.css(j,"top"),u=p.css(j,"left"),A={},E={},y,z;("absolute"===n||"fixed"===n)&&-1<p.inArray("auto",[r,u])?(E=q.position(),y=E.top,z=E.left):(y=parseFloat(r)||0,z=parseFloat(u)||0);p.isFunction(l)&&(l=l.call(j,m,t));null!=
l.top&&(A.top=l.top-t.top+y);null!=l.left&&(A.left=l.left-t.left+z);"using"in l?l.using.call(j,A):q.css(A)}};p.fn.extend({position:function(){if(this[0]){var j=this[0],l=this.offsetParent(),m=this.offset(),n=yc.test(l[0].nodeName)?{top:0,left:0}:l.offset();return m.top-=parseFloat(p.css(j,"marginTop"))||0,m.left-=parseFloat(p.css(j,"marginLeft"))||0,n.top+=parseFloat(p.css(l[0],"borderTopWidth"))||0,n.left+=parseFloat(p.css(l[0],"borderLeftWidth"))||0,{top:m.top-n.top,left:m.left-n.left}}},offsetParent:function(){return this.map(function(){for(var j=
this.offsetParent||J.body;j&&!yc.test(j.nodeName)&&"static"===p.css(j,"position");)j=j.offsetParent;return j||J.body})}});p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(j,m){var n=/Y/.test(m);p.fn[j]=function(q){return p.access(this,function(j,q,t){var r=Jb(j);if(t===l)return r?m in r?r[m]:r.document.documentElement[q]:j[q];r?r.scrollTo(n?p(r).scrollLeft():t,n?t:p(r).scrollTop()):j[q]=t},j,q,arguments.length,null)}});p.each({Height:"height",Width:"width"},function(j,m){p.each({padding:"inner"+
j,content:m,"":"outer"+j},function(n,q){p.fn[q]=function(q,t){var r=arguments.length&&(n||"boolean"!=typeof q),u=n||(!0===q||!0===t?"margin":"border");return p.access(this,function(m,n,q){var t;return p.isWindow(m)?m.document.documentElement["client"+j]:9===m.nodeType?(t=m.documentElement,Math.max(m.body["scroll"+j],t["scroll"+j],m.body["offset"+j],t["offset"+j],t["client"+j])):q===l?p.css(m,n,q,u):p.style(m,n,q,u)},m,r?q:l,r,null)}})});j.jQuery=j.$=p;"function"==typeof define&&define.amd&&define.amd.jQuery&&
define("jquery",[],function(){return p})})(window);function getInternetExplorerVersion(){var j=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(j=parseFloat(RegExp.$1));return j}var ie=getInternetExplorerVersion();function getQueryVariable(j){for(var l=window.location.search.substring(1).split("&"),m=0;m<l.length;m++){var n=l[m].split("=");if(decodeURIComponent(n[0])==j)return decodeURIComponent(n[1])}};this.jukebox={};
jukebox.Player=function(j,l){this.id=++jukebox.__jukeboxId;this.origin=l||null;this.settings={};for(var m in this.defaults)this.settings[m]=this.defaults[m];if("[object Object]"===Object.prototype.toString.call(j))for(var n in j)this.settings[n]=j[n];"[object Function]"===Object.prototype.toString.call(jukebox.Manager)&&(jukebox.Manager=new jukebox.Manager);this.resource=this.isPlaying=null;this.resource="[object Object]"===Object.prototype.toString.call(jukebox.Manager)?jukebox.Manager.getPlayableResource(this.settings.resources):this.settings.resources[0]||
null;if(null===this.resource)throw"Your browser can't playback the given resources - or you have missed to include jukebox.Manager";this.__init();return this};jukebox.__jukeboxId=0;
jukebox.Player.prototype={defaults:{resources:[],autoplay:!1,spritemap:{},flashMediaElement:"./swf/FlashMediaElement.swf",timeout:1E3},__addToManager:function(){!0!==this.__wasAddedToManager&&(jukebox.Manager.add(this),this.__wasAddedToManager=!0)},__init:function(){var j=this,l=this.settings,m={},n;jukebox.Manager&&void 0!==jukebox.Manager.features&&(m=jukebox.Manager.features);if(!0===m.html5audio){this.context=new Audio;this.context.src=this.resource;if(null===this.origin){var q=function(l){j.__addToManager(l)};
this.context.addEventListener("canplaythrough",q,!0);window.setTimeout(function(){j.context.removeEventListener("canplaythrough",q,!0);q("timeout")},l.timeout)}this.context.autobuffer=!0;this.context.preload=!0;for(n in this.HTML5API)this[n]=this.HTML5API[n];1<m.channels?!0===l.autoplay?this.context.autoplay=!0:void 0!==l.spritemap[l.autoplay]&&this.play(l.autoplay):1===m.channels&&void 0!==l.spritemap[l.autoplay]&&(this.backgroundMusic=l.spritemap[l.autoplay],this.backgroundMusic.started=Date.now?
Date.now():+new Date,this.play(l.autoplay));1==m.channels&&!0!==l.canPlayBackground&&(window.addEventListener("pagehide",function(){null!==j.isPlaying&&(j.pause(),j.__wasAutoPaused=!0)}),window.addEventListener("pageshow",function(){j.__wasAutoPaused&&(j.resume(),delete j._wasAutoPaused)}))}else if(!0===m.flashaudio){for(n in this.FLASHAPI)this[n]=this.FLASHAPI[n];m=["id=jukebox-flashstream-"+this.id,"autoplay="+l.autoplay,"file="+window.encodeURIComponent(this.resource)];this.__initFlashContext(m);
!0===l.autoplay?this.play(0):l.spritemap[l.autoplay]&&this.play(l.autoplay)}else throw"Your Browser does not support Flash Audio or HTML5 Audio.";},__initFlashContext:function(j){var l,m=this.settings.flashMediaElement,n,q={flashvars:j.join("&"),quality:"high",bgcolor:"#000000",wmode:"transparent",allowscriptaccess:"always",allowfullscreen:"true"};if(navigator.userAgent.match(/MSIE/)){l=document.createElement("div");document.getElementsByTagName("body")[0].appendChild(l);var r=document.createElement("object");
r.id="jukebox-flashstream-"+this.id;r.setAttribute("type","application/x-shockwave-flash");r.setAttribute("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");r.setAttribute("width","0");r.setAttribute("height","0");q.movie=m+"?x="+(Date.now?Date.now():+new Date);q.flashvars=j.join("&amp;");for(n in q)j=document.createElement("param"),j.setAttribute("name",n),j.setAttribute("value",q[n]),r.appendChild(j);l.outerHTML=r.outerHTML;this.context=document.getElementById("jukebox-flashstream-"+this.id)}else{l=
document.createElement("embed");l.id="jukebox-flashstream-"+this.id;l.setAttribute("type","application/x-shockwave-flash");l.setAttribute("width","100");l.setAttribute("height","100");q.play=!1;q.loop=!1;q.src=m+"?x="+(Date.now?Date.now():+new Date);for(n in q)l.setAttribute(n,q[n]);document.getElementsByTagName("body")[0].appendChild(l);this.context=l}},backgroundHackForiOS:function(){if(void 0!==this.backgroundMusic){var j=Date.now?Date.now():+new Date;void 0===this.backgroundMusic.started?(this.backgroundMusic.started=
j,this.setCurrentTime(this.backgroundMusic.start)):(this.backgroundMusic.lastPointer=(j-this.backgroundMusic.started)/1E3%(this.backgroundMusic.end-this.backgroundMusic.start)+this.backgroundMusic.start,this.play(this.backgroundMusic.lastPointer))}},play:function(j,l){if(null!==this.isPlaying&&!0!==l)void 0!==jukebox.Manager&&jukebox.Manager.addToQueue(j,this.id);else{var m=this.settings.spritemap,n;if(void 0!==m[j])n=m[j].start;else if("number"===typeof j){n=j;for(var q in m)if(n>=m[q].start&&n<=
m[q].end){j=q;break}}void 0!==n&&"[object Object]"===Object.prototype.toString.call(m[j])&&(this.isPlaying=this.settings.spritemap[j],this.context.play&&this.context.play(),this.wasReady=this.setCurrentTime(n))}},stop:function(){this.__lastPosition=0;this.isPlaying=null;this.backgroundMusic?this.backgroundHackForiOS():this.context.pause();return!0},pause:function(){this.isPlaying=null;this.__lastPosition=this.getCurrentTime();this.context.pause();return this.__lastPosition},resume:function(j){j="number"===
typeof j?j:this.__lastPosition;if(null!==j)return this.play(j),this.__lastPosition=null,!0;this.context.play();return!1},HTML5API:{getVolume:function(){return this.context.volume||1},setVolume:function(j){this.context.volume=j;return 1E-4>Math.abs(this.context.volume-j)?!0:!1},getCurrentTime:function(){return this.context.currentTime||0},setCurrentTime:function(j){try{return this.context.currentTime=j,!0}catch(l){return!1}}},FLASHAPI:{getVolume:function(){return this.context&&"function"===typeof this.context.getVolume?
this.context.getVolume():1},setVolume:function(j){return this.context&&"function"===typeof this.context.setVolume?(this.context.setVolume(j),!0):!1},getCurrentTime:function(){return this.context&&"function"===typeof this.context.getCurrentTime?this.context.getCurrentTime():0},setCurrentTime:function(j){return this.context&&"function"===typeof this.context.setCurrentTime?this.context.setCurrentTime(j):!1}}};
if(void 0===this.jukebox)throw"jukebox.Manager requires jukebox.Player (Player.js) to run properly.";
jukebox.Manager=function(j){this.features={};this.codecs={};this.__players={};this.__playersLength=0;this.__clones={};this.__queue=[];this.settings={};for(var l in this.defaults)this.settings[l]=this.defaults[l];if("[object Object]"===Object.prototype.toString.call(j))for(var m in j)this.settings[m]=j[m];this.__detectFeatures();jukebox.Manager.__initialized=!1===this.settings.useGameLoop?window.setInterval(function(){jukebox.Manager.loop()},20):!0};
jukebox.Manager.prototype={defaults:{useFlash:!1,useGameLoop:!1},__detectFeatures:function(){var j=window.Audio&&new Audio;if(j&&j.canPlayType&&!1===this.settings.useFlash){for(var l=[{e:"3gp",m:["audio/3gpp","audio/amr"]},{e:"aac",m:["audio/aac","audio/aacp"]},{e:"amr",m:["audio/amr","audio/3gpp"]},{e:"caf",m:["audio/IMA-ADPCM","audio/x-adpcm",'audio/x-aiff; codecs="IMA-ADPCM, ADPCM"']},{e:"m4a",m:'audio/mp4{audio/mp4; codecs="mp4a.40.2,avc1.42E01E"{audio/mpeg4{audio/mpeg4-generic{audio/mp4a-latm{audio/MP4A-LATM{audio/x-m4a'.split("{")},
{e:"mp3",m:["audio/mp3","audio/mpeg",'audio/mpeg; codecs="mp3"',"audio/MPA","audio/mpa-robust"]},{e:"mpga",m:["audio/MPA","audio/mpa-robust","audio/mpeg","video/mpeg"]},{e:"mp4",m:["audio/mp4","video/mp4"]},{e:"ogg",m:["application/ogg","audio/ogg",'audio/ogg; codecs="theora, vorbis"',"video/ogg",'video/ogg; codecs="theora, vorbis"']},{e:"wav",m:["audio/wave","audio/wav",'audio/wav; codecs="1"',"audio/x-wav","audio/x-pn-wav"]},{e:"webm",m:["audio/webm",'audio/webm; codecs="vorbis"',"video/webm"]}],
m,n,q=0,r=l.length;q<r;q++)if(n=l[q].e,l[q].m.length&&"object"===typeof l[q].m)for(var B=0,u=l[q].m.length;B<u;B++)if(m=l[q].m[B],""!==j.canPlayType(m)){this.codecs[n]=m;break}else this.codecs[n]||(this.codecs[n]=!1);this.features.html5audio=!(!this.codecs.mp3&&!this.codecs.ogg&&!this.codecs.webm&&!this.codecs.wav);this.features.channels=8;j.volume=0.1337;this.features.volume=!!(1E-4>Math.abs(j.volume-0.1337));navigator.userAgent.match(/iPhone|iPod|iPad/i)&&(this.features.channels=1)}this.features.flashaudio=
!!navigator.mimeTypes["application/x-shockwave-flash"]||!!navigator.plugins["Shockwave Flash"]||!1;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.10"),this.features.flashaudio=!0}catch(z){}!0===this.settings.useFlash&&(this.features.flashaudio=!0);!0===this.features.flashaudio&&!this.features.html5audio&&(this.codecs.mp3="audio/mp3",this.codecs.mpga="audio/mpeg",this.codecs.mp4="audio/mp4",this.codecs.m4a="audio/mp4",this.codecs["3gp"]="audio/3gpp",this.codecs.amr="audio/amr",
this.features.volume=!0,this.features.channels=1)},__getPlayerById:function(j){return this.__players&&void 0!==this.__players[j]?this.__players[j]:null},__getClone:function(j,l){for(var m in this.__clones){var n=this.__clones[m];if(null===n.isPlaying&&n.origin===j)return n}if("[object Object]"===Object.prototype.toString.call(l)){m={};for(var q in l)m[q]=l[q];m.autoplay=!1;q=new jukebox.Player(m,j);q.isClone=!0;q.wasReady=!1;return this.__clones[q.id]=q}return null},loop:function(){if(0!==this.__playersLength)if(this.__queue.length&&
this.__playersLength<this.features.channels){var j=this.__queue[0],l=this.__getPlayerById(j.origin);if(null!==l){var m=this.__getClone(j.origin,l.settings);null!==m&&(!0===this.features.volume&&(l=this.__players[j.origin])&&m.setVolume(l.getVolume()),this.add(m),m.play(j.pointer,!0))}this.__queue.splice(0,1)}else for(m in this.__queue.length&&1===this.features.channels&&(j=this.__queue[0],l=this.__getPlayerById(j.origin),null!==l&&l.play(j.pointer,!0),this.__queue.splice(0,1)),this.__players)j=this.__players[m],
l=j.getCurrentTime()||0,j.isPlaying&&!1===j.wasReady?j.wasReady=j.setCurrentTime(j.isPlaying.start):j.isPlaying&&!0===j.wasReady?l>j.isPlaying.end&&(!0===j.isPlaying.loop?j.play(j.isPlaying.start,!0):j.stop()):j.isClone&&null===j.isPlaying?this.remove(j):void 0!==j.backgroundMusic&&null===j.isPlaying&&l>j.backgroundMusic.end&&j.backgroundHackForiOS()},getPlayableResource:function(j){"[object Array]"!==Object.prototype.toString.call(j)&&(j=[j]);for(var l=0,m=j.length;l<m;l++){var n=j[l],q=n.match(/\.([^\.]*)$/)[1];
if(q&&this.codecs[q])return n}return null},add:function(j){return j instanceof jukebox.Player&&void 0===this.__players[j.id]?(this.__playersLength++,this.__players[j.id]=j,!0):!1},remove:function(j){return j instanceof jukebox.Player&&void 0!==this.__players[j.id]?(this.__playersLength--,delete this.__players[j.id],!0):!1},addToQueue:function(j,l){return("string"===typeof j||"number"===typeof j)&&void 0!==this.__players[l]?(this.__queue.push({pointer:j,origin:l}),!0):!1}};(function(){var j={},l=null,m=!0,n=!1;try{"undefined"!==typeof AudioContext?l=new AudioContext:"undefined"!==typeof webkitAudioContext?l=new webkitAudioContext:m=!1}catch(q){m=!1}if(!m)if("undefined"!==typeof Audio)try{new Audio}catch(r){n=!0}else n=!0;if(m){var B="undefined"===typeof l.createGain?l.createGainNode():l.createGain();B.gain.value=1;B.connect(l.destination)}var u=function(j){this._volume=1;this._muted=!1;this.usingWebAudio=m;this.ctx=l;this.noAudio=n;this._howls=[];this._codecs=j;this.iOSAutoEnable=
!0};u.prototype={volume:function(j){j=parseFloat(j);if(0<=j&&1>=j){this._volume=j;m&&(B.gain.value=j);for(var l in this._howls)if(this._howls.hasOwnProperty(l)&&!1===this._howls[l]._webAudio)for(j=0;j<this._howls[l]._audioNode.length;j++)this._howls[l]._audioNode[j].volume=this._howls[l]._volume*this._volume;return this}return m?B.gain.value:this._volume},mute:function(){this._setMuted(!0);return this},unmute:function(){this._setMuted(!1);return this},_setMuted:function(j){this._muted=j;m&&(B.gain.value=
j?0:this._volume);for(var l in this._howls)if(this._howls.hasOwnProperty(l)&&!1===this._howls[l]._webAudio)for(var n=0;n<this._howls[l]._audioNode.length;n++)this._howls[l]._audioNode[n].muted=j},codecs:function(j){return this._codecs[j]},_enableiOSAudio:function(){var j=this;if(!l||!j._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){j._iOSEnabled=!1;var m=function(){var n=l.createBuffer(1,1,22050),q=l.createBufferSource();q.buffer=n;q.connect(l.destination);"undefined"===typeof q.start?
q.noteOn(0):q.start(0);setTimeout(function(){if(q.playbackState===q.PLAYING_STATE||q.playbackState===q.FINISHED_STATE)j._iOSEnabled=!0,j.iOSAutoEnable=!1,window.removeEventListener("touchend",m,!1)},0)};window.addEventListener("touchend",m,!1);return j}}};var z=null,D={};n||(z=new Audio,D={mp3:!!z.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!z.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!z.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!z.canPlayType('audio/wav; codecs="1"').replace(/^no$/,
""),aac:!!z.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(z.canPlayType("audio/x-m4a;")||z.canPlayType("audio/m4a;")||z.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(z.canPlayType("audio/x-mp4;")||z.canPlayType("audio/mp4;")||z.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!z.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var y=new u(D),G=function(j){this._autoplay=j.autoplay||!1;this._buffer=j.buffer||!1;this._duration=j.duration||0;this._format=j.format||null;
this._loop=j.loop||!1;this._loaded=!1;this._sprite=j.sprite||{};this._src=j.src||"";this._pos3d=j.pos3d||[0,0,-0.5];this._volume=void 0!==j.volume?j.volume:1;this._urls=j.urls||[];this._rate=j.rate||1;this._model=j.model||null;this._onload=[j.onload||function(){}];this._onloaderror=[j.onloaderror||function(){}];this._onend=[j.onend||function(){}];this._onpause=[j.onpause||function(){}];this._onplay=[j.onplay||function(){}];this._onendTimer=[];this._webAudio=m&&!this._buffer;this._audioNode=[];this._webAudio&&
this._setupAudioNode();"undefined"!==typeof l&&(l&&y.iOSAutoEnable)&&y._enableiOSAudio();y._howls.push(this);this.load()};G.prototype={load:function(){var l=this,m=null;if(n)l.on("loaderror",Error("No audio support."));else{for(var q=0;q<l._urls.length;q++){var r,z;if(l._format)r=l._format;else if(z=l._urls[q],(r=/^data:audio\/([^;,]+);/i.exec(z))||(r=/\.([^.]+)$/.exec(z.split("?",1)[0])),r)r=r[1].toLowerCase();else{l.on("loaderror",Error("Could not extract format from passed URLs, please add format parameter."));
return}if(D[r]){m=l._urls[q];break}}if(m){l._src=m;if(l._webAudio){var G=m;if(G in j)l._duration=j[G].duration,L(l);else if(/^data:[^;]+;base64,/.test(G)){m=atob(G.split(",")[1]);q=new Uint8Array(m.length);for(r=0;r<m.length;++r)q[r]=m.charCodeAt(r);K(q.buffer,l,G)}else{var B=new XMLHttpRequest;B.open("GET",G,!0);B.responseType="arraybuffer";B.onload=function(){K(B.response,l,G)};B.onerror=function(){l._webAudio&&(l._buffer=!0,l._webAudio=!1,l._audioNode=[],delete l._gainNode,delete j[G],l.load())};
try{B.send()}catch(Fa){B.onerror()}}}else{var P=new Audio;P.addEventListener("error",function(){P.error&&4===P.error.code&&(u.noAudio=!0);l.on("loaderror",{type:P.error?P.error.code:0})},!1);l._audioNode.push(P);P.src=m;P._pos=0;P.preload="auto";P.volume=y._muted?0:l._volume*y.volume();var aa=function(){l._duration=Math.ceil(10*P.duration)/10;0===Object.getOwnPropertyNames(l._sprite).length&&(l._sprite={_default:[0,1E3*l._duration]});l._loaded||(l._loaded=!0,l.on("load"));l._autoplay&&l.play();P.removeEventListener("canplaythrough",
aa,!1)};P.addEventListener("canplaythrough",aa,!1);P.load()}return l}l.on("loaderror",Error("No codec support for selected audio sources."))}},urls:function(j){return j?(this.stop(),this._urls="string"===typeof j?[j]:j,this._loaded=!1,this.load(),this):this._urls},play:function(m,n){var q=this;"function"===typeof m&&(n=m);if(!m||"function"===typeof m)m="_default";if(!q._loaded)return q.on("load",function(){q.play(m,n)}),q;if(!q._sprite[m])return"function"===typeof n&&n(),q;q._inactiveNode(function(r){r._sprite=
m;var u=0<r._pos?r._pos:q._sprite[m][0]/1E3,z=0;q._webAudio?(z=q._sprite[m][1]/1E3-r._pos,0<r._pos&&(u=q._sprite[m][0]/1E3+u)):z=q._sprite[m][1]/1E3-(u-q._sprite[m][0]/1E3);var D=!(!q._loop&&!q._sprite[m][2]),G="string"===typeof n?n:Math.round(Date.now()*Math.random())+"",B;B=setTimeout(function(){!q._webAudio&&D&&q.stop(G).play(m,G);q._webAudio&&!D&&(q._nodeById(G).paused=!0,q._nodeById(G)._pos=0,q._clearEndTimer(G));!q._webAudio&&!D&&q.stop(G);q.on("end",G)},1E3*(z/q._rate));q._onendTimer.push({timer:B,
id:G});if(q._webAudio){B=q._sprite[m][0]/1E3;var K=q._sprite[m][1]/1E3;r.id=G;r.paused=!1;B=[D,B,K];K=q._nodeById(G);K.bufferSource=l.createBufferSource();K.bufferSource.buffer=j[q._src];K.bufferSource.connect(K.panner);K.bufferSource.loop=B[0];B[0]&&(K.bufferSource.loopStart=B[1],K.bufferSource.loopEnd=B[1]+B[2]);K.bufferSource.playbackRate.value=q._rate;q._playStart=l.currentTime;r.gain.value=q._volume;"undefined"===typeof r.bufferSource.start?D?r.bufferSource.noteGrainOn(0,u,86400):r.bufferSource.noteGrainOn(0,
u,z):D?r.bufferSource.start(0,u,86400):r.bufferSource.start(0,u,z)}else if(4===r.readyState||!r.readyState&&navigator.isCocoonJS)r.readyState=4,r.id=G,r.currentTime=u,r.muted=y._muted||r.muted,r.volume=q._volume*y.volume(),setTimeout(function(){r.play()},0);else{q._clearEndTimer(G);var L=m,Ga=n,xa=function(){q.play(L,Ga);r.removeEventListener("canplaythrough",xa,!1)};r.addEventListener("canplaythrough",xa,!1);return q}q.on("play");"function"===typeof n&&n(G);return q});return q},pause:function(j){var l=
this;if(!l._loaded)return l.on("play",function(){l.pause(j)}),l;l._clearEndTimer(j);var m=j?l._nodeById(j):l._activeNode();if(m)if(m._pos=l.pos(null,j),l._webAudio){if(!m.bufferSource||m.paused)return l;m.paused=!0;"undefined"===typeof m.bufferSource.stop?m.bufferSource.noteOff(0):m.bufferSource.stop(0)}else m.pause();l.on("pause");return l},stop:function(j){var l=this;if(!l._loaded)return l.on("play",function(){l.stop(j)}),l;l._clearEndTimer(j);var m=j?l._nodeById(j):l._activeNode();if(m)if(m._pos=
0,l._webAudio){if(!m.bufferSource||m.paused)return l;m.paused=!0;"undefined"===typeof m.bufferSource.stop?m.bufferSource.noteOff(0):m.bufferSource.stop(0)}else isNaN(m.duration)||(m.pause(),m.currentTime=0);return l},mute:function(j){var l=this;if(!l._loaded)return l.on("play",function(){l.mute(j)}),l;var m=j?l._nodeById(j):l._activeNode();m&&(l._webAudio?m.gain.value=0:m.muted=!0);return l},unmute:function(j){var l=this;if(!l._loaded)return l.on("play",function(){l.unmute(j)}),l;var m=j?l._nodeById(j):
l._activeNode();m&&(l._webAudio?m.gain.value=l._volume:m.muted=!1);return l},volume:function(j,l){var m=this;j=parseFloat(j);if(0<=j&&1>=j){m._volume=j;if(!m._loaded)return m.on("play",function(){m.volume(j,l)}),m;var n=l?m._nodeById(l):m._activeNode();n&&(m._webAudio?n.gain.value=j:n.volume=j*y.volume());return m}return m._volume},loop:function(j){return"boolean"===typeof j?(this._loop=j,this):this._loop},sprite:function(j){return"object"===typeof j?(this._sprite=j,this):this._sprite},pos:function(j,
m){var n=this;if(!n._loaded)return n.on("load",function(){n.pos(j)}),"number"===typeof j?n:n._pos||0;j=parseFloat(j);var q=m?n._nodeById(m):n._activeNode();if(q)return 0<=j?(n.pause(m),q._pos=j,n.play(q._sprite,m),n):n._webAudio?q._pos+(l.currentTime-n._playStart):q.currentTime;if(0<=j)return n;for(q=0;q<n._audioNode.length;q++)if(n._audioNode[q].paused&&4===n._audioNode[q].readyState)return n._webAudio?n._audioNode[q]._pos:n._audioNode[q].currentTime},pos3d:function(j,l,m,n){var q=this;l="undefined"===
typeof l||!l?0:l;m="undefined"===typeof m||!m?-0.5:m;if(!q._loaded)return q.on("play",function(){q.pos3d(j,l,m,n)}),q;if(0<=j||0>j){if(q._webAudio){var r=n?q._nodeById(n):q._activeNode();r&&(q._pos3d=[j,l,m],r.panner.setPosition(j,l,m),r.panner.panningModel=q._model||"HRTF")}}else return q._pos3d;return q},fade:function(j,l,m,n,q){var r=this,u=Math.abs(j-l),y=j>l?"down":"up",u=u/0.01,z=m/u;if(!r._loaded)return r.on("load",function(){r.fade(j,l,m,n,q)}),r;r.volume(j,q);for(var G=1;G<=u;G++)(function(){var j=
Math.round(1E3*(r._volume+("up"===y?0.01:-0.01)*G))/1E3;setTimeout(function(){r.volume(j,q);j===l&&n&&n()},z*G)})()},fadeIn:function(j,l,m){return this.volume(0).play().fade(0,j,l,m)},fadeOut:function(j,l,m,n){var q=this;return q.fade(q._volume,j,l,function(){m&&m();q.pause(n);q.on("end")},n)},_nodeById:function(j){for(var l=this._audioNode[0],m=0;m<this._audioNode.length;m++)if(this._audioNode[m].id===j){l=this._audioNode[m];break}return l},_activeNode:function(){for(var j=null,l=0;l<this._audioNode.length;l++)if(!this._audioNode[l].paused){j=
this._audioNode[l];break}this._drainPool();return j},_inactiveNode:function(j){for(var l=null,m=0;m<this._audioNode.length;m++)if(this._audioNode[m].paused&&4===this._audioNode[m].readyState){j(this._audioNode[m]);l=!0;break}this._drainPool();if(!l){var n;if(this._webAudio)n=this._setupAudioNode(),j(n);else{this.load();n=this._audioNode[this._audioNode.length-1];var q=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",r=function(){n.removeEventListener(q,r,!1);j(n)};n.addEventListener(q,r,!1)}}},
_drainPool:function(){var j=0,l;for(l=0;l<this._audioNode.length;l++)this._audioNode[l].paused&&j++;for(l=this._audioNode.length-1;0<=l&&!(5>=j);l--)this._audioNode[l].paused&&(this._webAudio&&this._audioNode[l].disconnect(0),j--,this._audioNode.splice(l,1))},_clearEndTimer:function(j){for(var l=-1,m=0;m<this._onendTimer.length;m++)if(this._onendTimer[m].id===j){l=m;break}if(j=this._onendTimer[l])clearTimeout(j.timer),this._onendTimer.splice(l,1)},_setupAudioNode:function(){var j=this._audioNode,
m=this._audioNode.length;j[m]="undefined"===typeof l.createGain?l.createGainNode():l.createGain();j[m].gain.value=this._volume;j[m].paused=!0;j[m]._pos=0;j[m].readyState=4;j[m].connect(B);j[m].panner=l.createPanner();j[m].panner.panningModel=this._model||"equalpower";j[m].panner.setPosition(this._pos3d[0],this._pos3d[1],this._pos3d[2]);j[m].panner.connect(j[m]);return j[m]},on:function(j,l){var m=this["_on"+j];if("function"===typeof l)m.push(l);else for(var n=0;n<m.length;n++)l?m[n].call(this,l):
m[n].call(this);return this},off:function(j,l){var m=this["_on"+j];if(l)for(var n=0;n<m.length;n++){if(l===m[n]){m.splice(n,1);break}}else this["_on"+j]=[];return this},unload:function(){for(var l=this._audioNode,m=0;m<this._audioNode.length;m++)l[m].paused||(this.stop(l[m].id),this.on("end",l[m].id)),this._webAudio?l[m].disconnect(0):l[m].src="";for(m=0;m<this._onendTimer.length;m++)clearTimeout(this._onendTimer[m].timer);l=y._howls.indexOf(this);null!==l&&0<=l&&y._howls.splice(l,1);delete j[this._src]}};
if(m)var K=function(m,n,q){l.decodeAudioData(m,function(l){l&&(j[q]=l,L(n,l))},function(j){n.on("loaderror",j)})},L=function(j,l){j._duration=l?l.duration:j._duration;0===Object.getOwnPropertyNames(j._sprite).length&&(j._sprite={_default:[0,1E3*j._duration]});j._loaded||(j._loaded=!0,j.on("load"));j._autoplay&&j.play()};"function"===typeof define&&define.amd&&define(function(){return{Howler:y,Howl:G}});"undefined"!==typeof exports&&(exports.Howler=y,exports.Howl=G);"undefined"!==typeof window&&(window.Howler=
y,window.Howl=G)})();(function(j,l,m,n,q,r,B){j.GoogleAnalyticsObject=q;j[q]=j[q]||function(){(j[q].q=j[q].q||[]).push(arguments)};j[q].l=1*new Date;r=l.createElement(m);B=l.getElementsByTagName(m)[0];r.async=1;r.src=n;B.parentNode.insertBefore(r,B)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");ga("create","UA-73655456-33",{name:"marketjs"});ga("marketjs.send","pageview");(function(j){Number.prototype.map=function(j,l,m,n){return m+(n-m)*((this-j)/(l-j))};Number.prototype.limit=function(j,l){return Math.min(l,Math.max(j,this))};Number.prototype.round=function(j){j=Math.pow(10,j||0);return Math.round(this*j)/j};Number.prototype.floor=function(){return Math.floor(this)};Number.prototype.ceil=function(){return Math.ceil(this)};Number.prototype.toInt=function(){return this|0};Number.prototype.toRad=function(){return this/180*Math.PI};Number.prototype.toDeg=function(){return 180*
this/Math.PI};Array.prototype.erase=function(j){for(var l=this.length;l--;)this[l]===j&&this.splice(l,1);return this};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Function.prototype.bind=Function.prototype.bind||function(j){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var l=Array.prototype.slice.call(arguments,1),m=this,n=function(){},q=function(){return m.apply(this instanceof n&&j?
this:j,l.concat(Array.prototype.slice.call(arguments)))};n.prototype=this.prototype;q.prototype=new n;return q};j.ig={game:null,debug:null,version:"1.23",global:j,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:j.ImpactPrefix||"",lib:"lib/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(j){return"#"==j.charAt(0)?document.getElementById(j.substr(1)):document.getElementsByTagName(j)},$new:function(j){return document.createElement(j)},copy:function(j){if(!j||"object"!=typeof j||
j instanceof HTMLElement||j instanceof ig.Class)return j;if(j instanceof Array)for(var l=[],m=0,n=j.length;m<n;m++)l[m]=ig.copy(j[m]);else for(m in l={},j)l[m]=ig.copy(j[m]);return l},merge:function(j,l){for(var m in l){var n=l[m];if("object"!=typeof n||n instanceof HTMLElement||n instanceof ig.Class||null===n)j[m]=n;else{if(!j[m]||"object"!=typeof j[m])j[m]=n instanceof Array?[]:{};ig.merge(j[m],n)}}return j},ksort:function(j){if(!j||"object"!=typeof j)return[];var l=[],m=[],n;for(n in j)l.push(n);
l.sort();for(n=0;n<l.length;n++)m.push(j[l[n]]);return m},setVendorAttribute:function(j,l,m){var n=l.charAt(0).toUpperCase()+l.substr(1);j[l]="undefined"!==typeof j.imageSmoothingEnabled?j["ms"+n]=j["moz"+n]=j["o"+n]=m:j["ms"+n]=j["moz"+n]=j["webkit"+n]=j["o"+n]=m},getVendorAttribute:function(j,l){var m=l.charAt(0).toUpperCase()+l.substr(1);return"undefined"!==typeof j.imageSmoothingEnabled?j[l]||j["ms"+m]||j["moz"+m]||j["o"+m]:j[l]||j["ms"+m]||j["moz"+m]||j["webkit"+m]||j["o"+m]},normalizeVendorAttribute:function(j,
l){var m=ig.getVendorAttribute(j,l);!j[l]&&m&&(j[l]=m)},getImagePixels:function(j,l,m,n,q){var r=ig.$new("canvas");r.width=j.width;r.height=j.height;var B=r.getContext("2d");ig.System.SCALE.CRISP(r,B);var t=ig.getVendorAttribute(B,"backingStorePixelRatio")||1;ig.normalizeVendorAttribute(B,"getImageDataHD");var E=j.width/t,A=j.height/t;r.width=Math.ceil(E);r.height=Math.ceil(A);B.drawImage(j,0,0,E,A);return 1===t?B.getImageData(l,m,n,q):B.getImageDataHD(l,m,n,q)},module:function(j){if(ig._current)throw"Module '"+
ig._current.name+"' defines nothing";if(ig.modules[j]&&ig.modules[j].body)throw"Module '"+j+"' is already defined";ig._current={name:j,requires:[],loaded:!1,body:null};ig.modules[j]=ig._current;ig._loadQueue.push(ig._current);return ig},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig},defines:function(j){ig._current.body=j;ig._current=null;ig._initDOMReady()},addResource:function(j){ig.resources.push(j)},setNocache:function(j){ig.nocache=j?"?"+Date.now():""},
log:function(){},assert:function(){},show:function(){},mark:function(){},_loadScript:function(j,l){ig.modules[j]={name:j,requires:[],loaded:!1,body:null};ig._waitForOnload++;var m=ig.prefix+ig.lib+j.replace(/\./g,"/")+".js"+ig.nocache,n=ig.$new("script");n.type="text/javascript";n.src=m;n.onload=function(){ig._waitForOnload--;ig._execModules()};n.onerror=function(){throw"Failed to load module "+j+" at "+m+" required from "+l;};ig.$("head")[0].appendChild(n)},_execModules:function(){for(var j=!1,l=
0;l<ig._loadQueue.length;l++){for(var m=ig._loadQueue[l],n=!0,q=0;q<m.requires.length;q++){var r=m.requires[q];ig.modules[r]?ig.modules[r].loaded||(n=!1):(n=!1,ig._loadScript(r,m.name))}n&&m.body&&(ig._loadQueue.splice(l,1),m.loaded=!0,m.body(),j=!0,l--)}if(j)ig._execModules();else if(!ig.baked&&0==ig._waitForOnload&&0!=ig._loadQueue.length){j=[];for(l=0;l<ig._loadQueue.length;l++){n=[];r=ig._loadQueue[l].requires;for(q=0;q<r.length;q++)m=ig.modules[r[q]],(!m||!m.loaded)&&n.push(r[q]);j.push(ig._loadQueue[l].name+
" (requires: "+n.join(", ")+")")}throw"Unresolved (or circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules or a previous syntax error prevents a module from loading:\n"+j.join("\n");}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig._DOMReady,13);ig.modules["dom.ready"].loaded=!0;ig._waitForOnload--;ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0);ig.ua.pixelRatio=
j.devicePixelRatio||1;ig.ua.viewport={width:j.innerWidth,height:j.innerHeight};ig.ua.screen={width:j.screen.availWidth*ig.ua.pixelRatio,height:j.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio;ig.ua.iPad=/iPad/i.test(navigator.userAgent);ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.is_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);
ig.ua.is_safari_or_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad;ig.ua.iOS6_tag=/OS 6_/i.test(navigator.userAgent);ig.ua.iOS6=(ig.ua.iPhone||ig.ua.iPad)&&ig.ua.iOS6_tag;ig.ua.iOSgt5=ig.ua.iOS&&5<parseInt(navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]);ig.ua.HTCONE=/HTC_One/i.test(navigator.userAgent);ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent);ig.ua.Kindle=/Silk/i.test(navigator.userAgent);ig.ua.touchDevice="ontouchstart"in
j||j.navigator.msMaxTouchPoints;ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.iOS6||ig.ua.winPhone||ig.ua.Kindle||/mobile/i.test(navigator.userAgent)},_initDOMReady:function(){ig.modules["dom.ready"]?ig._execModules():(ig._boot(),ig.modules["dom.ready"]={requires:[],loaded:!1,body:null},ig._waitForOnload++,"complete"===document.readyState?ig._DOMReady():(document.addEventListener("DOMContentLoaded",ig._DOMReady,!1),j.addEventListener("load",ig._DOMReady,!1)))}};ig.normalizeVendorAttribute(j,"requestAnimationFrame");
if(j.requestAnimationFrame){var l=1,m={};j.ig.setAnimation=function(n,q){var r=l++;m[r]=!0;var y=function(){m[r]&&(j.requestAnimationFrame(y,q),n())};j.requestAnimationFrame(y,q);return r};j.ig.clearAnimation=function(j){delete m[j]}}else j.ig.setAnimation=function(l){return j.setInterval(l,1E3/60)},j.ig.clearAnimation=function(l){j.clearInterval(l)};var n=!1,q=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/,r=0;j.ig.Class=function(){};var B=function(j){var l=this.prototype,m={},n;for(n in j)"function"==
typeof j[n]&&"function"==typeof l[n]&&q.test(j[n])?(m[n]=l[n],l[n]=function(j,l){return function(){var n=this.parent;this.parent=m[j];var q=l.apply(this,arguments);this.parent=n;return q}}(n,j[n])):l[n]=j[n]};j.ig.Class.extend=function(l){function m(){if(!n){if(this.staticInstantiate){var j=this.staticInstantiate.apply(this,arguments);if(j)return j}for(var l in this)"object"==typeof this[l]&&(this[l]=ig.copy(this[l]));this.init&&this.init.apply(this,arguments)}return this}var D=this.prototype;n=!0;
var y=new this;n=!1;for(var G in l)y[G]="function"==typeof l[G]&&"function"==typeof D[G]&&q.test(l[G])?function(j,l){return function(){var m=this.parent;this.parent=D[j];var n=l.apply(this,arguments);this.parent=m;return n}}(G,l[G]):l[G];m.prototype=y;m.prototype.constructor=m;m.extend=j.ig.Class.extend;m.inject=B;m.classId=y.classId=++r;return m};j.ImpactMixin&&ig.merge(ig,j.ImpactMixin)})(window);ig.baked=!0;
ig.module("impact.image").defines(function(){ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(j){return ig.Image.cache[j]||null},init:function(j){this.path=j;this.load()},load:function(j){this.loaded?j&&j(this.path,!0):(!this.loaded&&ig.ready?(this.loadCallback=j||null,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.addResource(this),
ig.Image.cache[this.path]=this)},reload:function(){this.loaded=!1;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.src=this.path+"?"+Date.now()},onload:function(){this.width=this.data.width;this.height=this.data.height;this.loaded=!0;1!=ig.system.scale&&this.resize(ig.system.scale);this.loadCallback&&this.loadCallback(this.path,!0)},onerror:function(){this.failed=!0;this.loadCallback&&this.loadCallback(this.path,!1)},resize:function(j){var l=ig.getImagePixels(this.data,0,0,this.width,
this.height),m=this.width*j,n=this.height*j,q=ig.$new("canvas");q.width=m;q.height=n;for(var r=q.getContext("2d"),B=r.getImageData(0,0,m,n),u=0;u<n;u++)for(var z=0;z<m;z++){var D=4*(Math.floor(u/j)*this.width+Math.floor(z/j)),y=4*(u*m+z);B.data[y]=l.data[D];B.data[y+1]=l.data[D+1];B.data[y+2]=l.data[D+2];B.data[y+3]=l.data[D+3]}r.putImageData(B,0,0);this.data=q},draw:function(j,l,m,n,q,r){if(this.loaded){var B=ig.system.scale;q=(q?q:this.width)*B;r=(r?r:this.height)*B;ig.system.context.drawImage(this.data,
m?m*B:0,n?n*B:0,q,r,ig.system.getDrawPos(j),ig.system.getDrawPos(l),q,r);ig.Image.drawCount++}},drawTile:function(j,l,m,n,q,r,B){q=q?q:n;if(this.loaded&&!(n>this.width||q>this.height)){var u=ig.system.scale,z=Math.floor(n*u),D=Math.floor(q*u),y=r?-1:1,G=B?-1:1;if(r||B)ig.system.context.save(),ig.system.context.scale(y,G);ig.system.context.drawImage(this.data,Math.floor(m*n)%this.width*u,Math.floor(m*n/this.width)*q*u,z,D,ig.system.getDrawPos(j)*y-(r?z:0),ig.system.getDrawPos(l)*G-(B?D:0),z,D);(r||
B)&&ig.system.context.restore();ig.Image.drawCount++}}});ig.Image.drawCount=0;ig.Image.cache={};ig.Image.reloadCache=function(){for(var j in ig.Image.cache)ig.Image.cache[j].reload()}});ig.baked=!0;
ig.module("impact.font").requires("impact.image").defines(function(){ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,onload:function(j){this._loadMetrics(this.data);this.parent(j)},widthForString:function(j){if(-1!==j.indexOf("\n")){j=j.split("\n");for(var l=0,m=0;m<j.length;m++)l=Math.max(l,this._widthForLine(j[m]));return l}return this._widthForLine(j)},_widthForLine:function(j){for(var l=0,m=0;m<j.length;m++)l+=this.widthMap[j.charCodeAt(m)-this.firstChar]+
this.letterSpacing;return l},heightForString:function(j){return j.split("\n").length*(this.height+this.lineSpacing)},draw:function(j,l,m,n){"string"!=typeof j&&(j=j.toString());if(-1!==j.indexOf("\n")){j=j.split("\n");for(var q=this.height+this.lineSpacing,r=0;r<j.length;r++)this.draw(j[r],l,m+r*q,n)}else{if(n==ig.Font.ALIGN.RIGHT||n==ig.Font.ALIGN.CENTER)r=this._widthForLine(j),l-=n==ig.Font.ALIGN.CENTER?r/2:r;1!==this.alpha&&(ig.system.context.globalAlpha=this.alpha);for(r=0;r<j.length;r++)n=j.charCodeAt(r),
l+=this._drawChar(n-this.firstChar,l,m);1!==this.alpha&&(ig.system.context.globalAlpha=1);ig.Image.drawCount+=j.length}},_drawChar:function(j,l,m){if(!this.loaded||0>j||j>=this.indices.length)return 0;var n=ig.system.scale,q=this.widthMap[j]*n,r=(this.height-2)*n;ig.system.context.drawImage(this.data,this.indices[j]*n,0,q,r,ig.system.getDrawPos(l),ig.system.getDrawPos(m),q,r);return this.widthMap[j]+this.letterSpacing},_loadMetrics:function(j){this.height=j.height-1;this.widthMap=[];this.indices=
[];for(var l=ig.getImagePixels(j,0,j.height-1,j.width,1),m=0,n=0,q=0;q<j.width;q++){var r=4*q+3;127<l.data[r]?n++:128>l.data[r]&&n&&(this.widthMap.push(n),this.indices.push(q-n),m++,n=0)}this.widthMap.push(n);this.indices.push(q-n)}});ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}});ig.baked=!0;
ig.module("impact.sound").defines(function(){ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){if(!ig.Sound.enabled||!window.Audio)ig.Sound.enabled=!1;else{for(var j=new Audio,l=0;l<ig.Sound.use.length;l++){var m=ig.Sound.use[l];if(j.canPlayType(m.mime)){this.format=m;break}}this.format||(ig.Sound.enabled=!1)}},load:function(j,l,m){var n=ig.prefix+j.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[j]){if(l&&this.clips[j].length<ig.Sound.channels)for(l=this.clips[j].length;l<
ig.Sound.channels;l++){var q=new Audio(n);q.load();this.clips[j].push(q)}return this.clips[j][0]}var r=new Audio(n);m&&(r.addEventListener("canplaythrough",function u(l){r.removeEventListener("canplaythrough",u,!1);m(j,!0,l)},!1),r.addEventListener("error",function(l){m(j,!1,l)},!1));r.preload="auto";r.load();this.clips[j]=[r];if(l)for(l=1;l<ig.Sound.channels;l++)q=new Audio(n),q.load(),this.clips[j].push(q);return r},get:function(j){j=this.clips[j];for(var l=0,m;m=j[l++];)if(m.paused||m.ended)return m.ended&&
(m.currentTime=0),m;j[0].pause();j[0].currentTime=0;return j[0]}});ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:!1,_volume:1,_loop:!1,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this);Object.defineProperty?(Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)}),Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)})):
this.__defineGetter__&&(this.__defineGetter__("volume",this.getVolume.bind(this)),this.__defineSetter__("volume",this.setVolume.bind(this)),this.__defineGetter__("loop",this.getLooping.bind(this)),this.__defineSetter__("loop",this.setLooping.bind(this)))},add:function(j,l){if(ig.Sound.enabled){var m=ig.soundManager.load(j instanceof ig.Sound?j.path:j,!1);m.loop=this._loop;m.volume=this._volume;m.addEventListener("ended",this._endedCallbackBound,!1);this.tracks.push(m);l&&(this.namedTracks[l]=m);this.currentTrack||
(this.currentTrack=m)}},next:function(){this.tracks.length&&(this.stop(),this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length,this.currentTrack=this.tracks[this.currentIndex],this.play())},pause:function(){this.currentTrack&&this.currentTrack.pause()},stop:function(){this.currentTrack&&(this.currentTrack.pause(),this.currentTrack.currentTime=0)},play:function(j){if(j&&this.namedTracks[j])j=this.namedTracks[j],j!=this.currentTrack&&(this.stop(),
this.currentTrack=j);else if(!this.currentTrack)return;this.currentTrack.play()},getLooping:function(){return this._loop},setLooping:function(j){this._loop=j;for(var l in this.tracks)this.tracks[l].loop=j},getVolume:function(){return this._volume},setVolume:function(j){this._volume=j.limit(0,1);for(var l in this.tracks)this.tracks[l].volume=this._volume},fadeOut:function(j){this.currentTrack&&(clearInterval(this._fadeInterval),this.fadeTimer=new ig.Timer(j),this._fadeInterval=setInterval(this._fadeStep.bind(this),
50))},_fadeStep:function(){var j=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;0.01>=j?(this.stop(),this.currentTrack.volume=this._volume,clearInterval(this._fadeInterval)):this.currentTrack.volume=j},_endedCallback:function(){this._loop?this.play():this.next()}});ig.Sound=ig.Class.extend({path:"",volume:1,currentClip:null,multiChannel:!0,init:function(j,l){this.path=j;this.multiChannel=!1!==l;this.load()},load:function(j){ig.Sound.enabled?ig.ready?ig.soundManager.load(this.path,
this.multiChannel,j):ig.addResource(this):j&&j(this.path,!0)},play:function(){ig.Sound.enabled&&(this.currentClip=ig.soundManager.get(this.path),this.currentClip.volume=ig.soundManager.volume*this.volume,this.currentClip.play())},stop:function(){this.currentClip&&(this.currentClip.pause(),this.currentClip.currentTime=0)}});ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},
CAF:{ext:"caf",mime:"audio/x-caf"}};ig.Sound.use=[ig.Sound.FORMAT.OGG,ig.Sound.FORMAT.MP3];ig.Sound.channels=4;ig.Sound.enabled=!0});ig.baked=!0;
ig.module("impact.loader").requires("impact.image","impact.font","impact.sound").defines(function(){ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:!1,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(j,l){this.gameClass=j;this.resources=l;this._loadCallbackBound=this._loadCallback.bind(this);for(var m=0;m<this.resources.length;m++)this._unloaded.push(this.resources[m].path)},load:function(){ig.system.clear("#000");if(this.resources.length){for(var j=
0;j<this.resources.length;j++)this.loadResource(this.resources[j]);this._intervalId=setInterval(this.draw.bind(this),16)}else this.end()},loadResource:function(j){j.load(this._loadCallbackBound)},end:function(){this.done||(this.done=!0,clearInterval(this._intervalId))},draw:function(){},_loadCallback:function(j,l){if(l)this._unloaded.erase(j);else throw"Failed to load resource: "+j;this.status=1-this._unloaded.length/this.resources.length;0==this._unloaded.length&&setTimeout(this.end.bind(this),250)}})});
ig.baked=!0;
ig.module("impact.timer").defines(function(){ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(j){this.last=this.base=ig.Timer.time;this.target=j||0},set:function(j){this.target=j||0;this.base=ig.Timer.time;this.pausedAt=0},reset:function(){this.base=ig.Timer.time;this.pausedAt=0},tick:function(){var j=ig.Timer.time-this.last;this.last=ig.Timer.time;return this.pausedAt?0:j},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){this.pausedAt||(this.pausedAt=
ig.Timer.time)},unpause:function(){this.pausedAt&&(this.base+=ig.Timer.time-this.pausedAt,this.pausedAt=0)}});ig.Timer._last=0;ig.Timer.time=Number.MIN_VALUE;ig.Timer.timeScale=1;ig.Timer.maxStep=0.05;ig.Timer.step=function(){var j=Date.now();ig.Timer.time+=Math.min((j-ig.Timer._last)/1E3,ig.Timer.maxStep)*ig.Timer.timeScale;ig.Timer._last=j}});ig.baked=!0;
ig.module("impact.system").requires("impact.timer","impact.image").defines(function(){ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:!1,delegate:null,clock:null,canvas:null,context:null,init:function(j,l,m,n,q){this.fps=l;this.clock=new ig.Timer;this.canvas=ig.$(j);this.resize(m,n,q);this.context=this.canvas.getContext("2d");this.getDrawPos=ig.System.drawMode;1!=this.scale&&(ig.System.scaleMode=ig.System.SCALE.CRISP);
ig.System.scaleMode(this.canvas,this.context)},resize:function(j,l,m){this.width=j;this.height=l;this.scale=m||this.scale;this.realWidth=this.width*this.scale;this.realHeight=this.height*this.scale;this.canvas.width=this.realWidth;this.canvas.height=this.realHeight},setGame:function(j){this.running?this.newGameClass=j:this.setGameNow(j)},setGameNow:function(j){ig.game=new j;ig.system.setDelegate(ig.game)},setDelegate:function(j){if("function"==typeof j.run)this.delegate=j,this.startRunLoop();else throw"System.setDelegate: No run() function in object";
},stopRunLoop:function(){ig.clearAnimation(this.animationId);this.running=!1},startRunLoop:function(){this.stopRunLoop();this.animationId=ig.setAnimation(this.run.bind(this),this.canvas);this.running=!0},clear:function(j){this.context.fillStyle=j;this.context.fillRect(0,0,this.realWidth,this.realHeight)},run:function(){ig.Timer.step();this.tick=this.clock.tick();this.delegate.run();ig.input.clearPressed();this.newGameClass&&(this.setGameNow(this.newGameClass),this.newGameClass=null)},getDrawPos:null});
ig.System.DRAW={AUTHENTIC:function(j){return Math.round(j)*this.scale},SMOOTH:function(j){return Math.round(j*this.scale)},SUBPIXEL:function(j){return j*this.scale}};ig.System.drawMode=ig.System.DRAW.SMOOTH;ig.System.SCALE={CRISP:function(j,l){ig.setVendorAttribute(l,"imageSmoothingEnabled",!1);j.style.imageRendering="-moz-crisp-edges";j.style.imageRendering="-o-crisp-edges";j.style.imageRendering="-webkit-optimize-contrast";j.style.imageRendering="crisp-edges";j.style.msInterpolationMode="nearest-neighbor"},
SMOOTH:function(j,l){ig.setVendorAttribute(l,"imageSmoothingEnabled",!0);j.style.imageRendering="";j.style.msInterpolationMode=""}};ig.System.scaleMode=ig.System.SCALE.SMOOTH});ig.baked=!0;
ig.module("impact.input").defines(function(){ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,
NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:!1,isUsingKeyboard:!1,isUsingAccelerometer:!1,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(!this.isUsingMouse){this.isUsingMouse=
!0;var j=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",j,!1);ig.system.canvas.addEventListener("DOMMouseScroll",j,!1);ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),!1);ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1);ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1);ig.ua.touchDevice&&(ig.system.canvas.addEventListener("touchstart",
this.keydown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),!1),ig.system.canvas.addEventListener("MSPointerDown",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",this.mousemove.bind(this),!1),ig.system.canvas.style.msTouchAction="none")}},initKeyboard:function(){this.isUsingKeyboard||(this.isUsingKeyboard=
!0,window.addEventListener("keydown",this.keydown.bind(this),!1),window.addEventListener("keyup",this.keyup.bind(this),!1))},initAccelerometer:function(){this.isUsingAccelerometer||window.addEventListener("devicemotion",this.devicemotion.bind(this),!1)},mousewheel:function(j){var l=this.bindings[0<(j.wheelDelta?j.wheelDelta:-1*j.detail)?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN];l&&(this.actions[l]=!0,this.presses[l]=!0,this.delayedKeyup[l]=!0,j.stopPropagation(),j.preventDefault())},mousemove:function(j){var l=
parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth;ig.ua.mobile&&(l=ig.system.realWidth);var l=ig.system.scale*(l/ig.system.realWidth),m={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(m=ig.system.canvas.getBoundingClientRect());j=j.touches?j.touches[0]:j;this.mouse.x=(j.clientX-m.left)/l;this.mouse.y=(j.clientY-m.top)/l},contextmenu:function(j){this.bindings[ig.KEY.MOUSE2]&&(j.stopPropagation(),j.preventDefault())},keydown:function(j){var l=j.target.tagName;if(!("INPUT"==l||"TEXTAREA"==
l))if(l="keydown"==j.type?j.keyCode:2==j.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1,("touchstart"==j.type||"mousedown"==j.type)&&this.mousemove(j),l=this.bindings[l])this.actions[l]=!0,this.locks[l]||(this.presses[l]=!0,this.locks[l]=!0),j.stopPropagation(),j.preventDefault()},keyup:function(j){var l=j.target.tagName;if(!("INPUT"==l||"TEXTAREA"==l))if(l=this.bindings["keyup"==j.type?j.keyCode:2==j.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1])this.delayedKeyup[l]=!0,j.stopPropagation(),j.preventDefault()},devicemotion:function(j){this.accel=
j.accelerationIncludingGravity},bind:function(j,l){0>j?this.initMouse():0<j&&this.initKeyboard();this.bindings[j]=l},bindTouch:function(j,l){var m=ig.$(j),n=this;m.addEventListener("touchstart",function(j){n.touchStart(j,l)},!1);m.addEventListener("touchend",function(j){n.touchEnd(j,l)},!1);m.addEventListener("MSPointerDown",function(j){n.touchStart(j,l)},!1);m.addEventListener("MSPointerUp",function(j){n.touchEnd(j,l)},!1)},unbind:function(j){this.delayedKeyup[this.bindings[j]]=!0;this.bindings[j]=
null},unbindAll:function(){this.bindings={};this.actions={};this.presses={};this.locks={};this.delayedKeyup={}},state:function(j){return this.actions[j]},pressed:function(j){return this.presses[j]},released:function(j){return!!this.delayedKeyup[j]},clearPressed:function(){for(var j in this.delayedKeyup)this.actions[j]=!1,this.locks[j]=!1;this.delayedKeyup={};this.presses={}},touchStart:function(j,l){this.actions[l]=!0;this.presses[l]=!0;j.stopPropagation();j.preventDefault();return!1},touchEnd:function(j,
l){this.delayedKeyup[l]=!0;j.stopPropagation();j.preventDefault();return!1}})});ig.baked=!0;ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){ig.main=function(j,l,m,n,q,r,B){ig.system=new ig.System(j,m,n,q,r||1);ig.input=new ig.Input;ig.soundManager=new ig.SoundManager;ig.music=new ig.Music;ig.ready=!0;(new (B||ig.Loader)(l,ig.resources)).load()}});ig.baked=!0;
ig.module("impact.animation").requires("impact.timer","impact.image").defines(function(){ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(j,l,m){this.width=l;this.height=m;this.image=new ig.Image(j)}});ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:!1,y:!1},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(j,l,m,n){this.sheet=j;this.pivot={x:j.width/2,y:j.height/2};this.timer=new ig.Timer;this.frameTime=l;this.sequence=m;
this.stop=!!n;this.tile=this.sequence[0]},rewind:function(){this.timer.set();this.frame=this.loopCount=0;this.tile=this.sequence[0];return this},gotoFrame:function(j){this.timer.set(this.frameTime*-j-1E-4);this.update()},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var j=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(j/this.sequence.length);this.frame=this.stop&&0<this.loopCount?this.sequence.length-1:j%this.sequence.length;
this.tile=this.sequence[this.frame]},draw:function(j,l){var m=Math.max(this.sheet.width,this.sheet.height);j>ig.system.width||(l>ig.system.height||0>j+m||0>l+m)||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),0==this.angle?this.sheet.image.drawTile(j,l,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y):(ig.system.context.save(),ig.system.context.translate(ig.system.getDrawPos(j+this.pivot.x),ig.system.getDrawPos(l+this.pivot.y)),ig.system.context.rotate(this.angle),
this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()),1!=this.alpha&&(ig.system.context.globalAlpha=1))}})});ig.baked=!0;
ig.module("impact.entity").requires("impact.animation","impact.impact").defines(function(){ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:!1,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:!1,slopeStanding:{min:(44).toRad(),max:(136).toRad()},init:function(j,
l,m){this.id=++ig.Entity._lastId;this.pos.x=this.last.x=j;this.pos.y=this.last.y=l;ig.merge(this,m)},reset:function(j,l,m){var n=this.constructor.prototype;this.pos.x=j;this.pos.y=l;this.last.x=j;this.last.y=l;this.vel.x=n.vel.x;this.vel.y=n.vel.y;this.accel.x=n.accel.x;this.accel.y=n.accel.y;this.health=n.health;this._killed=n._killed;this.standing=n.standing;this.type=n.type;this.checkAgainst=n.checkAgainst;this.collides=n.collides;ig.merge(this,m)},addAnim:function(j,l,m,n){if(!this.animSheet)throw"No animSheet to add the animation "+
j+" to.";l=new ig.Animation(this.animSheet,l,m,n);this.anims[j]=l;this.currentAnim||(this.currentAnim=l);return l},update:function(){this.last.x=this.pos.x;this.last.y=this.pos.y;this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor;this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,this.maxVel.x);this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var j=ig.game.collisionMap.trace(this.pos.x,this.pos.y,this.vel.x*ig.system.tick,this.vel.y*
ig.system.tick,this.size.x,this.size.y);this.handleMovementTrace(j);this.currentAnim&&this.currentAnim.update()},getNewVelocity:function(j,l,m,n){return l?(j+l*ig.system.tick).limit(-n,n):m?(l=m*ig.system.tick,0<j-l?j-l:0>j+l?j+l:0):j.limit(-n,n)},handleMovementTrace:function(j){this.standing=!1;j.collision.y&&(0<this.bounciness&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(0<this.vel.y&&(this.standing=!0),this.vel.y=0));j.collision.x&&(this.vel.x=0<this.bounciness&&Math.abs(this.vel.x)>
this.minBounceVelocity?this.vel.x*-this.bounciness:0);if(j.collision.slope){var l=j.collision.slope;if(0<this.bounciness){var m=this.vel.x*l.nx+this.vel.y*l.ny;this.vel.x=(this.vel.x-2*l.nx*m)*this.bounciness;this.vel.y=(this.vel.y-2*l.ny*m)*this.bounciness}else m=(this.vel.x*l.x+this.vel.y*l.y)/(l.x*l.x+l.y*l.y),this.vel.x=l.x*m,this.vel.y=l.y*m,l=Math.atan2(l.x,l.y),l>this.slopeStanding.min&&l<this.slopeStanding.max&&(this.standing=!0)}this.pos=j.pos},draw:function(){this.currentAnim&&this.currentAnim.draw(this.pos.x-
this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y)},kill:function(){ig.game.removeEntity(this)},receiveDamage:function(j){this.health-=j;0>=this.health&&this.kill()},touches:function(j){return!(this.pos.x>=j.pos.x+j.size.x||this.pos.x+this.size.x<=j.pos.x||this.pos.y>=j.pos.y+j.size.y||this.pos.y+this.size.y<=j.pos.y)},distanceTo:function(j){var l=this.pos.x+this.size.x/2-(j.pos.x+j.size.x/2);j=this.pos.y+this.size.y/2-(j.pos.y+j.size.y/2);return Math.sqrt(l*l+j*j)},angleTo:function(j){return Math.atan2(j.pos.y+
j.size.y/2-(this.pos.y+this.size.y/2),j.pos.x+j.size.x/2-(this.pos.x+this.size.x/2))},check:function(){},collideWith:function(){},ready:function(){},erase:function(){}});ig.Entity._lastId=0;ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3};ig.Entity.checkPair=function(j,l){j.checkAgainst&l.type&&j.check(l);l.checkAgainst&j.type&&l.check(j);j.collides&&(l.collides&&j.collides+l.collides>ig.Entity.COLLIDES.ACTIVE)&&ig.Entity.solveCollision(j,l)};ig.Entity.solveCollision=
function(j,l){var m=null;if(j.collides==ig.Entity.COLLIDES.LITE||l.collides==ig.Entity.COLLIDES.FIXED)m=j;else if(l.collides==ig.Entity.COLLIDES.LITE||j.collides==ig.Entity.COLLIDES.FIXED)m=l;j.last.x+j.size.x>l.last.x&&j.last.x<l.last.x+l.size.x?(j.last.y<l.last.y?ig.Entity.seperateOnYAxis(j,l,m):ig.Entity.seperateOnYAxis(l,j,m),j.collideWith(l,"y"),l.collideWith(j,"y")):j.last.y+j.size.y>l.last.y&&j.last.y<l.last.y+l.size.y&&(j.last.x<l.last.x?ig.Entity.seperateOnXAxis(j,l,m):ig.Entity.seperateOnXAxis(l,
j,m),j.collideWith(l,"x"),l.collideWith(j,"x"))};ig.Entity.seperateOnXAxis=function(j,l,m){var n=j.pos.x+j.size.x-l.pos.x;m?(m.vel.x=-m.vel.x*m.bounciness+(j===m?l:j).vel.x,l=ig.game.collisionMap.trace(m.pos.x,m.pos.y,m==j?-n:n,0,m.size.x,m.size.y),m.pos.x=l.pos.x):(m=(j.vel.x-l.vel.x)/2,j.vel.x=-m,l.vel.x=m,m=ig.game.collisionMap.trace(j.pos.x,j.pos.y,-n/2,0,j.size.x,j.size.y),j.pos.x=Math.floor(m.pos.x),j=ig.game.collisionMap.trace(l.pos.x,l.pos.y,n/2,0,l.size.x,l.size.y),l.pos.x=Math.ceil(j.pos.x))};
ig.Entity.seperateOnYAxis=function(j,l,m){var n=j.pos.y+j.size.y-l.pos.y;if(m){l=j===m?l:j;m.vel.y=-m.vel.y*m.bounciness+l.vel.y;var q=0;m==j&&Math.abs(m.vel.y-l.vel.y)<m.minBounceVelocity&&(m.standing=!0,q=l.vel.x*ig.system.tick);j=ig.game.collisionMap.trace(m.pos.x,m.pos.y,q,m==j?-n:n,m.size.x,m.size.y);m.pos.y=j.pos.y;m.pos.x=j.pos.x}else ig.game.gravity&&(l.standing||0<j.vel.y)?(m=ig.game.collisionMap.trace(j.pos.x,j.pos.y,0,-(j.pos.y+j.size.y-l.pos.y),j.size.x,j.size.y),j.pos.y=m.pos.y,0<j.bounciness&&
j.vel.y>j.minBounceVelocity?j.vel.y*=-j.bounciness:(j.standing=!0,j.vel.y=0)):(m=(j.vel.y-l.vel.y)/2,j.vel.y=-m,l.vel.y=m,q=l.vel.x*ig.system.tick,m=ig.game.collisionMap.trace(j.pos.x,j.pos.y,q,-n/2,j.size.x,j.size.y),j.pos.y=m.pos.y,j=ig.game.collisionMap.trace(l.pos.x,l.pos.y,0,n/2,l.size.x,l.size.y),l.pos.y=j.pos.y)}});ig.baked=!0;
ig.module("impact.map").defines(function(){ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(j,l){this.tilesize=j;this.data=l;this.height=l.length;this.width=l[0].length;this.pxWidth=this.width*this.tilesize;this.pxHeight=this.height*this.tilesize},getTile:function(j,l){var m=Math.floor(j/this.tilesize),n=Math.floor(l/this.tilesize);return 0<=m&&m<this.width&&0<=n&&n<this.height?this.data[n][m]:0},setTile:function(j,l,m){j=Math.floor(j/this.tilesize);l=Math.floor(l/
this.tilesize);0<=j&&j<this.width&&(0<=l&&l<this.height)&&(this.data[l][j]=m)}})});ig.baked=!0;
ig.module("impact.collision-map").requires("impact.map").defines(function(){ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(j,l,q){this.parent(j,l);this.tiledef=q||ig.CollisionMap.defaultTileDef;for(var r in this.tiledef)r|0>this.lastSlope&&(this.lastSlope=r|0)},trace:function(j,l,q,r,B,u){var z={collision:{x:!1,y:!1,slope:!1},pos:{x:j,y:l},tile:{x:0,y:0}},D=Math.ceil(Math.max(Math.abs(q),Math.abs(r))/this.tilesize);if(1<D)for(var y=q/D,G=r/D,K=0;K<D&&(y||G)&&!(this._traceStep(z,
j,l,y,G,B,u,q,r,K),j=z.pos.x,l=z.pos.y,z.collision.x&&(q=y=0),z.collision.y&&(r=G=0),z.collision.slope);K++);else this._traceStep(z,j,l,q,r,B,u,q,r,0);return z},_traceStep:function(j,l,q,r,B,u,z,D,y,G){j.pos.x+=r;j.pos.y+=B;var K=0;if(r){var L=0<r?u:0,t=0>r?this.tilesize:0,K=Math.max(Math.floor(q/this.tilesize),0),E=Math.min(Math.ceil((q+z)/this.tilesize),this.height);r=Math.floor((j.pos.x+L)/this.tilesize);var A=Math.floor((l+L)/this.tilesize);if(0<G||r==A||0>A||A>=this.width)A=-1;if(0<=r&&r<this.width)for(var R=
K;R<E&&!(-1!=A&&(K=this.data[R][A],1<K&&K<=this.lastSlope&&this._checkTileDef(j,K,l,q,D,y,u,z,A,R)));R++)if(K=this.data[R][r],1==K||K>this.lastSlope||1<K&&this._checkTileDef(j,K,l,q,D,y,u,z,r,R)){if(1<K&&K<=this.lastSlope&&j.collision.slope)break;j.collision.x=!0;j.tile.x=K;l=j.pos.x=r*this.tilesize-L+t;D=0;break}}if(B){L=0<B?z:0;B=0>B?this.tilesize:0;K=Math.max(Math.floor(j.pos.x/this.tilesize),0);t=Math.min(Math.ceil((j.pos.x+u)/this.tilesize),this.width);R=Math.floor((j.pos.y+L)/this.tilesize);
E=Math.floor((q+L)/this.tilesize);if(0<G||R==E||0>E||E>=this.height)E=-1;if(0<=R&&R<this.height)for(r=K;r<t&&!(-1!=E&&(K=this.data[E][r],1<K&&K<=this.lastSlope&&this._checkTileDef(j,K,l,q,D,y,u,z,r,E)));r++)if(K=this.data[R][r],1==K||K>this.lastSlope||1<K&&this._checkTileDef(j,K,l,q,D,y,u,z,r,R)){if(1<K&&K<=this.lastSlope&&j.collision.slope)break;j.collision.y=!0;j.tile.y=K;j.pos.y=R*this.tilesize-L+B;break}}},_checkTileDef:function(j,l,q,r,B,u,z,D,y,G){var K=this.tiledef[l];if(!K)return!1;l=(K[2]-
K[0])*this.tilesize;var L=(K[3]-K[1])*this.tilesize,t=K[4];z=q+B+(0>L?z:0)-(y+K[0])*this.tilesize;D=r+u+(0<l?D:0)-(G+K[1])*this.tilesize;if(0<l*D-L*z){if(0>B*-L+u*l)return t;y=Math.sqrt(l*l+L*L);G=L/y;y=-l/y;var E=z*G+D*y,K=G*E,E=y*E;if(K*K+E*E>=B*B+u*u)return t||0.5>l*(D-u)-L*(z-B);j.pos.x=q+B-K;j.pos.y=r+u-E;j.collision.slope={x:l,y:L,nx:G,ny:y};return!0}return!1}});var j=1/3,l=2/3;ig.CollisionMap.defaultTileDef={5:[0,1,1,l,!0],6:[0,l,1,j,!0],7:[0,j,1,0,!0],3:[0,1,1,0.5,!0],4:[0,0.5,1,0,!0],2:[0,
1,1,0,!0],10:[0.5,1,1,0,!0],21:[0,1,0.5,0,!0],32:[l,1,1,0,!0],43:[j,1,l,0,!0],54:[0,1,j,0,!0],27:[0,0,1,j,!0],28:[0,j,1,l,!0],29:[0,l,1,1,!0],25:[0,0,1,0.5,!0],26:[0,0.5,1,1,!0],24:[0,0,1,1,!0],11:[0,0,0.5,1,!0],22:[0.5,0,1,1,!0],33:[0,0,j,1,!0],44:[j,0,l,1,!0],55:[l,0,1,1,!0],16:[1,j,0,0,!0],17:[1,l,0,j,!0],18:[1,1,0,l,!0],14:[1,0.5,0,0,!0],15:[1,1,0,0.5,!0],13:[1,1,0,0,!0],8:[0.5,1,0,0,!0],19:[1,1,0.5,0,!0],30:[j,1,0,0,!0],41:[l,1,j,0,!0],52:[1,1,l,0,!0],38:[1,l,0,1,!0],39:[1,j,0,l,!0],40:[1,0,
0,j,!0],36:[1,0.5,0,1,!0],37:[1,0,0,0.5,!0],35:[1,0,0,1,!0],9:[1,0,0.5,1,!0],20:[0.5,0,0,1,!0],31:[1,0,l,1,!0],42:[l,0,j,1,!0],53:[j,0,0,1,!0],12:[0,0,1,0,!1],23:[1,1,0,1,!1],34:[1,0,1,1,!1],45:[0,1,0,0,!1]};ig.CollisionMap.staticNoCollision={trace:function(j,l,q,r){return{collision:{x:!1,y:!1,slope:!1},pos:{x:j+q,y:l+r},tile:{x:0,y:0}}}}});ig.baked=!0;
ig.module("impact.background-map").requires("impact.map","impact.image").defines(function(){ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:!1,tilesetName:"",foreground:!1,enabled:!0,preRender:!1,preRenderedChunks:null,chunkSize:512,debugChunks:!1,anims:{},init:function(j,l,m){this.parent(j,l);this.setTileset(m)},setTileset:function(j){this.tilesetName=j instanceof ig.Image?j.path:j;this.tiles=new ig.Image(this.tilesetName);this.preRenderedChunks=null},setScreenPos:function(j,
l){this.scroll.x=j/this.distance;this.scroll.y=l/this.distance},preRenderMapToChunks:function(){var j=this.width*this.tilesize*ig.system.scale,l=this.height*this.tilesize*ig.system.scale;this.chunkSize=Math.min(Math.max(j,l),this.chunkSize);var m=Math.ceil(j/this.chunkSize),n=Math.ceil(l/this.chunkSize);this.preRenderedChunks=[];for(var q=0;q<n;q++){this.preRenderedChunks[q]=[];for(var r=0;r<m;r++)this.preRenderedChunks[q][r]=this.preRenderChunk(r,q,r==m-1?j-r*this.chunkSize:this.chunkSize,q==n-1?
l-q*this.chunkSize:this.chunkSize)}},preRenderChunk:function(j,l,m,n){var q=m/this.tilesize/ig.system.scale+1,r=n/this.tilesize/ig.system.scale+1,B=j*this.chunkSize/ig.system.scale%this.tilesize,u=l*this.chunkSize/ig.system.scale%this.tilesize;j=Math.floor(j*this.chunkSize/this.tilesize/ig.system.scale);l=Math.floor(l*this.chunkSize/this.tilesize/ig.system.scale);var z=ig.$new("canvas");z.width=m;z.height=n;z.retinaResolutionEnabled=!1;n=z.getContext("2d");ig.System.scaleMode(z,n);m=ig.system.context;
ig.system.context=n;for(n=0;n<q;n++)for(var D=0;D<r;D++)if(n+j<this.width&&D+l<this.height){var y=this.data[D+l][n+j];y&&this.tiles.drawTile(n*this.tilesize-B,D*this.tilesize-u,y-1,this.tilesize)}ig.system.context=m;return z},draw:function(){this.tiles.loaded&&this.enabled&&(this.preRender?this.drawPreRendered():this.drawTiled())},drawPreRendered:function(){this.preRenderedChunks||this.preRenderMapToChunks();var j=ig.system.getDrawPos(this.scroll.x),l=ig.system.getDrawPos(this.scroll.y);if(this.repeat)var m=
this.width*this.tilesize*ig.system.scale,j=(j%m+m)%m,m=this.height*this.tilesize*ig.system.scale,l=(l%m+m)%m;var m=Math.max(Math.floor(j/this.chunkSize),0),n=Math.max(Math.floor(l/this.chunkSize),0),q=Math.ceil((j+ig.system.realWidth)/this.chunkSize),r=Math.ceil((l+ig.system.realHeight)/this.chunkSize),B=this.preRenderedChunks[0].length,u=this.preRenderedChunks.length;this.repeat||(q=Math.min(q,B),r=Math.min(r,u));for(var z=0;n<r;n++){for(var D=0,y=m;y<q;y++){var G=this.preRenderedChunks[n%u][y%B],
K=-j+y*this.chunkSize-D,L=-l+n*this.chunkSize-z;ig.system.context.drawImage(G,K,L);ig.Image.drawCount++;this.debugChunks&&(ig.system.context.strokeStyle="#f0f",ig.system.context.strokeRect(K,L,this.chunkSize,this.chunkSize));this.repeat&&(G.width<this.chunkSize&&K+G.width<ig.system.realWidth)&&(D+=this.chunkSize-G.width,q++)}this.repeat&&(G.height<this.chunkSize&&L+G.height<ig.system.realHeight)&&(z+=this.chunkSize-G.height,r++)}},drawTiled:function(){for(var j=0,l=null,m=(this.scroll.x/this.tilesize).toInt(),
n=(this.scroll.y/this.tilesize).toInt(),q=this.scroll.x%this.tilesize,r=this.scroll.y%this.tilesize,B=-q-this.tilesize,q=ig.system.width+this.tilesize-q,u=ig.system.height+this.tilesize-r,z=-1,r=-r-this.tilesize;r<u;z++,r+=this.tilesize){var D=z+n;if(D>=this.height||0>D){if(!this.repeat)continue;D=(D%this.height+this.height)%this.height}for(var y=-1,G=B;G<q;y++,G+=this.tilesize){j=y+m;if(j>=this.width||0>j){if(!this.repeat)continue;j=(j%this.width+this.width)%this.width}if(j=this.data[D][j])(l=this.anims[j-
1])?l.draw(G,r):this.tiles.drawTile(G,r,j-1,this.tilesize)}}}})});ig.baked=!0;
ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:!1,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:!1,staticInstantiate:function(){this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX;
ig.game=this;return null},loadLevel:function(j){this.screen={x:0,y:0};this.entities=[];this.namedEntities={};for(var l=0;l<j.entities.length;l++){var m=j.entities[l];this.spawnEntity(m.type,m.x,m.y,m.settings)}this.sortEntities();this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(l=0;l<j.layer.length;l++)if(m=j.layer[l],"collision"==m.name)this.collisionMap=new ig.CollisionMap(m.tilesize,m.data);else{var n=new ig.BackgroundMap(m.tilesize,m.data,m.tilesetName);n.anims=this.backgroundAnims[m.tilesetName]||
{};n.repeat=m.repeat;n.distance=m.distance;n.foreground=!!m.foreground;n.preRender=!!m.preRender;n.name=m.name;this.backgroundMaps.push(n)}for(l=0;l<this.entities.length;l++)this.entities[l].ready()},loadLevelDeferred:function(j){this._levelToLoad=j},getMapByName:function(j){if("collision"==j)return this.collisionMap;for(var l=0;l<this.backgroundMaps.length;l++)if(this.backgroundMaps[l].name==j)return this.backgroundMaps[l];return null},getEntityByName:function(j){return this.namedEntities[j]},getEntitiesByType:function(j){j=
"string"===typeof j?ig.global[j]:j;for(var l=[],m=0;m<this.entities.length;m++){var n=this.entities[m];n instanceof j&&!n._killed&&l.push(n)}return l},spawnEntity:function(j,l,m,n){var q="string"===typeof j?ig.global[j]:j;if(!q)throw"Can't spawn entity of type "+j;j=new q(l,m,n||{});this.entities.push(j);j.name&&(this.namedEntities[j.name]=j);return j},sortEntities:function(){this.entities.sort(this.sortBy)},sortEntitiesDeferred:function(){this._doSortEntities=!0},removeEntity:function(j){j.name&&
delete this.namedEntities[j.name];j._killed=!0;j.type=ig.Entity.TYPE.NONE;j.checkAgainst=ig.Entity.TYPE.NONE;j.collides=ig.Entity.COLLIDES.NEVER;this._deferredKill.push(j)},run:function(){this.update();this.draw()},update:function(){this._levelToLoad&&(this.loadLevel(this._levelToLoad),this._levelToLoad=null);this.updateEntities();this.checkEntities();for(var j=0;j<this._deferredKill.length;j++)this._deferredKill[j].erase(),this.entities.erase(this._deferredKill[j]);this._deferredKill=[];if(this._doSortEntities||
this.autoSort)this.sortEntities(),this._doSortEntities=!1;for(var l in this.backgroundAnims){var j=this.backgroundAnims[l],m;for(m in j)j[m].update()}},updateEntities:function(){for(var j=0;j<this.entities.length;j++){var l=this.entities[j];l._killed||l.update()}},draw:function(){this.clearColor&&ig.system.clear(this.clearColor);this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale;this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var j;for(j=0;j<this.backgroundMaps.length;j++){var l=
this.backgroundMaps[j];if(l.foreground)break;l.setScreenPos(this.screen.x,this.screen.y);l.draw()}this.drawEntities();for(j;j<this.backgroundMaps.length;j++)l=this.backgroundMaps[j],l.setScreenPos(this.screen.x,this.screen.y),l.draw()},drawEntities:function(){for(var j=0;j<this.entities.length;j++)this.entities[j].draw()},checkEntities:function(){for(var j={},l=0;l<this.entities.length;l++){var m=this.entities[l];if(!(m.type==ig.Entity.TYPE.NONE&&m.checkAgainst==ig.Entity.TYPE.NONE&&m.collides==ig.Entity.COLLIDES.NEVER))for(var n=
{},q=Math.floor(m.pos.y/this.cellSize),r=Math.floor((m.pos.x+m.size.x)/this.cellSize)+1,B=Math.floor((m.pos.y+m.size.y)/this.cellSize)+1,u=Math.floor(m.pos.x/this.cellSize);u<r;u++)for(var z=q;z<B;z++)if(j[u])if(j[u][z]){for(var D=j[u][z],y=0;y<D.length;y++)m.touches(D[y])&&!n[D[y].id]&&(n[D[y].id]=!0,ig.Entity.checkPair(m,D[y]));D.push(m)}else j[u][z]=[m];else j[u]={},j[u][z]=[m]}}});ig.Game.SORT={Z_INDEX:function(j,l){return j.zIndex-l.zIndex},POS_X:function(j,l){return j.pos.x+j.size.x-(l.pos.x+
l.size.x)},POS_Y:function(j,l){return j.pos.y+j.size.y-(l.pos.y+l.size.y)}}});ig.baked=!0;
ig.module("plugins.patches.webkit-image-smoothing-patch").defines(function(){ig.System&&(ig.System.SCALE={CRISP:function(j,l){l.imageSmoothingEnabled=l.msImageSmoothingEnabled=l.mozImageSmoothingEnabled=l.oImageSmoothingEnabled=!1;j.style.imageRendering="-moz-crisp-edges";j.style.imageRendering="-o-crisp-edges";j.style.imageRendering="-webkit-optimize-contrast";j.style.imageRendering="crisp-edges";j.style.msInterpolationMode="nearest-neighbor"},SMOOTH:function(j,l){l.imageSmoothingEnabled=l.msImageSmoothingEnabled=
l.mozImageSmoothingEnabled=l.oImageSmoothingEnabled=!0;j.style.imageRendering="";j.style.msInterpolationMode=""}},ig.System.scaleMode=ig.System.SCALE.SMOOTH)});ig.baked=!0;
ig.module("plugins.patches.windowfocus-onMouseDown-patch").defines(function(){var j=!1;try{j=window.self!==window.top,!1===j&&(j=0<window.frames.length)}catch(l){j=!0}ig.Input.inject({keydown:function(l){var n=l.target.tagName;if(!("INPUT"==n||"TEXTAREA"==n))if(n="keydown"==l.type?l.keyCode:2==l.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1,j&&0>n&&window.focus(),("touchstart"==l.type||"mousedown"==l.type)&&this.mousemove(l),n=this.bindings[n])this.actions[n]=!0,this.locks[n]||(this.presses[n]=!0,this.locks[n]=
!0),l.stopPropagation(),l.preventDefault()}})});ig.baked=!0;
ig.module("plugins.handlers.dom-handler").defines(function(){ig.DomHandler=ig.Class.extend({JQUERYAVAILABLE:!1,init:function(){this.JQUERYAVAILABLE=this._jqueryAvailable()},_jqueryAvailable:function(){return"undefined"!==typeof jQuery},addEvent:function(j,l,m,n){if(this.JQUERYAVAILABLE)j.on(l,m);else j.addEventListener(l,m,n)},create:function(j){return this.JQUERYAVAILABLE?$("<"+j+">"):ig.$new(j)},getElementByClass:function(j){return this.JQUERYAVAILABLE?$("."+j):document.getElementsByClassName(j)},
getElementById:function(j){return this.JQUERYAVAILABLE?0<$(j).length?$(j):null:ig.$(j)},appendChild:function(j,l){this.JQUERYAVAILABLE?j.append(l):j.appendChild(l)},appendToBody:function(j){this.JQUERYAVAILABLE?$("body").append(j):document.body.appendChild(j)},resize:function(j,l,m){if(this.JQUERYAVAILABLE)j.width(l.toFixed(2)),j.height(m.toFixed(2));else{var n=j.style.visibility;l="width:"+l.toFixed(2)+"px; height:"+m.toFixed(2)+"px;";this.attr(j,"style",l);j.style.visibility=n}},resizeOffsetLeft:function(j,
l,m,n){if(this.JQUERYAVAILABLE)j.width(l.toFixed(2)),j.height(m.toFixed(2)),j.css("left",n);else{var q=j.style.visibility;l="width:"+l.toFixed(2)+"px; height:"+m.toFixed(2)+"px; left: "+n.toFixed(2)+"px;";this.attr(j,"style",l);j.style.visibility=q}},css:function(j,l){if(this.JQUERYAVAILABLE)j.css(l);else{var m="",n;for(n in l)m+=n+":"+l[n]+";";this.attr(j,"style",m)}},getOffsets:function(j){return this.JQUERYAVAILABLE?(j=j.offset(),{left:j.left,top:j.top}):{left:j.offsetLeft,top:j.offsetTop}},attr:function(j,
l,m){if("undefined"===typeof m)return this.JQUERYAVAILABLE?j.attr(l):j.getAttribute(l);this.JQUERYAVAILABLE?j.attr(l,m):j.setAttribute(l,m)},show:function(j){this.JQUERYAVAILABLE?(j.show(),j.css("visibility","visible")):j&&(j.style?j.style.visibility="visible":j[0]&&(j[0].style.visibility="visible"))},hide:function(j){this.JQUERYAVAILABLE?(j.hide(),j.css("visibility","hidden")):j&&(j.style?j.style.visibility="hidden":j[0]&&(j[0].style.visibility="hidden"))},getQueryVariable:function(j){for(var l=
window.location.search.substring(1).split("&"),m=0;m<l.length;m++){var n=l[m].split("=");if(decodeURIComponent(n[0])==j)return decodeURIComponent(n[1])}},forcedDeviceDetection:function(){var j=this.getQueryVariable("device");if(j)switch(j){case "mobile":console.log("serving mobile version ...");ig.ua.mobile=!0;break;case "desktop":console.log("serving desktop version ...");ig.ua.mobile=!1;break;default:console.log("serving universal version ...")}else console.log("serving universal version ...")},
forcedDeviceRotation:function(){var j=this.getQueryVariable("force-rotate");if(j)switch(j){case "portrait":console.log("force rotate to portrait");window.orientation=0;break;case "landscape":console.log("force rotate to horizontal");window.orientation=90;break;default:alert("wrong command/type in param force-rotate. Defaulting value to portrait"),window.orientation=0}}})});ig.baked=!0;
ig.module("plugins.data.vector").defines(function(){Vector2=ig.Class.extend({x:null,y:null,valType:"number",init:function(j,l){typeof j===this.valType&&typeof l===this.valType&&(this.x=j,this.y=l)},row:function(j){typeof j===this.valType&&(this.y=j);return this.y},col:function(j){typeof j===this.valType&&(this.x=j);return this.x}})});ig.baked=!0;
ig.module("plugins.handlers.size-handler").requires("plugins.data.vector").defines(function(){ig.SizeHandler=ig.Class.extend({portraitMode:!0,desktop:{actualSize:new Vector2(window.innerWidth,window.innerHeight),actualResolution:new Vector2(480,640)},mobile:{actualSize:new Vector2(window.innerWidth,window.innerHeight),actualResolution:new Vector2(480,640)},windowSize:new Vector2(window.innerWidth,window.innerHeight),scaleRatioMultiplier:new Vector2(1,1),sizeRatio:new Vector2(1,1),scale:1,domHandler:null,
dynamicClickableEntityDivs:{},coreDivsToResize:["#canvas","#play","#orientate"],adsToResize:{MobileAdInGamePreroll:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd:{"box-width":_SETTINGS.Ad.Mobile.End.Width+2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20},MobileAdInGamePreroll2:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd2:{"box-width":_SETTINGS.Ad.Mobile.End.Width+
2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20},MobileAdInGamePreroll3:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd3:{"box-width":_SETTINGS.Ad.Mobile.End.Width+2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20}},init:function(j){this.domHandler=j;if("undefined"===typeof j)throw"undefined Dom Handler for Size Handler";this.sizeCalcs();this.eventListenerSetup();this.samsungFix()},sizeCalcs:function(){this.windowSize=new Vector2(window.innerWidth,
window.innerHeight);if(ig.ua.mobile){this.mobile.actualSize=new Vector2(window.innerWidth,window.innerHeight);var j=new Vector2(this.mobile.actualResolution.x,this.mobile.actualResolution.y);this.scaleRatioMultiplier=new Vector2(this.mobile.actualSize.x/j.x,this.mobile.actualSize.y/j.y);var l=Math.min(this.scaleRatioMultiplier.x,this.scaleRatioMultiplier.y);this.mobile.actualSize.x=j.x*this.scaleRatioMultiplier.x;this.mobile.actualSize.y=j.y*this.scaleRatioMultiplier.y}else this.desktop.actualSize=
new Vector2(window.innerWidth,window.innerHeight),j=new Vector2(this.desktop.actualResolution.x,this.desktop.actualResolution.y),this.scaleRatioMultiplier=new Vector2(this.desktop.actualSize.x/j.x,this.desktop.actualSize.y/j.y),l=Math.min(this.scaleRatioMultiplier.x,this.scaleRatioMultiplier.y),this.desktop.actualSize.x=j.x*l,this.desktop.actualSize.y=j.y*l;this.sizeRatio.x=window.innerWidth/this.mobile.actualResolution.x;this.sizeRatio.y=window.innerHeight/this.mobile.actualResolution.y},resizeLayers:function(){for(var j=
0;j<this.coreDivsToResize.length;j++){var l=ig.domHandler.getElementById(this.coreDivsToResize[j]);ig.ua.mobile?ig.domHandler.resize(l,Math.floor(ig.sizeHandler.mobile.actualSize.x),Math.floor(ig.sizeHandler.mobile.actualSize.y)):ig.domHandler.resizeOffsetLeft(l,Math.floor(ig.sizeHandler.desktop.actualSize.x),Math.floor(ig.sizeHandler.desktop.actualSize.y),Math.floor(ig.sizeHandler.windowSize.x/2-ig.sizeHandler.desktop.actualSize.x/2))}for(var m in this.adsToResize){var j=ig.domHandler.getElementById("#"+
m),l=ig.domHandler.getElementById("#"+m+"-Box"),n=(window.innerWidth-this.adsToResize[m]["box-width"])/2+"px",q=(window.innerHeight-this.adsToResize[m]["box-height"])/2+"px";j&&ig.domHandler.css(j,{width:window.innerWidth,height:window.innerHeight});l&&ig.domHandler.css(l,{left:n,top:q})}for(m in this.dynamicClickableEntityDivs){l=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,ig.sizeHandler.scaleRatioMultiplier.y);j=ig.domHandler.getElementById("#"+m);if(ig.ua.mobile)var r=this.dynamicClickableEntityDivs[m].entity_pos_x,
B=this.dynamicClickableEntityDivs[m].entity_pos_y,q=this.dynamicClickableEntityDivs[m].width,n=this.dynamicClickableEntityDivs[m].height,u=Math.floor(r*this.scaleRatioMultiplier.x)+"px",B=Math.floor(B*this.scaleRatioMultiplier.y)+"px",q=Math.floor(q*this.scaleRatioMultiplier.x)+"px",l=Math.floor(n*this.scaleRatioMultiplier.y)+"px";else var n=ig.domHandler.getElementById("#canvas"),n=ig.domHandler.getOffsets(n),u=n.left,z=n.top,r=this.dynamicClickableEntityDivs[m].entity_pos_x,B=this.dynamicClickableEntityDivs[m].entity_pos_y,
q=this.dynamicClickableEntityDivs[m].width,n=this.dynamicClickableEntityDivs[m].height,u=Math.floor(u+r*l)+"px",B=Math.floor(z+B*l)+"px",q=Math.floor(q*l)+"px",l=Math.floor(n*l)+"px";ig.domHandler.css(j,{"float":"left",position:"absolute",left:u,top:B,width:q,height:l,"z-index":3})}},resize:function(){this.sizeCalcs();this.resizeLayers()},reorient:function(){if(ig.ua.mobile){var j=this.portraitMode?window.innerHeight<window.innerWidth:window.innerHeight>window.innerWidth,l=this.domHandler.getElementById("#orientate"),
m=this.domHandler.getElementById("#game");j?(this.domHandler.show(l),this.domHandler.hide(m)):(this.domHandler.show(m),this.domHandler.hide(l))}ig.ua.mobile?(this.resize(),this.resizeAds()):this.resize()},resizeAds:function(){for(var j in this.adsToResize){var l=ig.domHandler.getElementById("#"+j),m=ig.domHandler.getElementById("#"+j+"-Box"),n=(window.innerWidth-this.adsToResize[j]["box-width"])/2+"px",q=(window.innerHeight-this.adsToResize[j]["box-height"])/2+"px";l&&ig.domHandler.css(l,{width:window.innerWidth,
height:window.innerHeight});m&&ig.domHandler.css(m,{left:n,top:q})}},samsungFix:function(){ig.ua.android&&(!(4.2>parseFloat(navigator.userAgent.slice(navigator.userAgent.indexOf("Android")+8,navigator.userAgent.indexOf("Android")+11)))&&!(0>navigator.userAgent.indexOf("GT"))&&!(0<navigator.userAgent.indexOf("Chrome"))&&!(0<navigator.userAgent.indexOf("Firefox")))&&(document.addEventListener("touchstart",function(j){j.preventDefault();return!1},!1),document.addEventListener("touchmove",function(j){j.preventDefault();
return!1},!1),document.addEventListener("touchend",function(j){j.preventDefault();return!1},!1))},eventListenerSetup:function(){window.addEventListener("resize",function(){this.reorient();window.scrollTo(0,1)}.bind(this),!1);window.addEventListener("orientationchange",function(){this.reorient();window.scrollTo(0,1)}.bind(this),!1);document.ontouchmove=function(j){window.scrollTo(0,1);j.preventDefault()}}})});ig.baked=!0;
ig.module("plugins.handlers.api-handler").defines(function(){ig.ApiHandler=ig.Class.extend({apiAvailable:{MJSPreroll:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS&&_SETTINGS.Ad.Mobile.Preroll.Enabled&&MobileAdInGamePreroll.Initialize()},MJSHeader:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.Header.Enabled&&MobileAdInGameHeader.Initialize()},MJSFooter:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.Footer.Enabled&&MobileAdInGameFooter.Initialize()},
MJSEnd:function(){ig.ua.mobile&&ig.domHandler.JQUERYAVAILABLE&&_SETTINGS.Ad.Mobile.End.Enabled&&MobileAdInGameEnd.Initialize()}},run:function(j,l){if(this.apiAvailable[j])this.apiAvailable[j](l)}})});ig.baked=!0;
ig.module("plugins.audio.sound-player").defines(function(){SoundPlayer=ig.Class.extend({tagName:"SoundPlayer",stayMuteFlag:!1,debug:!1,init:function(){this.debug&&console.log(this.tagName)},play:function(j){this.debug&&console.log("play sound ",j)},stop:function(){this.debug&&console.log("stop sound ")},volume:function(){this.debug&&console.log("set volume")},mute:function(j){this.debug&&console.log("mute");"undefined"===typeof j?this.stayMuteFlag=!0:j&&(this.stayMuteFlag=!0)},unmute:function(j){this.debug&&
console.log("unmute");"undefined"===typeof j?this.stayMuteFlag=!1:j&&(this.stayMuteFlag=!1)}})});ig.baked=!0;
ig.module("plugins.audio.impact-music-player").requires("plugins.audio.sound-player").defines(function(){ImpactMusicPlayer=SoundPlayer.extend({tagName:"ImpactMusicPlayer",bgmPlaying:!1,soundList:{},init:function(j,l){this.parent(j,l);for(var m in j)this.soundList[m]=m,ig.music.add(j[m].path+".*",m);l&&l.loop&&(ig.music.loop=l.loop)},play:function(j){this.stayMuteFlag||(this.bgmPlaying=!0,"undefined"===typeof j?ig.music.play(j):ig.music.play())},stop:function(){this.bgmPlaying=!1;ig.music.pause()},
volume:function(j){console.log("impactmusic:",j);ig.music.volume=0>j?0:isNaN(j)?1:1<j?1:j},getVolume:function(){return ig.music.volume},mute:function(j){this.parent(j);this.bgmPlaying&&this.stop()},unmute:function(j){this.parent(j);this.play()}})});ig.baked=!0;
ig.module("plugins.audio.impact-sound-player").requires("plugins.audio.sound-player").defines(function(){ImpactSoundPlayer=SoundPlayer.extend({tagName:"ImpactSoundPlayer",soundList:{},init:function(j,l){this.parent(j,l);for(var m in j){var n=new ig.Sound(j[m].path+".*");this.soundList[m]=n}},play:function(j){this.stayMuteFlag||("object"===typeof j?(console.log(j+" exists"),j.play()):"string"===typeof j&&this.soundList[j].play())},stop:function(j){this.parent(j);j.stop()},volume:function(j){ig.soundManager.volume=
0>j?0:isNaN(j)?1:1<j?1:j},getVolume:function(){return ig.soundManager.volume},mute:function(j){this.parent(j);ig.Sound.enabled=!1},unmute:function(j){this.parent(j);ig.Sound.enabled=!0}})});ig.baked=!0;
ig.module("plugins.audio.howler-player").requires("plugins.audio.sound-player").defines(function(){HowlerPlayer=SoundPlayer.extend({tagName:"HowlerPlayer",soundList:{},init:function(j,l){this.parent(j,l);for(var m in j){var n=j[m].path,n=new Howl({urls:[n+"."+ig.Sound.FORMAT.OGG.ext,n+"."+ig.Sound.FORMAT.MP3.ext]});this.soundList[m]=n}},play:function(j){this.stayMuteFlag||("object"===typeof j?j.play():"string"===typeof j&&this.soundList[j].play())},stop:function(j){this.parent(j);j.stop()},volume:function(j){for(var l in this.soundList){if(0>
j){this.soundList[l].volume(0);break}isNaN(j)?this.soundList[l].volume(1):1<j?this.soundList[l].volume(1):this.soundList[l].volume(j)}},getVolume:function(){for(var j in this.soundList)return this.soundList[j].volume()},mute:function(j){this.parent(j);Howler.mute()},unmute:function(j){this.parent(j);Howler.unmute()}})});ig.baked=!0;
ig.module("plugins.audio.howler-music-player").requires("plugins.audio.sound-player").defines(function(){HowlerMusicPlayer=SoundPlayer.extend({tagName:"HowlerMusicPlayer",bgmPlaying:!1,soundList:{},init:function(j,l){this.parent(j,l);for(var m in j){var n=j[m].path,n=new Howl({urls:[n+"."+ig.Sound.FORMAT.OGG.ext,n+"."+ig.Sound.FORMAT.MP3.ext],loop:!0,autoplay:!1,onend:function(){}.bind(this)});this.soundList[m]=n}},play:function(j){if(!this.stayMuteFlag&&!this.bgmPlaying)if("object"===typeof j)this.bgmPlaying=
!0,j.play();else if("string"===typeof j)this.bgmPlaying=!0,this.soundList[j].play();else for(var l in this.soundList){this.soundList[l].play();this.bgmPlaying=!0;break}},stop:function(j){this.parent(j);if(this.bgmPlaying){for(var l in this.soundList)this.soundList[l].stop();this.bgmPlaying=!1}},volume:function(j){for(var l in this.soundList){if(0>j){this.soundList[l].volume(0);break}isNaN(j)?this.soundList[l].volume(1):1<j?this.soundList[l].volume(1):this.soundList[l].volume(j)}},getVolume:function(){for(var j in this.soundList)return this.soundList[j].volume()},
mute:function(j){this.parent(j);Howler.mute()},unmute:function(j){this.parent(j);Howler.unmute()}})});ig.baked=!0;
ig.module("plugins.audio.jukebox-player").requires("plugins.audio.sound-player").defines(function(){JukeboxPlayer=SoundPlayer.extend({tagName:"JukeboxPlayer",bgmPlaying:!1,soundList:{},jukeboxPlayer:null,pausePosition:0,premuteVolume:0,minVolume:0.001,init:function(j,l){this.parent(j,l);for(var m in j){this.soundList[m]=m;var n=j[m].path;this.jukeboxPlayer=new jukebox.Player({resources:[n+"."+ig.Sound.FORMAT.OGG.ext,n+"."+ig.Sound.FORMAT.MP3.ext],autoplay:!1,spritemap:{music:{start:j[m].startMp3,
end:j[m].endMp3,loop:!0}}})}},play:function(){this.stayMuteFlag||(this.bgmPlaying=!0,this.pausePosition?(console.log("resume"),this.jukeboxPlayer.resume(this.pausePosition)):(console.log("play"),this.jukeboxPlayer.play(this.jukeboxPlayer.settings.spritemap.music.start,!0)),this.premuteVolume=this.getVolume())},stop:function(){this.bgmPlaying=!1;this.pausePosition=this.jukeboxPlayer.pause()},volume:function(j){console.log("jukebox:",j);0>=j?this.jukeboxPlayer.setVolume(this.minVolume):isNaN(j)?this.jukeboxPlayer.setVolume(1):
1<j?this.jukeboxPlayer.setVolume(1):this.jukeboxPlayer.setVolume(j)},getVolume:function(){return this.jukeboxPlayer.getVolume()},mute:function(j){this.parent(j);this.bgmPlaying&&(console.log("jukebox",this.premuteVolume),this.stayMuteFlag||(this.premuteVolume=this.getVolume()),this.jukeboxPlayer.pause(),this.jukeboxPlayer.setVolume(this.minVolume))},unmute:function(j){this.parent(j);this.stayMuteFlag||(console.log("jukebox",this.premuteVolume),this.jukeboxPlayer.setVolume(this.premuteVolume),this.jukeboxPlayer.resume())}})});
ig.baked=!0;
ig.module("plugins.audio.webaudio-music-player").requires("plugins.audio.sound-player").defines(function(){WebaudioMusicPlayer=SoundPlayer.extend({tagName:"WebaudioMusicPlayer",bgmPlaying:!1,isSupported:!1,muteFlag:!1,pausedTime:0,webaudio:null,useHTML5Audio:!1,audio:null,inactiveAudio:null,codecs:null,_volume:1,soundList:{},init:function(j){this.webaudio={compatibility:{},gainNode:null,buffer:null,source_loop:{},source_once:{}};try{this.AudioContext=window.AudioContext||window.webkitAudioContext,this.webaudio.context=
new this.AudioContext,this.isSupported=!0}catch(l){console.log("Web Audio API not supported in this browser."),this.webaudio=null,this.useHTML5Audio=!0}if(this.useHTML5Audio)if("undefined"!==typeof Audio)try{new Audio}catch(m){this.useHTML5Audio=!1}else this.useHTML5Audio=!1;this.useHTML5Audio&&(this.audio=new Audio,this.isSupported=!0,this.initHTML5Audio(j));if(!this.isSupported)return null;this.webaudio&&this.initWebAudio(j)},initWebAudio:function(j){ig.ua.iOS&&this.initIOSWebAudioUnlock();this.webaudio.gainNode=
this.webaudio.context.createGain();this.webaudio.gainNode.connect(this.webaudio.context.destination);this.webaudio.gainNode.gain.value=this._volume;var l="start",m="stop",n=this.webaudio.context.createBufferSource();"function"!==typeof n.start&&(l="noteOn");this.webaudio.compatibility.start=l;"function"!==typeof n.stop&&(m="noteOff");this.webaudio.compatibility.stop=m;for(var q in j){this.soundList[q]=q;l=j[q].path;j=l+"."+ig.Sound.FORMAT.MP3.ext;var r=l+"."+ig.Sound.FORMAT.OGG.ext;ig.ua.mobile?ig.ua.iOS&&
(r=j):(l=navigator.userAgent.toLowerCase(),-1!=l.indexOf("safari")&&-1>=l.indexOf("chrome")&&(r=j));var B=new XMLHttpRequest;B.open("GET",r,!0);B.responseType="arraybuffer";B.onload=function(){this.webaudio.context.decodeAudioData(B.response,function(j){this.webaudio.buffer=j;this.webaudio.source_loop={};this.bgmPlaying?this.play():this.stop()}.bind(this),function(){console.log('Error decoding audio "'+r+'".')})}.bind(this);B.send();break}},initIOSWebAudioUnlock:function(){if(this.webaudio){webaudio=
this.webaudio;var j=function(){var l=webaudio.context,m=l.createBuffer(1,1,22050),n=l.createBufferSource();n.buffer=m;n.connect(l.destination);"undefined"===typeof n.start?n.noteOn(0):n.start(0);setTimeout(function(){(n.playbackState===n.PLAYING_STATE||n.playbackState===n.FINISHED_STATE)&&window.removeEventListener("touchend",j,!1)},0)};window.addEventListener("touchend",j,!1)}},initHTML5Audio:function(j){if(this.useHTML5Audio&&this.audio){var l=this.audio;this.codecs={};this.codecs={mp3:!!l.canPlayType("audio/mpeg;").replace(/^no$/,
""),opus:!!l.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!l.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!l.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(l.canPlayType("audio/x-m4a;")||l.canPlayType("audio/m4a;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(l.canPlayType("audio/x-mp4;")||l.canPlayType("audio/mp4;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,
"")};this.is={ff:Boolean(null!=window.mozInnerScreenX&&/firefox/.test(navigator.userAgent.toLowerCase())),ie:Boolean(document.all&&!window.opera),opera:Boolean(window.opera),chrome:Boolean(window.chrome),safari:Boolean(!window.chrome&&/safari/.test(navigator.userAgent.toLowerCase())&&window.getComputedStyle&&!window.globalStorage&&!window.opera)};this.playDelay=-60;this.stopDelay=30;this.is.chrome&&(this.playDelay=-25);this.is.chrome&&(this.stopDelay=25);this.is.ff&&(this.playDelay=-25);this.is.ff&&
(this.stopDelay=85);this.is.opera&&(this.playDelay=5);this.is.opera&&(this.stopDelay=0);for(var m in j){this.soundList[m]=m;var n=j[m].path,l=n+"."+ig.Sound.FORMAT.OGG.ext,n=n+"."+ig.Sound.FORMAT.MP3.ext,q=null;this.codecs[ig.Sound.FORMAT.OGG.ext.toLowerCase()]?q=l:this.codecs[ig.Sound.FORMAT.MP3.ext.toLowerCase()]&&(q=n);if(q){ig.ua.mobile?ig.ua.iOS&&(q=n):(j=navigator.userAgent.toLowerCase(),-1!=j.indexOf("safari")&&-1>=j.indexOf("chrome")&&(q=n));this.audio.addEventListener("error",function(){this.audio.error&&
4===this.audio.error.code&&(this.isSupported=!1)},!1);this.audio.src=q;this.audio._pos=0;this.audio.preload="auto";this.audio.volume=this._volume;this.inactiveAudio=new Audio;this.inactiveAudio.src=q;this.inactiveAudio._pos=0;this.inactiveAudio.preload="auto";this.inactiveAudio.volume=this._volume;this.inactiveAudio.load();var r=function(){this._duration=this.audio.duration;this._loaded||(this._loaded=!0);this.bgmPlaying?this.play():this.stop();this.audio.removeEventListener("canplaythrough",r,!1)}.bind(this);
this.audio.addEventListener("canplaythrough",r,!1);this.audio.load();break}}}},play:function(j){if(this.isSupported)if(this.bgmPlaying=!0,this.webaudio)if(this.webaudio.buffer){if(!this.muteFlag&&(this.bgmPlaying=!0,!this.webaudio.source_loop._playing)){this.webaudio.source_loop=this.webaudio.context.createBufferSource();this.webaudio.source_loop.buffer=this.webaudio.buffer;this.webaudio.source_loop.loop=!0;this.webaudio.source_loop.connect(this.webaudio.gainNode);isNaN(j)&&(j=0,this.pausedTime&&
(j=this.pausedTime));this.webaudio.source_loop._startTime=this.webaudio.context.currentTime;if("noteOn"===this.webaudio.compatibility.start)this.webaudio.source_once=this.webaudio.context.createBufferSource(),this.webaudio.source_once.buffer=this.webaudio.buffer,this.webaudio.source_once.connect(this.webaudio.gainNode),this.webaudio.source_once.noteGrainOn(0,j,this.webaudio.buffer.duration-j),this.webaudio.source_loop[this.webaudio.compatibility.start](this.webaudio.context.currentTime+(this.webaudio.buffer.duration-
j));else this.webaudio.source_loop[this.webaudio.compatibility.start](0,j);this.webaudio.source_loop._playing=!0}}else this.bgmPlaying=!0;else if(this.audio){var l=this.audio;if(!this.muteFlag){this.bgmPlaying=!0;isNaN(j)&&(j=0,this.pausedTime&&(j=this.pausedTime));var m=this._duration-j;this._onEndTimer&&(clearTimeout(this._onEndTimer),this._onEndTimer=null);this._onEndTimer=setTimeout(function(){this.audio.currentTime=0;this.audio.pause();this.pausedTime=0;if(this.inactiveAudio){var j=this.audio;
this.audio=this.inactiveAudio;this.inactiveAudio=j}this.play()}.bind(this),1E3*m+this.playDelay);4===l.readyState||!l.readyState&&navigator.isCocoonJS?(l.readyState=4,l.currentTime=j,l.muted=this.muteFlag||l.muted,l.volume=this._volume,setTimeout(function(){l.play()},0)):(clearTimeout(this._onEndTimer),this._onEndTimer=null,function(){var j=function(){this.play();l.removeEventListener("canplaythrough",j,!1)}.bind(this);l.addEventListener("canplaythrough",j,!1)}())}}},stop:function(){this.bgmPlaying=
!1;if(this.isSupported)if(this.webaudio){if(this.webaudio.source_loop._playing&&(this.webaudio.source_loop[this.webaudio.compatibility.stop](0),this.webaudio.source_loop._playing=!1,this.pausedTime+=this.webaudio.context.currentTime-this.webaudio.source_loop._startTime,this.pausedTime%=this.webaudio.source_loop.buffer.duration,this.webaudio.source_loop._startTime=0,"noteOn"===this.webaudio.compatibility.start))this.webaudio.source_once[this.webaudio.compatibility.stop](0)}else if(this.audio){var j=
this.audio;this.pausedTime=j.currentTime;j.currentTime=0;j.pause();clearTimeout(this._onEndTimer);this._onEndTimer=null}},volume:function(j){this.isSupported&&(this._volume=j,0>this._volume?this._volume=0:1<this._volume&&(this._volume=1),this.webaudio?this.webaudio.gainNode&&(this.webaudio.gainNode.gain.value=this._volume):this.audio&&(this.audio.volume=this._volume,this.inactiveAudio&&(this.inactiveAudio.volume=this._volume)))},getVolume:function(){return!this.isSupported?0:this._volume},mute:function(j){this.parent(j);
!1==this.muteFlag&&(this.muteFlag=!0,this.bgmPlaying&&(this.stop(),this.bgmPlaying=!0))},unmute:function(j){this.parent(j);!this.stayMuteFlag&&!0==this.muteFlag&&(this.muteFlag=!1,this.bgmPlaying&&this.play())}})});ig.baked=!0;
ig.module("plugins.audio.sound-info").defines(function(){SoundInfo=ig.Class.extend({FORMATS:{OGG:".ogg",MP3:".mp3"},sfx:{kittyopeningSound:{path:"media/audio/opening/kittyopening"},staticSound:{path:"media/audio/play/static"},openingSound:{path:"media/audio/opening/opening"},tile:{path:"media/audio/play/tile"},button:{path:"media/audio/play/button"},hint:{path:"media/audio/play/hint"},win:{path:"media/audio/play/win"},ballroll:{path:"media/audio/play/ballroll"},ding1:{path:"media/audio/play/ding1"},
ding2:{path:"media/audio/play/ding2"},ding3:{path:"media/audio/play/ding3"},enddialog:{path:"media/audio/play/end-dialog"}},bgm:{background:{path:"media/audio/bgm",startOgg:0,endOgg:46.106,startMp3:0,endMp3:46.106}}})});ig.baked=!0;
ig.module("plugins.audio.sound-handler").requires("plugins.audio.impact-music-player","plugins.audio.impact-sound-player","plugins.audio.howler-player","plugins.audio.howler-music-player","plugins.audio.jukebox-player","plugins.audio.webaudio-music-player","plugins.audio.sound-info").defines(function(){ig.SoundHandler=ig.Class.extend({bgmPlayer:null,sfxPlayer:null,focusBlurMute:!1,soundInfo:new SoundInfo,init:function(){console.log("Initiating sound handler");this.initWindowHandler();ig.ua.mobile?
(this.initPowerButtonFix(),this.bgmPlayer=new WebaudioMusicPlayer(this.soundInfo.bgm,{loop:!0}),this.bgmPlayer.isSupported||(this.bgmPlayer=new JukeboxPlayer(this.soundInfo.bgm,{loop:!0}))):(this.bgmPlayer=new WebaudioMusicPlayer(this.soundInfo.bgm,{loop:!0}),this.bgmPlayer.isSupported||(this.bgmPlayer=new ImpactMusicPlayer(this.soundInfo.bgm,{loop:!0})));this.sfxPlayer=new HowlerPlayer(this.soundInfo.sfx)},checkBGM:function(){return this.bgmPlayer.stayMuteFlag},checkSFX:function(){return this.sfxPlayer.stayMuteFlag},
muteSFX:function(j){this.sfxPlayer&&this.sfxPlayer.mute(j)},muteBGM:function(j){this.bgmPlayer&&this.bgmPlayer.mute(j)},unmuteSFX:function(j){this.sfxPlayer&&this.sfxPlayer.unmute(j)},unmuteBGM:function(j){this.bgmPlayer&&this.bgmPlayer.unmute(j)},muteAll:function(j){this.muteSFX(j);this.muteBGM(j)},unmuteAll:function(j){this.unmuteSFX(j);this.unmuteBGM(j)},forceMuteAll:function(){this.focusBlurMute||this.muteAll(!1);this.focusBlurMute=!0},forceUnMuteAll:function(){this.focusBlurMute&&(this.unmuteAll(!1),
this.focusBlurMute=!1)},initWindowHandler:function(){"true"===ig.domHandler.getQueryVariable("webview")?($(window).focus(function(){ig.soundHandler&&ig.soundHandler.forceUnMuteAll()}),$(window).blur(function(){ig.soundHandler&&ig.soundHandler.forceMuteAll()})):(window.onfocus=function(){ig.soundHandler&&ig.soundHandler.forceUnMuteAll()},window.onblur=function(){ig.soundHandler&&ig.soundHandler.forceMuteAll()})},initPowerButtonFix:function(){var j=this.getHiddenProp();j&&(j=j.replace(/[H|h]idden/,
"")+"visibilitychange",document.addEventListener(j,this.visChange));window.addEventListener("pagehide",function(){ig.soundHandler&&ig.soundHandler.forceMuteAll()},!1);window.addEventListener("pageshow",function(){ig.soundHandler&&ig.soundHandler.forceUnMuteAll()},!1)},getHiddenProp:function(){var j=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var l=0;l<j.length;l++)if(j[l]+"Hidden"in document)return j[l]+"Hidden";return null},isHidden:function(){var j=this.getHiddenProp();return!j?
!1:document[j]},visChange:function(){ig.soundHandler.isHidden()?ig.soundHandler&&ig.soundHandler.forceMuteAll():ig.soundHandler&&ig.soundHandler.forceUnMuteAll()},saveVolume:function(){this.sfxPlayer&&ig.game.io.storageSet("soundVolume",this.sfxPlayer.getVolume());this.bgmPlayer&&ig.game.io.storageSet("musicVolume",this.bgmPlayer.getVolume())},forceLoopBGM:function(){var j;if(!this.focusBlurMute&&this.bgmPlayer.bgmPlaying&&this.bgmPlayer){var l=this.bgmPlayer.jukeboxPlayer;if(l){null!=window.mozInnerScreenX&&
/firefox/.test(navigator.userAgent.toLowerCase());j=Boolean(window.chrome);!window.chrome&&/safari/.test(navigator.userAgent.toLowerCase());var m=0.1;ig.ua.mobile&&(m=0.115,ig.ua.android&&(m=0.45,j&&(m=0.3)));l.settings.spritemap.music&&(j=l.settings.spritemap.music.end-m,l.getCurrentTime()>=j&&(j=l.settings.spritemap.music.start,ig.ua.android?this.forcelooped||(l.play(j,!0),this.forcelooped=!0,setTimeout(function(){ig.soundHandler.forcelooped=!1},m)):l.setCurrentTime(j)))}else"ImpactMusicPlayer"==
this.bgmPlayer.tagName&&(null!=window.mozInnerScreenX&&/firefox/.test(navigator.userAgent.toLowerCase()),j=Boolean(window.chrome),!window.chrome&&/safari/.test(navigator.userAgent.toLowerCase()),m=0.1,ig.ua.mobile&&(m=0.115,ig.ua.android&&(m=0.45,j&&(m=0.3))),l=0,"mp3"==ig.soundManager.format.ext&&(l=0.05),ig.music.currentTrack&&(j=ig.music.currentTrack.duration-m,ig.music.currentTrack.currentTime>=j&&(ig.ua.android?this.forcelooped||(ig.music.currentTrack.pause(),ig.music.currentTrack.currentTime=
l,ig.music.currentTrack.play(),this.forcelooped=!0,setTimeout(function(){ig.soundHandler.forcelooped=!1},m)):ig.music.currentTrack.currentTime=l)))}}})});ig.baked=!0;
ig.module("plugins.io.storage").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(j){return null!==this.get(j)},initUnset:function(j,l){null===this.get(j)&&this.set(j,l)},get:function(j){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(j))}catch(l){return window.localStorage.getItem(j)}},
getInt:function(j){return~~this.get(j)},getFloat:function(j){return parseFloat(this.get(j))},getBool:function(j){return!!this.get(j)},key:function(j){return this.isCapable()?window.localStorage.key(j):null},set:function(j,l){if(!this.isCapable())return null;try{window.localStorage.setItem(j,JSON.stringify(l))}catch(m){console.log(m)}},setHighest:function(j,l){l>this.getFloat(j)&&this.set(j,l)},remove:function(j){if(!this.isCapable())return null;window.localStorage.removeItem(j)},clear:function(){if(!this.isCapable())return null;
window.localStorage.clear()}})});ig.baked=!0;ig.module("plugins.io.mouse").defines(function(){Mouse=ig.Class.extend({bindings:{click:[ig.KEY.MOUSE1]},init:function(){ig.input.initMouse();for(var j in this.bindings){this[j]=j;for(var l=0;l<this.bindings[j].length;l++)ig.input.bind(this.bindings[j][l],j)}},getPos:function(){if(ig.ua.mobile)var j=ig.input.mouse.x/ig.sizeHandler.sizeRatio.x,l=ig.input.mouse.y/ig.sizeHandler.sizeRatio.y;else j=ig.input.mouse.x,l=ig.input.mouse.y;return new Vector2(j,l)}})});
ig.baked=!0;ig.module("plugins.io.keyboard").defines(function(){Keyboard=ig.Class.extend({bindings:{jump:[ig.KEY.W,ig.KEY.UP_ARROW],moveright:[ig.KEY.D,ig.KEY.RIGHT_ARROW],moveleft:[ig.KEY.A,ig.KEY.LEFT_ARROW],shoot:[ig.KEY.S,ig.KEY.DOWN_ARROW,ig.KEY.SPACE]},init:function(){for(var j in this.bindings){this[j]=j;for(var l=0;l<this.bindings[j].length;l++)ig.input.bind(this.bindings[j][l],j)}}})});ig.baked=!0;
ig.module("plugins.io.gamepad-input").defines(function(){ig.PADKEY={BUTTON_0:0,PADBUTTON_1:1,BUTTON_2:2,BUTTON_3:3,BUTTON_LEFT_BUMPER:4,BUTTON_RIGHT_BUMPER:5,BUTTON_LEFT_TRIGGER:6,BUTTON_RIGHT_TRIGGER:7,BUTTON_LEFT_JOYSTICK:10,BUTTON_RIGHT_JOYSTICK:11,BUTTON_DPAD_UP:12,BUTTON_DPAD_DOWN:13,BUTTON_DPAD_LEFT:14,BUTTON_DPAD_RIGHT:15,BUTTON_MENU:16,AXIS_LEFT_JOYSTICK_X:0,AXIS_LEFT_JOYSTICK_Y:1,AXIS_RIGHT_JOYSTICK_X:2,AXIS_RIGHT_JOYSTICK_Y:3};ig.GamepadInput=ig.Class.extend({isInit:!1,isSupported:!1,list:[],
bindings:{},states:{},presses:{},releases:{},downLocks:{},upLocks:{},leftStick:{x:0,y:0},rightStick:{x:0,y:0},start:function(){if(!this.isInit){this.isInit=!0;var j=navigator.getGamepads||navigator.webkitGetGamepads;j&&(!navigator.getGamepads&&navigator.webkitGetGamepads&&(navigator.getGamepads=navigator.webkitGetGamepads),this.list=navigator.getGamepads());this.isSupported=j}},isAvailable:function(){return this.isInit&&this.isSupported},buttonPressed:function(j){return"object"==typeof j?j.pressed:
1==j},buttonDown:function(j){if(j=this.bindings[j])this.states[j]=!0,this.downLocks[j]||(this.presses[j]=!0,this.downLocks[j]=!0)},buttonUp:function(j){if((j=this.bindings[j])&&this.downLocks[j]&&!this.upLocks[j])this.states[j]=!1,this.releases[j]=!0,this.upLocks[j]=!0},clearPressed:function(){for(var j in this.releases)this.states[j]=!1,this.downLocks[j]=!1;this.releases={};this.presses={};this.upLocks={}},bind:function(j,l){this.bindings[j]=l},unbind:function(j){this.releases[this.bindings[j]]=
!0;this.bindings[j]=null},unbindAll:function(){this.bindings={};this.states={};this.presses={};this.releases={};this.downLocks={};this.upLocks={}},state:function(j){return this.states[j]},pressed:function(j){return this.presses[j]},released:function(j){return this.releases[j]},clamp:function(j,l,m){return j<l?l:j>m?m:j},pollGamepads:function(){if(this.isSupported){this.leftStick.x=0;this.leftStick.y=0;this.rightStick.x=0;this.rightStick.y=0;this.list=navigator.getGamepads();for(var j in this.bindings){for(var l=
!1,m=0;m<this.list.length;m++){var n=this.list[m];if(n&&n.buttons&&this.buttonPressed(n.buttons[j])){l=!0;break}}l?this.buttonDown(j):this.buttonUp(j)}for(m=0;m<this.list.length;m++)if((n=this.list[m])&&n.axes){j=n.axes[ig.GAMEPADINPUT.AXIS_LEFT_JOYSTICK_X];var l=n.axes[ig.GAMEPADINPUT.AXIS_LEFT_JOYSTICK_Y],q=n.axes[ig.GAMEPADINPUT.AXIS_RIGHT_JOYSTICK_X],n=n.axes[ig.GAMEPADINPUT.AXIS_RIGHT_JOYSTICK_Y];this.leftStick.x+=isNaN(j)?0:j;this.leftStick.y+=isNaN(l)?0:l;this.rightStick.x+=isNaN(q)?0:q;this.rightStick.y+=
isNaN(n)?0:n}0<this.list.length&&(this.leftStick.x=this.clamp(this.leftStick.x,-1,1),this.leftStick.y=this.clamp(this.leftStick.y,-1,1),this.rightStick.x=this.clamp(this.rightStick.x,-1,1),this.rightStick.y=this.clamp(this.rightStick.y,-1,1))}}})});ig.baked=!0;
ig.module("plugins.io.gamepad").requires("plugins.io.gamepad-input").defines(function(){Gamepad=ig.Class.extend({bindings:{padJump:[ig.PADKEY.BUTTON_0]},init:function(){ig.gamepadInput.start();for(var j in this.bindings)for(var l=0;l<this.bindings[j].length;l++)ig.gamepadInput.bind(this.bindings[j][l],j)},press:function(){},held:function(){},release:function(){}})});ig.baked=!0;
ig.module("plugins.io.multitouch").defines(function(){Multitouch=ig.Class.extend({init:function(){ig.multitouchInput.start()},getTouchesPos:function(){if(ig.ua.mobile){if(0<ig.multitouchInput.touches.length){for(var j=[],l=0;l<ig.multitouchInput.touches.length;l++){var m=ig.multitouchInput.touches[l];j.push({x:m.x,y:m.y})}return j}return null}}})});ig.baked=!0;
ig.module("plugins.io.multitouch-input").defines(function(){ig.MultitouchInput=ig.Class.extend({isStart:!1,touches:[],multitouchCapable:!1,lastEventUp:null,start:function(){this.isStart||(this.isStart=!0,navigator.maxTouchPoints&&1<navigator.maxTouchPoints&&(this.multitouchCapable=!0),ig.ua.touchDevice&&(window.navigator.msPointerEnabled&&(ig.system.canvas.addEventListener("MSPointerDown",this.touchdown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.touchup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",
this.touchmove.bind(this),!1),ig.system.canvas.style.msContentZooming="none",ig.system.canvas.style.msTouchAction="none"),ig.system.canvas.addEventListener("touchstart",this.touchdown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.touchup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.touchmove.bind(this),!1)))},touchmove:function(j){if(ig.ua.touchDevice){var l=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,m=parseInt(ig.system.canvas.offsetHeight)||
ig.system.realHeight,l=ig.system.scale*(l/ig.system.realWidth),m=ig.system.scale*(m/ig.system.realHeight);if(j.touches){for(;0<this.touches.length;)this.touches.pop();!this.multitouchCapable&&1<j.touches.length&&(this.multitouchCapable=!0);var n={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(n=ig.system.canvas.getBoundingClientRect());for(var q=0;q<j.touches.length;q++){var r=j.touches[q];r&&this.touches.push({x:(r.clientX-n.left)/l,y:(r.clientY-n.top)/m})}}else this.windowMove(j)}},touchdown:function(j){var l=
parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,m=parseInt(ig.system.canvas.offsetHeight)||ig.system.realHeight,l=ig.system.scale*(l/ig.system.realWidth),m=ig.system.scale*(m/ig.system.realHeight);if(window.navigator.msPointerEnabled)this.windowKeyDown(j);else if(ig.ua.touchDevice&&j.touches){for(;0<this.touches.length;)this.touches.pop();!this.multitouchCapable&&1<j.touches.length&&(this.multitouchCapable=!0);var n={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(n=ig.system.canvas.getBoundingClientRect());
for(var q=0;q<j.touches.length;q++){var r=j.touches[q];r&&this.touches.push({x:(r.clientX-n.left)/l,y:(r.clientY-n.top)/m})}}},touchup:function(j){var l=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth;parseInt(ig.system.canvas.offsetHeight);l=ig.system.scale*(l/ig.system.realWidth);if(window.navigator.msPointerEnabled)this.windowKeyUp(j);else{this.lastEventUp=j;var m={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(m=ig.system.canvas.getBoundingClientRect());if(ig.ua.touchDevice){j=
(j.changedTouches[0].clientX-m.left)/l;for(l=0;l<this.touches.length;l++)this.touches[l].x>=j-40&&this.touches[l].x<=j+40&&this.touches.splice(l,1)}}},windowKeyDown:function(j){var l=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,m=parseInt(ig.system.canvas.offsetHeight)||ig.system.realHeight,l=ig.system.scale*(l/ig.system.realWidth),m=ig.system.scale*(m/ig.system.realHeight);if(window.navigator.msPointerEnabled){var n={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(n=ig.system.canvas.getBoundingClientRect());
j=j.changedTouches?j.changedTouches:[j];for(var q=0;q<j.length;++q){for(var r=j[q],B="undefined"!=typeof r.identifier?r.identifier:"undefined"!=typeof r.pointerId?r.pointerId:1,u=(r.clientX-n.left)/l,r=(r.clientY-n.top)/m,z=0;z<this.touches.length;++z)this.touches[z].identifier==B&&this.touches.splice(z,1);this.touches.push({x:u,y:r,identifier:B})}for(l=0;l<this.touches.length;l++);}},windowKeyUp:function(j){j="undefined"!=typeof j.identifier?j.identifier:"undefined"!=typeof j.pointerId?j.pointerId:
1;for(var l=0;l<this.touches.length;++l)this.touches[l].identifier==j&&this.touches.splice(l,1);for(;0<this.touches.length;)this.touches.pop()},windowMove:function(j){var l=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,m=parseInt(ig.system.canvas.offsetHeight)||ig.system.realHeight,l=ig.system.scale*(l/ig.system.realWidth),m=ig.system.scale*(m/ig.system.realHeight),n={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(n=ig.system.canvas.getBoundingClientRect());if(window.navigator.msPointerEnabled)for(var q=
"undefined"!=typeof j.identifier?j.identifier:"undefined"!=typeof j.pointerId?j.pointerId:1,r=0;r<this.touches.length;++r)if(this.touches[r].identifier==q){var B=(j.clientY-n.top)/m;this.touches[r].x=(j.clientX-n.left)/l;this.touches[r].y=B}}})});ig.baked=!0;
ig.module("plugins.io.io-manager").requires("plugins.io.storage","plugins.io.mouse","plugins.io.keyboard","plugins.io.gamepad","plugins.io.multitouch","plugins.io.multitouch-input","plugins.io.gamepad-input").defines(function(){IoManager=ig.Class.extend({storage:null,localStorageSupport:!1,gamekey:"TeamKaboom",mouse:null,keyboard:null,multitouch:null,gamepad:null,init:function(){ig.multitouchInput=new ig.MultitouchInput;ig.gamepadInput=new ig.GamepadInput;this.unbindAll();this.initStorage();this.initMouse();
this.initKeyboard()},unbindAll:function(){ig.input.unbindAll();ig.gamepadInput.unbindAll()},initStorage:function(){this._supportsLocalStorage()&&(this.storage=new ig.Storage)},initMouse:function(){this.mouse=new Mouse},initKeyboard:function(){this.keyboard=new Keyboard},initMultitouch:function(){this.multitouch=new Multitouch},initGamepad:function(){this.gamepad=new Gamepad},press:function(j){return ig.input.pressed(j)||this.gamepad.press(j)?!0:!1},held:function(j){return ig.input.state(j)||this.gamepad.state(j)?
!0:!1},release:function(j){return ig.input.released(j)||this.gamepad.released(j)?!0:!1},getClickPos:function(){return this.mouse.getPos()},getTouchesPos:function(){return this.multitouch.getTouchesPos()},checkOverlap:function(j,l,m,n,q){return j.x>l+n||j.x<l||j.y>m+q||j.y<m?!1:!0},_supportsLocalStorage:function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),this.localStorageSupport="localStorage"in window&&null!==window.localStorage}catch(j){return this.localStorageSupport}},
storageIsSet:function(j){return!this.localStorageSupport?null:this.storage.isSet(j)},storageGet:function(j){return!this.localStorageSupport?null:this.storage.get(j)},storageSet:function(j,l){if(!this.localStorageSupport)return null;this.storage.set(j,l)},assert:function(j,l,m){if(l!==m)throw"actualValue:"+l+" not equal to testValue:"+m+" at "+j;}})});ig.baked=!0;
ig.module("plugins.splash-loader").requires("impact.loader","impact.animation").defines(function(){ig.SplashLoader=ig.Loader.extend({bg:new ig.Image("media/graphics/splash/desktop/cover.jpg"),frame:new ig.Image("media/graphics/splash/progress/frame.png"),bar:new ig.Image("media/graphics/splash/progress/bar.png"),resource:[new ig.Sound("media/audio/bgm.mp3"),new ig.Sound("media/audio/bgm.ogg"),new ig.Sound("media/audio/play/ballroll.mp3"),new ig.Sound("media/audio/play/ballroll.ogg"),new ig.Sound("media/audio/play/button.mp3"),
new ig.Sound("media/audio/play/button.ogg"),new ig.Sound("media/audio/play/ding1.mp3"),new ig.Sound("media/audio/play/ding1.ogg"),new ig.Sound("media/audio/play/ding2.mp3"),new ig.Sound("media/audio/play/ding2.ogg"),new ig.Sound("media/audio/play/ding3.mp3"),new ig.Sound("media/audio/play/ding3.ogg"),new ig.Sound("media/audio/play/hint.mp3"),new ig.Sound("media/audio/play/hint.ogg"),new ig.Sound("media/audio/play/tile.mp3"),new ig.Sound("media/audio/play/tile.ogg"),new ig.Sound("media/audio/play/win.mp3"),
new ig.Sound("media/audio/play/win.ogg"),new ig.Image("media/graphics/games/ball.png"),new ig.Image("media/graphics/games/board.png"),new ig.Image("media/graphics/games/end-game-dialog.png"),new ig.Image("media/graphics/games/level-select-dialog.png"),new ig.Image("media/graphics/games/paused-frame.png"),new ig.Image("media/graphics/games/sound-bar.png"),new ig.Image("media/graphics/games/sound-frame.png"),new ig.Image("media/graphics/games/sound-knob.png"),new ig.Image("media/graphics/games/tutorial-frame.png"),
new ig.Image("media/graphics/games/tutorial-pointer.png"),new ig.Image("media/graphics/games/ui-frame-bottom.png"),new ig.Image("media/graphics/games/ui-frame-top.png"),new ig.Image("media/graphics/sprites/button-game.png"),new ig.Image("media/graphics/sprites/button_moregames.png"),new ig.Image("media/graphics/sprites/button_play.png"),new ig.Image("media/graphics/sprites/button_setting.png"),new ig.Image("media/graphics/sprites/close-dialog.png"),new ig.Image("media/graphics/sprites/hint-spin.png"),
new ig.Image("media/graphics/sprites/level-select-page.png"),new ig.Image("media/graphics/sprites/level-select-tile.png"),new ig.Image("media/graphics/sprites/star-end.png"),new ig.Image("media/graphics/sprites/star-pick.png"),new ig.Image("media/graphics/sprites/star-uitop.png"),new ig.Image("media/graphics/sprites/tiles.png")],init:function(j,l){ig.system.context.font="0pt sketch-block";ig.system.context.fillText("",0,0);ig.system.context.restore();this.parent(j,l);ig.apiHandler.run("MJSPreroll")},
end:function(){this.parent();if(ig.ua.mobile){var j=ig.domHandler.getElementById("#play");ig.domHandler.show(j)}j=0<=document.URL.indexOf("localhost")?500:3E3;window.setTimeout("ig.system.setGame(MyGame)",j)},setupCustomAnimation:function(){this.customAnim=new ig.Animation(this.customAnim,0.05,[0,1,2,3,4,5]);this.customAnim.currentFrame=0;ig.loadingScreen=this;ig.loadingScreen.animationTimer=window.setInterval("ig.loadingScreen.animate()",100)},animate:function(){this.customAnim.currentFrame<this.customAnim.sequence.length?
this.customAnim.currentFrame++:this.customAnim.currentFrame=0;this.customAnim.gotoFrame(this.customAnim.currentFrame)},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;var j=ig.system.scale,l,m,n;l=this.frame.width;m=this.frame.height;n=0.5*ig.system.width-l/2;this.bg.draw(0,0);0<this.frame.width*j&&(this.frame.draw(n*j,420*j),this.bar.draw(n*j,420*j,0,0,l*j*this._drawStatus,m*j))}})});ig.baked=!0;
ig.module("plugins.tween").requires("impact.entity").defines(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(j){for(var l=0;l<this.length;++l)if(this[l]===j)return l;return-1});ig.Entity.prototype.tweens=[];ig.Entity.prototype._preTweenUpdate=ig.Entity.prototype.update;ig.Entity.prototype.update=function(){this._preTweenUpdate();if(0<this.tweens.length){for(var j=[],l=0;l<this.tweens.length;l++)this.tweens[l].update(),this.tweens[l].complete||j.push(this.tweens[l]);this.tweens=
j}};ig.Entity.prototype.tween=function(j,l,m){j=new ig.Tween(this,j,l,m);this.tweens.push(j);return j};ig.Entity.prototype.pauseTweens=function(){for(var j=0;j<this.tweens.length;j++)this.tweens[j].pause()};ig.Entity.prototype.resumeTweens=function(){for(var j=0;j<this.tweens.length;j++)this.tweens[j].resume()};ig.Entity.prototype.stopTweens=function(j){for(var l=0;l<this.tweens.length;l++)this.tweens[l].stop(j)};ig.Tween=function(j,l,m,n){var q={},r={},B={},u=0,z=!1,D=!1,y=!1;this.duration=m;this.paused=
this.complete=!1;this.easing=ig.Tween.Easing.Linear.EaseNone;this.onComplete=!1;this.loop=this.delay=0;this.loopCount=-1;ig.merge(this,n);this.loopNum=this.loopCount;this.chain=function(j){y=j};this.initEnd=function(j,l,m){if("object"!==typeof l[j])m[j]=l[j];else for(subprop in l[j])m[j]||(m[j]={}),this.initEnd(subprop,l[j],m[j])};this.initStart=function(j,l,m,n){if("object"!==typeof m[j])"undefined"!==typeof l[j]&&(n[j]=m[j]);else for(subprop in m[j])n[j]||(n[j]={}),"undefined"!==typeof l[j]&&this.initStart(subprop,
l[j],m[j],n[j])};this.start=function(){this.paused=this.complete=!1;this.loopNum=this.loopCount;u=0;-1==j.tweens.indexOf(this)&&j.tweens.push(this);D=!0;z=new ig.Timer;for(var m in l)this.initEnd(m,l,r);for(m in r)this.initStart(m,r,j,q),this.initDelta(m,B,j,r)};this.initDelta=function(j,l,m,n){if("object"!==typeof n[j])l[j]=n[j]-m[j];else for(subprop in n[j])l[j]||(l[j]={}),this.initDelta(subprop,l[j],m[j],n[j])};this.propUpdate=function(j,l,m,n,q){if("function"==typeof this.onUpdate){var r=this.onUpdate(j,
l,m,n,q);r&&r.pause&&this.pause();j=r&&r.prop?r.prop:j;l=r&&r.obj?r.obj:l;m=r&&r.start?r.start:m;n=r&&r.delta?r.delta:n;q=r&&r.value?r.value:q}if("object"!==typeof m[j])l[j]="undefined"!=typeof m[j]?m[j]+n[j]*q:l[j];else for(subprop in m[j])this.propUpdate(subprop,l[j],m[j],n[j],q)};this.propSet=function(j,l,m){if("object"!==typeof l[j])m[j]=l[j];else for(subprop in l[j])m[j]||(m[j]={}),this.propSet(subprop,l[j],m[j])};this.update=function(){if(!D)return!1;if(this.delay){if(z.delta()<this.delay)return;
this.delay=0;z.reset()}if(this.paused||this.complete)return!1;var l=(z.delta()+u)/this.duration,l=1<l?1:l,m=this.easing(l);for(property in B)this.propUpdate(property,j,q,B,m);if(1<=l){if(0==this.loopNum||!this.loop){this.complete=!0;if(this.onComplete)this.onComplete();y&&y.start();return!1}if(this.loop==ig.Tween.Loop.Revert){for(property in q)this.propSet(property,q,j);u=0;z.reset();-1!=this.loopNum&&this.loopNum--}else if(this.loop==ig.Tween.Loop.Reverse){l={};m={};ig.merge(l,r);ig.merge(m,q);ig.merge(q,
l);ig.merge(r,m);for(property in r)this.initDelta(property,B,j,r);u=0;z.reset();-1!=this.loopNum&&this.loopNum--}}};this.pause=function(){this.paused=!0;u+=z.delta()};this.resume=function(){this.paused=!1;z.reset()};this.stop=function(j){j&&(this.loop=this.complete=this.paused=!1,u+=m,this.update());this.complete=!0}};ig.Tween.Loop={Revert:1,Reverse:2};ig.Tween.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};ig.Tween.Easing.Linear.EaseNone=
function(j){return j};ig.Tween.Easing.Quadratic.EaseIn=function(j){return j*j};ig.Tween.Easing.Quadratic.EaseOut=function(j){return-j*(j-2)};ig.Tween.Easing.Quadratic.EaseInOut=function(j){return 1>(j*=2)?0.5*j*j:-0.5*(--j*(j-2)-1)};ig.Tween.Easing.Cubic.EaseIn=function(j){return j*j*j};ig.Tween.Easing.Cubic.EaseOut=function(j){return--j*j*j+1};ig.Tween.Easing.Cubic.EaseInOut=function(j){return 1>(j*=2)?0.5*j*j*j:0.5*((j-=2)*j*j+2)};ig.Tween.Easing.Quartic.EaseIn=function(j){return j*j*j*j};ig.Tween.Easing.Quartic.EaseOut=
function(j){return-(--j*j*j*j-1)};ig.Tween.Easing.Quartic.EaseInOut=function(j){return 1>(j*=2)?0.5*j*j*j*j:-0.5*((j-=2)*j*j*j-2)};ig.Tween.Easing.Quintic.EaseIn=function(j){return j*j*j*j*j};ig.Tween.Easing.Quintic.EaseOut=function(j){return(j-=1)*j*j*j*j+1};ig.Tween.Easing.Quintic.EaseInOut=function(j){return 1>(j*=2)?0.5*j*j*j*j*j:0.5*((j-=2)*j*j*j*j+2)};ig.Tween.Easing.Sinusoidal.EaseIn=function(j){return-Math.cos(j*Math.PI/2)+1};ig.Tween.Easing.Sinusoidal.EaseOut=function(j){return Math.sin(j*
Math.PI/2)};ig.Tween.Easing.Sinusoidal.EaseInOut=function(j){return-0.5*(Math.cos(Math.PI*j)-1)};ig.Tween.Easing.Exponential.EaseIn=function(j){return 0==j?0:Math.pow(2,10*(j-1))};ig.Tween.Easing.Exponential.EaseOut=function(j){return 1==j?1:-Math.pow(2,-10*j)+1};ig.Tween.Easing.Exponential.EaseInOut=function(j){return 0==j?0:1==j?1:1>(j*=2)?0.5*Math.pow(2,10*(j-1)):0.5*(-Math.pow(2,-10*(j-1))+2)};ig.Tween.Easing.Circular.EaseIn=function(j){return-(Math.sqrt(1-j*j)-1)};ig.Tween.Easing.Circular.EaseOut=
function(j){return Math.sqrt(1- --j*j)};ig.Tween.Easing.Circular.EaseInOut=function(j){return 1>(j/=0.5)?-0.5*(Math.sqrt(1-j*j)-1):0.5*(Math.sqrt(1-(j-=2)*j)+1)};ig.Tween.Easing.Elastic.EaseIn=function(j){var l,m=0.1,n=0.4;if(0==j)return 0;if(1==j)return 1;n||(n=0.3);!m||1>m?(m=1,l=n/4):l=n/(2*Math.PI)*Math.asin(1/m);return-(m*Math.pow(2,10*(j-=1))*Math.sin((j-l)*2*Math.PI/n))};ig.Tween.Easing.Elastic.EaseOut=function(j){var l,m=0.1,n=0.4;if(0==j)return 0;if(1==j)return 1;n||(n=0.3);!m||1>m?(m=1,
l=n/4):l=n/(2*Math.PI)*Math.asin(1/m);return m*Math.pow(2,-10*j)*Math.sin((j-l)*2*Math.PI/n)+1};ig.Tween.Easing.Elastic.EaseInOut=function(j){var l,m=0.1,n=0.4;if(0==j)return 0;if(1==j)return 1;n||(n=0.3);!m||1>m?(m=1,l=n/4):l=n/(2*Math.PI)*Math.asin(1/m);return 1>(j*=2)?-0.5*m*Math.pow(2,10*(j-=1))*Math.sin((j-l)*2*Math.PI/n):0.5*m*Math.pow(2,-10*(j-=1))*Math.sin((j-l)*2*Math.PI/n)+1};ig.Tween.Easing.Back.EaseIn=function(j){return j*j*(2.70158*j-1.70158)};ig.Tween.Easing.Back.EaseOut=function(j){return(j-=
1)*j*(2.70158*j+1.70158)+1};ig.Tween.Easing.Back.EaseInOut=function(j){return 1>(j*=2)?0.5*j*j*(3.5949095*j-2.5949095):0.5*((j-=2)*j*(3.5949095*j+2.5949095)+2)};ig.Tween.Easing.Bounce.EaseIn=function(j){return 1-ig.Tween.Easing.Bounce.EaseOut(1-j)};ig.Tween.Easing.Bounce.EaseOut=function(j){return(j/=1)<1/2.75?7.5625*j*j:j<2/2.75?7.5625*(j-=1.5/2.75)*j+0.75:j<2.5/2.75?7.5625*(j-=2.25/2.75)*j+0.9375:7.5625*(j-=2.625/2.75)*j+0.984375};ig.Tween.Easing.Bounce.EaseInOut=function(j){return 0.5>j?0.5*ig.Tween.Easing.Bounce.EaseIn(2*
j):0.5*ig.Tween.Easing.Bounce.EaseOut(2*j-1)+0.5}});ig.baked=!0;
ig.module("plugins.url-parameters").defines(function(){ig.UrlParameters=ig.Class.extend({init:function(){switch(getQueryVariable("iphone")){case "true":ig.ua.iPhone=!0,console.log("iPhone mode")}var j=getQueryVariable("webview");if(j)switch(j){case "true":ig.ua.is_uiwebview=!0,console.log("webview mode")}if(j=getQueryVariable("debug"))switch(j){case "true":ig.game.showDebugMenu(),console.log("debug mode")}switch(getQueryVariable("view")){case "stats":ig.game.resetPlayerStats(),ig.game.endGame()}getQueryVariable("ad")}})});
ig.baked=!0;
ig.module("plugins.director").requires("impact.impact").defines(function(){ig.Director=ig.Class.extend({init:function(j,l){this.game=j;this.levels=[];this.currentLevel=0;this.append(l)},loadLevel:function(j){for(var l in ig.sizeHandler.dynamicClickableEntityDivs){var m=ig.domHandler.getElementById("#"+l);ig.domHandler.hide(m)}this.currentLevel=j;this.game.loadLevel(this.levels[j]);return!0},loadLevelWithoutEntities:function(j){this.currentLevel=j;this.game.loadLevelWithoutEntities(this.levels[j]);return!0},
append:function(j){newLevels=[];return"object"===typeof j?(j.constructor===[].constructor?newLevels=j:newLevels[0]=j,this.levels=this.levels.concat(newLevels),!0):!1},nextLevel:function(){return this.currentLevel+1<this.levels.length?this.loadLevel(this.currentLevel+1):!1},previousLevel:function(){return 0<=this.currentLevel-1?this.loadLevel(this.currentLevel-1):!1},jumpTo:function(j){var l=null;for(i=0;i<this.levels.length;i++)this.levels[i]==j&&(l=i);return 0<=l?this.loadLevel(l):!1},firstLevel:function(){return this.loadLevel(0)},
lastLevel:function(){return this.loadLevel(this.levels.length-1)},reloadLevel:function(){return this.loadLevel(this.currentLevel)}})});ig.baked=!0;
ig.module("plugins.impact-storage").requires("impact.game").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(j){return null!==this.get(j)},initUnset:function(j,l){null===this.get(j)&&this.set(j,l)},get:function(j){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(j))}catch(l){return window.localStorage.getItem(j)}},
getInt:function(j){return~~this.get(j)},getFloat:function(j){return parseFloat(this.get(j))},getBool:function(j){return!!this.get(j)},key:function(j){return this.isCapable()?window.localStorage.key(j):null},set:function(j,l){if(!this.isCapable())return null;try{window.localStorage.setItem(j,JSON.stringify(l))}catch(m){console.log(m)}},setHighest:function(j,l){l>this.getFloat(j)&&this.set(j,l)},remove:function(j){if(!this.isCapable())return null;window.localStorage.removeItem(j)},clear:function(){if(!this.isCapable())return null;
window.localStorage.clear()}})});ig.baked=!0;
ig.module("game.app.settings").requires("impact.game").defines(function(){ig.Game.inject({settings:{enIdx:{levelsplasher:200,levelselect:100,starendgame:50,option:40,paused:30,starstatusUiTop:22,uiButtonTop:21,uiFrameTop:20,pathcomplete:12,tutorial:11,hintspin:10,uiButtonBottom:10,uiFrameBottom:9,starpick:8,ball:7,tileHint:6,tile:5,tileBoard:4,menubackground:1,menubtn:2},color:{value:"#FF751F",rgbTransitiontext:{r:128,g:255,b:0},rgbTransitiontextShadow:{r:23,g:46,b:0},tileHint:"rgba(19,191,0,0.7)",
rgbMovesBase:{r:255,g:117,b:31},rgbMovesAnimate:{r:255,g:255,b:255},captionLeather:"#FFF99E",captionBoard:"#3B0B00",soundLevel:{r:0,g:0,b:0,changed:"g"}},layout:[{a:{gridAx:{x:1,y:1},type:"start",dir:"t",isPath:!0,ball:!0},b:{gridAx:{x:1,y:2},type:"wood",dir:"rt",isPath:!0,star:!0},c:{gridAx:{x:2,y:2},type:"wood",dir:"lt",isPath:!0,star:!0},d:{gridAx:{x:2,y:1},type:"metal",dir:"rb",isPath:!0,star:!0},e:{gridAx:{x:3,y:1},type:"wood",dir:"lb",isPath:!0},z:{gridAx:{x:3,y:2},type:"goal",dir:"b",isPath:!0,
hintspin:!0}},{a:{gridAx:{x:1,y:1},type:"start",dir:"b",isPath:!0,ball:!0},b:{gridAx:{x:1,y:0},type:"wood",dir:"lb",isPath:!0},c:{gridAx:{x:0,y:0},type:"metal",dir:"rb",isPath:!0},d:{gridAx:{x:0,y:1},type:"wood",dir:"v",isPath:!0},e:{gridAx:{x:0,y:2},type:"wood",dir:"rt",isPath:!0,star:!0},f:{gridAx:{x:1,y:2},type:"wood",dir:"h",isPath:!0,star:!0},g:{gridAx:{x:2,y:2},type:"wood",dir:"lt",isPath:!0,star:!0},h:{gridAx:{x:1,y:3},type:"wood-empty"},z:{gridAx:{x:2,y:1},type:"goal",dir:"t",isPath:!0,hintspin:!0}},
{a:{gridAx:{x:1,y:1},type:"start",dir:"b",isPath:!0,ball:!0},b:{gridAx:{x:1,y:0},type:"wood",dir:"lb",isPath:!0},c:{gridAx:{x:0,y:0},type:"wood",dir:"rb",isPath:!0,star:!0},d:{gridAx:{x:0,y:1},type:"wood",dir:"v",isPath:!0},e:{gridAx:{x:0,y:2},type:"wood",dir:"rt",isPath:!0,star:!0},f:{gridAx:{x:1,y:2},type:"wood",dir:"h",isPath:!0},g:{gridAx:{x:2,y:2},type:"wood",dir:"lt",isPath:!0,star:!0},h:{gridAx:{x:2,y:3},type:"wood-empty"},z:{gridAx:{x:2,y:1},type:"goal",dir:"t",isPath:!0,hintspin:!0}},{a:{gridAx:{x:0,
y:3},type:"start",dir:"l",isPath:!0,ball:!0},b:{gridAx:{x:1,y:3},type:"wood",dir:"lt",isPath:!0,star:!0},c:{gridAx:{x:1,y:2},type:"wood",dir:"v",isPath:!0},d:{gridAx:{x:1,y:1},type:"wood",dir:"v",isPath:!0},e:{gridAx:{x:1,y:0},type:"metal",dir:"rb",isPath:!0,star:!0},f:{gridAx:{x:2,y:0},type:"metal",dir:"lb",isPath:!0},g:{gridAx:{x:2,y:1},type:"wood",dir:"v",isPath:!0},h:{gridAx:{x:2,y:2},type:"wood",dir:"v",isPath:!0},i:{gridAx:{x:2,y:3},type:"wood",dir:"rt",isPath:!0,star:!0},z:{gridAx:{x:3,y:3},
type:"goal",dir:"r",isPath:!0,hintspin:!0}},{a:{gridAx:{x:1,y:1},type:"start",dir:"r",isPath:!0,ball:!0},b:{gridAx:{x:0,y:1},type:"wood",dir:"rb",isPath:!0,star:!0},c:{gridAx:{x:0,y:2},type:"wood",dir:"rt",isPath:!0},d:{gridAx:{x:1,y:2},type:"wood",dir:"h",isPath:!0},e:{gridAx:{x:2,y:2},type:"wood",dir:"h",isPath:!0,star:!0},f:{gridAx:{x:3,y:2},type:"wood",dir:"lt",isPath:!0},g:{gridAx:{x:3,y:1},type:"wood",dir:"lb",isPath:!0,star:!0},h:{gridAx:{x:1,y:3},type:"wood-empty"},i:{gridAx:{x:2,y:3},type:"wood-empty"},
z:{gridAx:{x:2,y:1},type:"goal",dir:"l",isPath:!0,hintspin:!0}},{a:{gridAx:{x:0,y:0},type:"start",dir:"t",isPath:!0,ball:!0},b:{gridAx:{x:0,y:1},type:"wood",dir:"v",isPath:!0},c:{gridAx:{x:0,y:2},type:"wood",dir:"rt",isPath:!0,star:!0},d:{gridAx:{x:1,y:2},type:"wood",dir:"h",isPath:!0,star:!0},e:{gridAx:{x:2,y:2},type:"wood",dir:"lt",isPath:!0,star:!0},f:{gridAx:{x:1,y:1},type:"wood",dir:"lt"},g:{gridAx:{x:2,y:3},type:"wood-empty"},z:{gridAx:{x:2,y:1},type:"goal",dir:"t",isPath:!0,hintspin:!0}},{a:{gridAx:{x:0,
y:0},type:"start",dir:"t",isPath:!0,ball:!0},b:{gridAx:{x:0,y:1},type:"wood",dir:"rt",isPath:!0},c:{gridAx:{x:1,y:1},type:"wood",dir:"lt",isPath:!0},d:{gridAx:{x:1,y:0},type:"metal",dir:"rb",isPath:!0,star:!0},e:{gridAx:{x:2,y:0},type:"wood",dir:"h",isPath:!0,star:!0},f:{gridAx:{x:3,y:0},type:"wood",dir:"lb",isPath:!0},g:{gridAx:{x:3,y:1},type:"wood",dir:"v",isPath:!0,star:!0},h:{gridAx:{x:3,y:2},type:"wood",dir:"lt",isPath:!0},i:{gridAx:{x:2,y:2},type:"wood",dir:"rt",isPath:!0},j:{gridAx:{x:0,y:2},
type:"wood",dir:"v"},k:{gridAx:{x:1,y:2},type:"wood",dir:"h"},z:{gridAx:{x:2,y:1},type:"goal",dir:"t",isPath:!0,hintspin:!0}},{a:{gridAx:{x:0,y:3},type:"start",dir:"l",isPath:!0,ball:!0},b:{gridAx:{x:1,y:3},type:"wood",dir:"h",isPath:!0,star:!0},c:{gridAx:{x:2,y:3},type:"wood",dir:"h",isPath:!0},d:{gridAx:{x:3,y:3},type:"wood",dir:"lt",isPath:!0,star:!0},e:{gridAx:{x:3,y:2},type:"wood",dir:"lb",isPath:!0},f:{gridAx:{x:2,y:2},type:"wood",dir:"rt",isPath:!0,star:!0},g:{gridAx:{x:1,y:2},type:"wood",
dir:"lt"},h:{gridAx:{x:0,y:2},type:"wood",dir:"rb"},z:{gridAx:{x:2,y:1},type:"goal",dir:"t",isPath:!0,hintspin:!0}},{a:{gridAx:{x:0,y:3},type:"start",dir:"l",isPath:!0,ball:!0},b:{gridAx:{x:1,y:3},type:"wood",dir:"lt",isPath:!0,star:!0},c:{gridAx:{x:1,y:2},type:"wood",dir:"lb",isPath:!0},d:{gridAx:{x:0,y:2},type:"wood",dir:"rt",isPath:!0},e:{gridAx:{x:0,y:1},type:"wood",dir:"rb",isPath:!0,star:!0},f:{gridAx:{x:1,y:1},type:"wood",dir:"h",isPath:!0},g:{gridAx:{x:2,y:1},type:"wood",dir:"lb",isPath:!0},
h:{gridAx:{x:2,y:2},type:"wood",dir:"rt",isPath:!0},i:{gridAx:{x:3,y:2},type:"wood",dir:"lt",isPath:!0,star:!0},j:{gridAx:{x:2,y:3},type:"wood-empty"},z:{gridAx:{x:3,y:1},type:"goal",dir:"t",isPath:!0,hintspin:!0}},{a:{gridAx:{x:0,y:3},type:"start",dir:"l",isPath:!0,ball:!0},b:{gridAx:{x:1,y:3},type:"wood",dir:"h",isPath:!0},c:{gridAx:{x:2,y:3},type:"metal",dir:"lt",isPath:!0,star:!0},d:{gridAx:{x:2,y:2},type:"wood",dir:"v",isPath:!0},e:{gridAx:{x:2,y:1},type:"wood",dir:"rb",isPath:!0,star:!0},f:{gridAx:{x:3,
y:1},type:"wood",dir:"lb",isPath:!0},g:{gridAx:{x:3,y:2},type:"wood",dir:"v",isPath:!0,star:!0},z:{gridAx:{x:3,y:3},type:"goal",dir:"b",isPath:!0,hintspin:!0}},{a:{gridAx:{x:0,y:3},type:"start",dir:"l",isPath:!0,ball:!0},b:{gridAx:{x:1,y:3},type:"wood",dir:"lt",isPath:!0},c:{gridAx:{x:1,y:2},type:"wood",dir:"lb",isPath:!0},d:{gridAx:{x:0,y:2},type:"metal",dir:"rt",isPath:!0,star:!0},e:{gridAx:{x:0,y:1},type:"wood",dir:"rb",isPath:!0},f:{gridAx:{x:1,y:1},type:"wood",dir:"h",isPath:!0,star:!0},g:{gridAx:{x:2,
y:1},type:"wood",dir:"h",isPath:!0},h:{gridAx:{x:3,y:1},type:"wood",dir:"lb",isPath:!0,star:!0},i:{gridAx:{x:3,y:2},type:"wood",dir:"v",isPath:!0},z:{gridAx:{x:3,y:3},type:"goal",dir:"b",isPath:!0,hintspin:!0}},{a:{gridAx:{x:0,y:3},type:"start",dir:"l",isPath:!0,ball:!0},b:{gridAx:{x:1,y:3},type:"wood",dir:"h",isPath:!0},c:{gridAx:{x:2,y:3},type:"wood",dir:"lt",isPath:!0,star:!0},d:{gridAx:{x:2,y:2},type:"wood",dir:"v",isPath:!0},e:{gridAx:{x:2,y:1},type:"wood",dir:"rb",isPath:!0,star:!0},f:{gridAx:{x:3,
y:1},type:"metal",dir:"lb",isPath:!0,star:!0},g:{gridAx:{x:3,y:3},type:"wood-empty"},z:{gridAx:{x:3,y:2},type:"goal",dir:"b",isPath:!0,hintspin:!0}},{a:{gridAx:{x:0,y:0},type:"start",dir:"l",isPath:!0,ball:!0},b:{gridAx:{x:1,y:0},type:"wood",dir:"lb",isPath:!0,star:!0},c:{gridAx:{x:1,y:1},type:"wood",dir:"v",isPath:!0},d:{gridAx:{x:1,y:2},type:"wood",dir:"rt",isPath:!0,star:!0},e:{gridAx:{x:2,y:2},type:"wood",dir:"lb",isPath:!0,star:!0},f:{gridAx:{x:0,y:1},type:"wood-empty"},g:{gridAx:{x:0,y:3},type:"wood-empty"},
h:{gridAx:{x:1,y:3},type:"wood-empty"},z:{gridAx:{x:2,y:3},type:"goal",dir:"b",isPath:!0,hintspin:!0}},{a:{gridAx:{x:0,y:0},type:"start",dir:"l",isPath:!0,ball:!0},b:{gridAx:{x:1,y:0},type:"wood",dir:"lb",isPath:!0},c:{gridAx:{x:1,y:1},type:"wood",dir:"rt",isPath:!0,star:!0},d:{gridAx:{x:2,y:1},type:"wood",dir:"h",isPath:!0},e:{gridAx:{x:3,y:1},type:"wood",dir:"lb",isPath:!0},f:{gridAx:{x:3,y:2},type:"wood",dir:"lt",isPath:!0,star:!0},g:{gridAx:{x:2,y:2},type:"wood",dir:"rb",isPath:!0,star:!0},h:{gridAx:{x:1,
y:2},type:"wood",dir:"v"},i:{gridAx:{x:3,y:0},type:"wood-empty"},z:{gridAx:{x:2,y:3},type:"goal",dir:"b",isPath:!0,hintspin:!0}},{a:{gridAx:{x:2,y:0},type:"start",dir:"t",isPath:!0,ball:!0},b:{gridAx:{x:2,y:1},type:"wood",dir:"rt",isPath:!0,star:!0},c:{gridAx:{x:3,y:1},type:"wood",dir:"lb",isPath:!0},d:{gridAx:{x:3,y:2},type:"wood",dir:"lt",isPath:!0},e:{gridAx:{x:2,y:2},type:"metal",dir:"h",isPath:!0},f:{gridAx:{x:1,y:2},type:"wood",dir:"h",isPath:!0,star:!0},g:{gridAx:{x:0,y:2},type:"wood",dir:"rb",
isPath:!0,star:!0},h:{gridAx:{x:0,y:3},type:"wood",dir:"rt",isPath:!0},i:{gridAx:{x:1,y:3},type:"wood",dir:"h",isPath:!0},j:{gridAx:{x:0,y:0},type:"wood-empty"},k:{gridAx:{x:1,y:0},type:"wood-empty"},z:{gridAx:{x:2,y:3},type:"goal",dir:"r",isPath:!0,hintspin:!0}},{a:{gridAx:{x:3,y:3},type:"start",dir:"b",isPath:!0,ball:!0},b:{gridAx:{x:3,y:2},type:"wood",dir:"v",isPath:!0,star:!0},c:{gridAx:{x:3,y:1},type:"wood",dir:"lb",isPath:!0},d:{gridAx:{x:2,y:1},type:"wood",dir:"h",isPath:!0,star:!0},e:{gridAx:{x:1,
y:1},type:"wood",dir:"rb",isPath:!0},f:{gridAx:{x:1,y:2},type:"wood",dir:"v",isPath:!0},g:{gridAx:{x:1,y:3},type:"wood",dir:"rt",isPath:!0,star:!0},h:{gridAx:{x:0,y:0},type:"wood-empty"},i:{gridAx:{x:1,y:0},type:"wood-empty"},j:{gridAx:{x:2,y:0},type:"wood-empty"},k:{gridAx:{x:0,y:1},type:"wood-empty"},l:{gridAx:{x:0,y:2},type:"wood-empty"},m:{gridAx:{x:0,y:3},type:"wood-empty"},z:{gridAx:{x:2,y:3},type:"goal",dir:"r",isPath:!0,hintspin:!0}},{a:{gridAx:{x:3,y:3},type:"start",dir:"b",isPath:!0,ball:!0},
b:{gridAx:{x:3,y:2},type:"wood",dir:"v",isPath:!0},c:{gridAx:{x:3,y:1},type:"wood",dir:"v",isPath:!0},d:{gridAx:{x:3,y:0},type:"wood",dir:"lb",isPath:!0},e:{gridAx:{x:2,y:0},type:"wood",dir:"rb",isPath:!0,star:!0},f:{gridAx:{x:2,y:1},type:"wood",dir:"v",isPath:!0},g:{gridAx:{x:2,y:2},type:"wood",dir:"lt",isPath:!0,star:!0},h:{gridAx:{x:1,y:2},type:"wood",dir:"rb",isPath:!0},i:{gridAx:{x:1,y:3},type:"wood",dir:"rt",isPath:!0,star:!0},j:{gridAx:{x:0,y:0},type:"wood-empty"},j:{gridAx:{x:1,y:0},type:"wood-empty"},
k:{gridAx:{x:0,y:1},type:"wood-empty"},l:{gridAx:{x:0,y:2},type:"wood",dir:"h"},z:{gridAx:{x:2,y:3},type:"goal",dir:"r",isPath:!0,hintspin:!0}},{a:{gridAx:{x:3,y:1},type:"start",dir:"b",isPath:!0,ball:!0},b:{gridAx:{x:3,y:0},type:"wood",dir:"lb",isPath:!0},c:{gridAx:{x:2,y:0},type:"wood",dir:"rb",isPath:!0},d:{gridAx:{x:2,y:1},type:"wood",dir:"v",isPath:!0,star:!0},e:{gridAx:{x:2,y:2},type:"wood",dir:"lt",isPath:!0},f:{gridAx:{x:1,y:2},type:"wood",dir:"rb",isPath:!0,star:!0},g:{gridAx:{x:1,y:3},type:"wood",
dir:"lt",isPath:!0,star:!0},h:{gridAx:{x:0,y:3},type:"wood",dir:"rt",isPath:!0},i:{gridAx:{x:1,y:1},type:"wood",dir:"h"},j:{gridAx:{x:2,y:3},type:"wood",dir:"v"},z:{gridAx:{x:0,y:2},type:"goal",dir:"t",isPath:!0,hintspin:!0}},{a:{gridAx:{x:3,y:3},type:"start",dir:"b",isPath:!0,ball:!0},b:{gridAx:{x:3,y:2},type:"wood",dir:"lb",isPath:!0,star:!0},c:{gridAx:{x:2,y:2},type:"wood",dir:"rb",isPath:!0},e:{gridAx:{x:2,y:3},type:"wood",dir:"lt",isPath:!0},f:{gridAx:{x:1,y:3},type:"wood",dir:"rt",isPath:!0,
star:!0},g:{gridAx:{x:1,y:2},type:"wood",dir:"v",isPath:!0,star:!0},h:{gridAx:{x:1,y:1},type:"wood",dir:"lb",isPath:!0},i:{gridAx:{x:0,y:1},type:"wood",dir:"rt",isPath:!0},j:{gridAx:{x:0,y:2},type:"wood",dir:"h"},k:{gridAx:{x:2,y:0},type:"wood",dir:"h"},z:{gridAx:{x:0,y:0},type:"goal",dir:"t",isPath:!0,hintspin:!0}},{a:{gridAx:{x:3,y:0},type:"start",dir:"t",isPath:!0,ball:!0},b:{gridAx:{x:3,y:1},type:"wood",dir:"lt",isPath:!0},c:{gridAx:{x:2,y:1},type:"wood",dir:"rb",isPath:!0},d:{gridAx:{x:2,y:2},
type:"wood",dir:"rt",isPath:!0,star:!0},e:{gridAx:{x:3,y:2},type:"wood",dir:"lb",isPath:!0},f:{gridAx:{x:3,y:3},type:"metal",dir:"lt",isPath:!0,star:!0},g:{gridAx:{x:2,y:3},type:"wood",dir:"h",isPath:!0},h:{gridAx:{x:1,y:3},type:"wood",dir:"rt",isPath:!0,star:!0},i:{gridAx:{x:1,y:2},type:"wood",dir:"lb",isPath:!0},j:{gridAx:{x:0,y:2},type:"wood",dir:"rb",isPath:!0},k:{gridAx:{x:2,y:0},type:"wood",dir:"v"},l:{gridAx:{x:0,y:1},type:"wood",dir:"v"},z:{gridAx:{x:0,y:3},type:"goal",dir:"b",isPath:!0,hintspin:!0}},
{a:{gridAx:{x:3,y:3},type:"start",dir:"r",isPath:!0,ball:!0},b:{gridAx:{x:2,y:3},type:"wood",dir:"rt",isPath:!0,star:!0},c:{gridAx:{x:2,y:2},type:"wood",dir:"rb",isPath:!0},d:{gridAx:{x:3,y:2},type:"wood",dir:"lt",isPath:!0},e:{gridAx:{x:3,y:1},type:"wood",dir:"lb",isPath:!0},f:{gridAx:{x:2,y:1},type:"wood",dir:"h",isPath:!0,star:!0},g:{gridAx:{x:1,y:1},type:"wood",dir:"rb",isPath:!0},h:{gridAx:{x:1,y:2},type:"wood",dir:"v",isPath:!0},i:{gridAx:{x:1,y:3},type:"wood",dir:"lt",isPath:!0,star:!0},j:{gridAx:{x:0,
y:2},type:"wood",dir:"h"},k:{gridAx:{x:0,y:0},type:"wood-empty"},l:{gridAx:{x:1,y:0},type:"wood-empty"},m:{gridAx:{x:0,y:1},type:"wood-empty"},z:{gridAx:{x:0,y:3},type:"goal",dir:"l",isPath:!0,hintspin:!0}},{a:{gridAx:{x:3,y:0},type:"start",dir:"r",isPath:!0,ball:!0},b:{gridAx:{x:2,y:0},type:"wood",dir:"rb",isPath:!0},c:{gridAx:{x:2,y:1},type:"wood",dir:"v",isPath:!0,star:!0},d:{gridAx:{x:2,y:2},type:"metal",dir:"rt",isPath:!0},e:{gridAx:{x:3,y:2},type:"wood",dir:"lb",isPath:!0},f:{gridAx:{x:3,y:3},
type:"wood",dir:"lt",isPath:!0},g:{gridAx:{x:2,y:3},type:"wood",dir:"h",isPath:!0,star:!0},h:{gridAx:{x:1,y:3},type:"wood",dir:"rt",isPath:!0},i:{gridAx:{x:1,y:2},type:"wood",dir:"v",isPath:!0},j:{gridAx:{x:1,y:1},type:"wood",dir:"v",isPath:!0,star:!0},k:{gridAx:{x:1,y:0},type:"wood",dir:"lb",isPath:!0},l:{gridAx:{x:0,y:2},type:"wood",dir:"h"},z:{gridAx:{x:0,y:0},type:"goal",dir:"l",isPath:!0,hintspin:!0}},{b:{gridAx:{x:1,y:1},type:"start",dir:"t",isPath:!0,ball:!0},c:{gridAx:{x:1,y:2},type:"wood",
dir:"lt",isPath:!0},d:{gridAx:{x:0,y:2},type:"wood",dir:"rb",isPath:!0,star:!0},e:{gridAx:{x:0,y:3},type:"wood",dir:"rt",isPath:!0},f:{gridAx:{x:1,y:3},type:"wood",dir:"h",isPath:!0,star:!0},g:{gridAx:{x:2,y:3},type:"wood",dir:"lt",isPath:!0,star:!0},h:{gridAx:{x:2,y:2},type:"wood",dir:"v",isPath:!0},i:{gridAx:{x:2,y:1},type:"wood",dir:"v",isPath:!0},j:{gridAx:{x:2,y:0},type:"wood",dir:"lb",isPath:!0},k:{gridAx:{x:1,y:0},type:"wood",dir:"h",isPath:!0},l:{gridAx:{x:3,y:2},type:"wood",dir:"h"},m:{gridAx:{x:3,
y:0},type:"wood-empty"},z:{gridAx:{x:0,y:0},type:"goal",dir:"l",isPath:!0,hintspin:!0}},{a:{gridAx:{x:3,y:3},type:"start",dir:"r",isPath:!0,ball:!0},b:{gridAx:{x:2,y:3},type:"wood",dir:"rt",isPath:!0},c:{gridAx:{x:2,y:2},type:"wood",dir:"rb",isPath:!0},d:{gridAx:{x:3,y:2},type:"wood",dir:"lt",isPath:!0},e:{gridAx:{x:3,y:1},type:"wood",dir:"v",isPath:!0},f:{gridAx:{x:3,y:0},type:"metal",dir:"lb",isPath:!0,star:!0},g:{gridAx:{x:2,y:0},type:"wood",dir:"rb",isPath:!0},h:{gridAx:{x:2,y:1},type:"wood",
dir:"lt",isPath:!0},i:{gridAx:{x:1,y:1},type:"wood",dir:"rb",isPath:!0,star:!0},j:{gridAx:{x:1,y:2},type:"wood",dir:"v",isPath:!0},k:{gridAx:{x:1,y:3},type:"wood",dir:"lt",isPath:!0},l:{gridAx:{x:0,y:3},type:"metal",dir:"rt",isPath:!0,star:!0},m:{gridAx:{x:0,y:2},type:"wood",dir:"v",isPath:!0},n:{gridAx:{x:0,y:1},type:"wood",dir:"v",isPath:!0},z:{gridAx:{x:0,y:0},type:"goal",dir:"t",isPath:!0,hintspin:!0}}],layoutShuffle:[[{id:"c",tileDir:"y",step:1}],[{id:"g",tileDir:"y",step:1},{id:"f",tileDir:"x",
step:1},{id:"h",tileDir:"y",step:-1}],[{id:"e",tileDir:"y",step:1},{id:"f",tileDir:"x",step:-1},{id:"g",tileDir:"x",step:-1},{id:"h",tileDir:"y",step:-1}],[{id:"c",tileDir:"x",step:-1},{id:"b",tileDir:"y",step:-1},{id:"h",tileDir:"x",step:1},{id:"i",tileDir:"x",step:-1},{id:"b",tileDir:"x",step:1},{id:"b",tileDir:"y",step:1},{id:"h",tileDir:"x",step:-1},{id:"c",tileDir:"x",step:1}],[{id:"c",tileDir:"y",step:1},{id:"d",tileDir:"x",step:-1},{id:"f",tileDir:"y",step:1},{id:"e",tileDir:"x",step:1},{id:"i",
tileDir:"y",step:-1},{id:"h",tileDir:"y",step:-1},{id:"f",tileDir:"x",step:-1},{id:"c",tileDir:"x",step:1}],[{id:"c",tileDir:"y",step:1},{id:"d",tileDir:"x",step:-1},{id:"e",tileDir:"x",step:1},{id:"f",tileDir:"y",step:1},{id:"f",tileDir:"x",step:1},{id:"d",tileDir:"x",step:1}],[{id:"k",tileDir:"y",step:1},{id:"j",tileDir:"x",step:1},{id:"b",tileDir:"y",step:1},{id:"b",tileDir:"y",step:1},{id:"j",tileDir:"x",step:-1},{id:"j",tileDir:"y",step:-1},{id:"c",tileDir:"y",step:1},{id:"c",tileDir:"x",step:-1},
{id:"k",tileDir:"y",step:-1}],[{id:"g",tileDir:"y",step:-1},{id:"g",tileDir:"x",step:-1},{id:"b",tileDir:"y",step:-1},{id:"b",tileDir:"y",step:-1},{id:"h",tileDir:"x",step:1},{id:"h",tileDir:"y",step:1},{id:"g",tileDir:"y",step:1},{id:"g",tileDir:"x",step:1}],[{id:"i",tileDir:"y",step:1},{id:"h",tileDir:"x",step:1},{id:"j",tileDir:"y",step:-1},{id:"b",tileDir:"x",step:1},{id:"c",tileDir:"y",step:1},{id:"j",tileDir:"x",step:-1}],[{id:"e",tileDir:"y",step:-1},{id:"d",tileDir:"y",step:-1},{id:"g",tileDir:"x",
step:-1},{id:"f",tileDir:"y",step:1},{id:"d",tileDir:"x",step:1},{id:"e",tileDir:"y",step:1}],[{id:"f",tileDir:"y",step:-1},{id:"c",tileDir:"x",step:1},{id:"c",tileDir:"y",step:1},{id:"e",tileDir:"x",step:1},{id:"e",tileDir:"y",step:1},{id:"g",tileDir:"y",step:1}],[{id:"d",tileDir:"x",step:-1},{id:"c",tileDir:"y",step:-1},{id:"d",tileDir:"y",step:-1},{id:"b",tileDir:"y",step:-1},{id:"g",tileDir:"x",step:-1},{id:"g",tileDir:"x",step:-1}],[{id:"c",tileDir:"x",step:1},{id:"f",tileDir:"x",step:1},{id:"g",
tileDir:"y",step:-1},{id:"g",tileDir:"y",step:-1},{id:"d",tileDir:"x",step:-1},{id:"d",tileDir:"y",step:1},{id:"g",tileDir:"y",step:1},{id:"e",tileDir:"x",step:-1}],[{id:"d",tileDir:"y",step:-1},{id:"c",tileDir:"x",step:-1},{id:"h",tileDir:"y",step:-1},{id:"c",tileDir:"y",step:1},{id:"c",tileDir:"x",step:1},{id:"e",tileDir:"x",step:-1},{id:"i",tileDir:"y",step:1}],[{id:"b",tileDir:"x",step:-1},{id:"b",tileDir:"x",step:-1},{id:"f",tileDir:"y",step:-1},{id:"f",tileDir:"x",step:1},{id:"b",tileDir:"x",
step:1},{id:"b",tileDir:"y",step:1},{id:"g",tileDir:"y",step:-1},{id:"g",tileDir:"x",step:1}],[{id:"d",tileDir:"y",step:1},{id:"c",tileDir:"x",step:-1},{id:"j",tileDir:"x",step:1},{id:"j",tileDir:"y",step:1},{id:"i",tileDir:"x",step:1},{id:"i",tileDir:"x",step:1},{id:"e",tileDir:"y",step:-1},{id:"e",tileDir:"x",step:1},{id:"h",tileDir:"x",step:1},{id:"h",tileDir:"y",step:1}],[{id:"i",tileDir:"x",step:-1},{id:"h",tileDir:"y",step:1},{id:"l",tileDir:"x",step:1},{id:"k",tileDir:"y",step:1},{id:"f",tileDir:"x",
step:-1},{id:"c",tileDir:"x",step:-1},{id:"d",tileDir:"y",step:1},{id:"e",tileDir:"x",step:1},{id:"j",tileDir:"x",step:1}],[{id:"e",tileDir:"x",step:1},{id:"f",tileDir:"x",step:1},{id:"i",tileDir:"y",step:1},{id:"e",tileDir:"y",step:1},{id:"f",tileDir:"x",step:1},{id:"j",tileDir:"y",step:-1},{id:"e",tileDir:"x",step:-1}],[{id:"b",tileDir:"y",step:-1},{id:"c",tileDir:"x",step:1},{id:"k",tileDir:"y",step:1},{id:"k",tileDir:"y",step:1},{id:"h",tileDir:"y",step:-1},{id:"g",tileDir:"y",step:-1},{id:"g",
tileDir:"x",step:1},{id:"j",tileDir:"x",step:1},{id:"h",tileDir:"y",step:1}],[{id:"i",tileDir:"y",step:-1},{id:"i",tileDir:"y",step:-1},{id:"l",tileDir:"x",step:1},{id:"l",tileDir:"y",step:1},{id:"c",tileDir:"x",step:-1},{id:"d",tileDir:"y",step:-1},{id:"l",tileDir:"x",step:1},{id:"c",tileDir:"y",step:1},{id:"d",tileDir:"x",step:-1},{id:"k",tileDir:"y",step:1}],[{id:"e",tileDir:"y",step:-1},{id:"d",tileDir:"y",step:-1},{id:"c",tileDir:"x",step:1},{id:"f",tileDir:"y",step:1},{id:"l",tileDir:"x",step:1},
{id:"l",tileDir:"y",step:1},{id:"g",tileDir:"y",step:-1},{id:"h",tileDir:"y",step:-1},{id:"j",tileDir:"x",step:1},{id:"m",tileDir:"y",step:1}],[{id:"e",tileDir:"y",step:-1},{id:"f",tileDir:"y",step:-1},{id:"h",tileDir:"x",step:-1},{id:"j",tileDir:"x",step:-1},{id:"i",tileDir:"y",step:-1},{id:"l",tileDir:"x",step:1},{id:"l",tileDir:"y",step:1},{id:"i",tileDir:"y",step:1},{id:"j",tileDir:"x",step:1}],[{id:"d",tileDir:"y",step:-1},{id:"l",tileDir:"y",step:1},{id:"h",tileDir:"x",step:1},{id:"h",tileDir:"y",
step:-1},{id:"g",tileDir:"y",step:-1},{id:"g",tileDir:"x",step:1},{id:"c",tileDir:"x",step:-1},{id:"f",tileDir:"x",step:1},{id:"e",tileDir:"x",step:1},{id:"e",tileDir:"y",step:-1},{id:"f",tileDir:"y",step:-1}],[{id:"i",tileDir:"y",step:-1},{id:"h",tileDir:"x",step:-1},{id:"c",tileDir:"y",step:-1},{id:"j",tileDir:"x",step:1},{id:"h",tileDir:"y",step:1},{id:"c",tileDir:"x",step:-1},{id:"j",tileDir:"y",step:-1},{id:"b",tileDir:"y",step:-1},{id:"k",tileDir:"x",step:1},{id:"h",tileDir:"y",step:1},{id:"m",
tileDir:"x",step:1},{id:"n",tileDir:"y",step:1},{id:"c",tileDir:"x",step:-1},{id:"i",tileDir:"y",step:1}]],maxMoves:[1,3,4,8,8,1,7,6,6,6,6,6,7,5,8,8,8,3,8,10,9,9,1,14],bShowTransitionText:!1,stepStrightBase:25,stepArcBase:100,stepSpeedBase:2,stepSpeedQuick:4,stepStrightPad:5,stepStrightSizeMin:32,pauseOverlayDarkness:0.8,optionOverlayDarkness:0.8,starTopUiDelay:0.25,dialogShowSpeed:0.25,selectleveltileDelay:0.025,endGameDelay:0.5}})});ig.baked=!0;
ig.module("game.app.states").requires("impact.game").defines(function(){ig.Game.inject({states:{isPaused:!1,isPusedReset:function(){this.isPaused=!1}}})});ig.baked=!0;ig.module("game.app.querystring").requires("impact.game").defines(function(){ig.Game.inject({queryString:!1,init:function(){this.queryString=this.queryString?QueryString:!1;QueryString=!1}})});
QueryString=function(){for(var j={},l=window.location.search.substring(1).split("&"),m=0;m<l.length;m++){var n=l[m].split("=");if("undefined"===typeof j[n[0]])j[n[0]]=decodeURIComponent(n[1]);else if("string"===typeof j[n[0]]){var q=[j[n[0]],decodeURIComponent(n[1])];j[n[0]]=q}else j[n[0]].push(decodeURIComponent(n[1]))}return j}();ig.baked=!0;
ig.module("game.app.entity").requires("impact.entity").defines(function(){Entity=ig.Entity.extend({init:function(j,l,m){if(ig.global.wm){var n=Math.floor(257*Math.random())+0,q=Math.floor(257*Math.random())+0,r=Math.floor(257*Math.random())+0;this._wmDrawBox=!0;this_wmBoxColor="rgba("+n+","+r+","+q+",1)"}this.parent(j,l,m)},fnGetCenter:function(j){var l={},l={x:this.pos.x+this.size.x/2,y:this.pos.y+this.size.y/2};j&&(l.x-=ig.game.screen.x,l.y-=ig.game.screen.y);return l},fnGetPosByCenter:function(j,
l){var m={x:j.x-this.size.x/2,y:j.y-this.size.y/2};l&&(results.x-=ig.game.screen.x,results.y-=ig.game.screen.y);return m},fnGetBottomRight:function(j){var l={x:this.pos.x+this.size.x,y:this.pos.y+this.size.y};j&&(results.x-=ig.game.screen.x,results.y-=ig.game.screen.y);return l},fnGetState:function(j){return j?void 0!==ig.game.states[j]?ig.game.states[j]:!1:ig.game.states},fnGetLocalState:function(j){return this.fnGetController().fnGetLocalState(j)},fnGetSetting:function(j){return j?ig.game.settings[j]?
ig.game.settings[j]:!1:ig.game.settings},fnGetHelper:function(){return ig.game.helper},fnGetEntities:function(j){return ig.game.getEntitiesByType(j)},fnGetEntity:function(j){return j=(j=this.fnGetEntities(j))&&j[0]?j[0]:!1},fnGetController:function(){return ig.game.controller},fnGetPointer:function(){return ig.game.pointer},fnGetContext:function(){return ig.system.context},fnSetCenter:function(j,l,m,n){if(!j||!l)return!1;switch(j){case "x":if("number"!=typeof l)return!1;this.pos.x=l-this.size.x/2+
(m&&"number"==typeof m?m:0);break;case "y":if("number"!=typeof l)return!1;this.pos.y=l-this.size.y/2+(m&&"number"==typeof m?m:0);break;case "both":if("object"!=typeof l||!l.x||!l.y)return!1;j={x:0,y:0};j.x=m&&m.x?m.x:0;j.y=m&&m.y?m.y:0;this.pos={x:l.x-this.size.x/2+j.x,y:l.y-this.size.y/2+j.y}}n&&(this.pos.x-=ig.game.screen.x,this.pos.y-=ig.game.screen.y);return this},fnSpawn:function(j,l,m,n){return ig.game.spawnEntity(j,l,m,n)},fnCtxWrite:function(j,l,m,n,q,r,B){ig.system.context.font=m+"pt "+l;
ig.system.context.textAlign=q;ig.system.context.fillStyle=n;ig.system.context.fillText(j,r,B);ig.system.context.restore()},fnCtxDot:function(j,l,m,n){n=n||2;ig.system.context.fillStyle=m||"black";ig.system.context.fillRect(j,l,n,n);ig.system.context.restore()},fnDrawOverlay:function(j,l,m){ig.system.context.beginPath();ig.system.context.rect(0,0,j,l);ig.system.context.fillStyle=m;ig.system.context.fill();ig.system.context.restore},clicked:function(){this.pointerHold=!0},clicking:function(){},released:function(){if(!this.pointerHold&&
this.fnGetPointer().hoveringItem==this)for(var j=0;j<ig.game.entities.length;j++)ig.game.entities[j].pointerHold&&(ig.game.entities[j].pointerHold=!1);this.pointerHold&&(this.pointerHold=!1,this.fnGetPointer().fnLetGo())},releasedOutside:function(){this.pointerHold&&(this.pointerHold=!1,this.fnGetPointer().fnLetGo())},leave:function(){document.body.style.cursor="inherit"},over:function(){this.cursor&&(document.body.style.cursor=this.cursor)}});ig.Animation.inject({scale:{x:1,y:1,align:{x:!1,y:!1}},
draw:function(j,l){var m=ig.system.scale;ig.system.context.save();var n=0,q=0,n=this.scale.align&&this.scale.align.x&&"left"==this.scale.align.x?j:this.scale.align&&this.scale.align.x&&"right"==this.scale.align.x?j+this.sheet.width:j+this.sheet.width/2,q=this.scale.align&&this.scale.align.y&&"top"==this.scale.align.y?l:this.scale.align&&this.scale.align.y&&"bottom"==this.scale.align.y?l+this.sheet.height:l+this.sheet.height/2;ig.system.context.translate(n*m,q*m);ig.system.context.scale(this.scale.x,
this.scale.y);ig.system.context.translate(-n*m,-q*m);this.parent(j,l);ig.system.context.restore()}})});ig.baked=!0;
ig.module("game.entities.games.board-game").requires("game.app.entity").defines(function(){EntityBoardGame=Entity.extend({name:"BoardGame",size:{x:480,y:640},animSheet:new ig.AnimationSheet("media/graphics/games/board.png",480,640),oTile:{},iMaxCol:3,iMaxRow:3,arHintMoves:[],arHintTiles:[],arOHintTiles:[],hintShowDelay:0.1,ballRollPlay:!1,init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").tileBoard,
ig.game.sortEntitiesDeferred())},fnAddTile:function(j){if(this.oTile[j.tileId]||this.fnGetTileByPos(j.gridAx.x,j.gridAx.y)||this.fnIsOutsideTile(j))return!1;this.oTile[j.tileId]=j;j.board=this},fnGetTileByPos:function(j,l){var m=!1;for(a in this.oTile)if(this.oTile[a].gridAx.x==j&&this.oTile[a].gridAx.y==l){m=this.oTile[a];break}return m},fnIsOutsideTile:function(j){return 0>j.gridAx.x||j.gridAx.x>this.iMaxCol||0>j.gridAx.y||j.gridAx.y>this.iMaxRow?!0:!1},fnInitArrangeTiles:function(){for(b in this.oTile){var j=
this.fnGetGrid(this.oTile[b].gridAx.x,this.oTile[b].gridAx.y);j.bEmpty&&(this.oTile[b].fnSetCenter("both",{x:j.pos.x,y:j.pos.y}),this.fnSetGrid(this.oTile[b].gridAx.x,this.oTile[b].gridAx.y));this.oTile[b].isPath&&this.arHintTiles.push({tileDir:this.oTile[b].tileDir,centerPos:{x:j.pos.x,y:j.pos.y}})}this.fnInitTilesPath()},fnInitTilesPath:function(){for(e in this.oTile)this.oTile[e].fnSetPath()},fnShuffle:function(j){if(j){for(var l=0;l<j.length;l++){var m=j[l],n=this.oTile[m.id];this.fnUnsetGrid(n.gridAx.x,
n.gridAx.y);n.gridAx[m.tileDir]+=m.step;this.fnSetGrid(n.gridAx.x,n.gridAx.y);m=this.fnGetGrid(n.gridAx.x,n.gridAx.y);n.fnSetCenter("both",{x:m.pos.x,y:m.pos.y})}this.arHintMoves=ig.copy(j).reverse()}},fnHideHintTiles:function(){if(0<this.arOHintTiles.length){for(var j=0;j<this.arOHintTiles.length;j++)this.arOHintTiles[j].kill();this.arOHintTiles=[]}},fnShowHintTiles:function(){this.fnHideHintTiles();for(var j=0;j<this.arHintTiles.length;j++){var l=this.arHintTiles[j];this.arOHintTiles.push(this.fnSpawn(EntityTilehintGame,
0,0,{tileDir:l.tileDir,centerPos:l.centerPos,delay:this.hintShowDelay*j}))}},fnMoveTile:function(j,l,m){if(!this.fnGetController().pathCompleted){var n=this.oTile[j];switch(l){case "top":if(0==n.gridAx.y)break;var q=this.fnGetGrid(n.gridAx.x,n.gridAx.y-1);q.bEmpty&&(m&&this.fnGetController().fnAddMoveHistory(j,l),this.fnGetController().uiTop.fnAnimateFontMoves(),n.gridAx.y--,this.fnSetGrid(n.gridAx.x,n.gridAx.y),this.fnUnsetGrid(n.gridAx.x,n.gridAx.y+1),n.fnAnimateMove(q.pos));break;case "bottom":if(n.gridAx.y>
this.iMaxRow)break;q=this.fnGetGrid(n.gridAx.x,n.gridAx.y+1);q.bEmpty&&(m&&this.fnGetController().fnAddMoveHistory(j,l),this.fnGetController().uiTop.fnAnimateFontMoves(),n.gridAx.y++,this.fnSetGrid(n.gridAx.x,n.gridAx.y),this.fnUnsetGrid(n.gridAx.x,n.gridAx.y-1),n.fnAnimateMove(q.pos));break;case "left":if(0==n.gridAx.x)break;q=this.fnGetGrid(n.gridAx.x-1,n.gridAx.y);q.bEmpty&&(m&&this.fnGetController().fnAddMoveHistory(j,l),this.fnGetController().uiTop.fnAnimateFontMoves(),n.gridAx.x--,this.fnSetGrid(n.gridAx.x,
n.gridAx.y),this.fnUnsetGrid(n.gridAx.x+1,n.gridAx.y),n.fnAnimateMove(q.pos));break;case "right":if(n.gridAx.x>this.iMaxRow)break;q=this.fnGetGrid(n.gridAx.x+1,n.gridAx.y);q.bEmpty&&(m&&this.fnGetController().fnAddMoveHistory(j,l),this.fnGetController().uiTop.fnAnimateFontMoves(),n.gridAx.x++,this.fnSetGrid(n.gridAx.x,n.gridAx.y),this.fnUnsetGrid(n.gridAx.x-1,n.gridAx.y),n.fnAnimateMove(q.pos))}}},fnAsignConnectedTiles:function(j,l){var m=!1;l=l||[];if(j)if(m=this.fnFindNextTile(j)){l.push(m);var n=
this.fnAsignConnectedTiles(m,l);if("goal"==m.tileType)return l;if(n)m=l;else return!1}else m=!1;else{for(c in this.oTile){"start"==this.oTile[c].tileType&&(j=this.oTile[c]);break}j&&(l.push(j),m=this.fnAsignConnectedTiles(j,l)?l:!1)}return m},fnFindNextTile:function(j){var l=!1;if("goal"!=j.tileType){var m=j.tileType,m=this.tileDirection["metal"==m?"wood":m]||!1;if(!m)return l;m=m[j.tileDir]||!1;if(!m)return l;m=m[j.dirType]||!1;if(!m)return l;j=this.fnGetGrid(j.gridAx.x+m.nextGrid.x,j.gridAx.y+m.nextGrid.y);
if(!j||j.bEmpty)return l;if((l=this.fnGetTileByPos(j.ax.x,j.ax.y))&&!m.nextDir[l.tileDir])return!1;l&&"goal"==l.tileType||"start"!==l.tileType&&l.fnChangeDirType(m.nextDir[l.tileDir])}return l},fnFindStartTile:function(){var j=!1;for(d in this.oTile)if("start"==this.oTile[d].tileType){j=this.oTile[d];break}return j},fnTriggerCompletedTiles:function(){var j=this.fnAsignConnectedTiles();if(j){ig.soundHandler.sfxPlayer.play("win");var l=_STRINGS.Game.pathcomplete,l=l+(ig.game.namedEntities.HintspinGame?
" "+_STRINGS.Game.hintplus:""),m=ig.game.namedEntities.HintspinGame?!0:!1;this.fnGetSetting("bShowTransitionText")?this.fnSpawn(EntityTransitiontextGame,0,0,{board:this,checkResult:j,message:l,customSize:m}):this.fnDeleteUncompleteTiles(j);this.fnGetController().pathCompleted=!0;this.fnGetController().uiFooter.fnActivateFastButton();this.fnGetController().uiFooter.fnDisableButtonOnCompletedPath()}},fnTriggerFast:function(){for(g in this.oTile)this.oTile[g].ballSpeed=this.fnGetSetting("stepSpeedQuick")},
fnTriggerBallMove:function(){this.ballRollPlay=!0;ig.soundHandler.sfxPlayer.soundList.ballroll._loop=!0;ig.soundHandler.sfxPlayer.play("ballroll");var j=this.fnFindStartTile();j.fnTriggerAnimateBall(j.ball)},fnDeleteUncompleteTiles:function(j){for(var l=0;l<j.length;l++)j[l].deleteMark=!1;l=0;j=!1;for(f in this.oTile)this.oTile[f].deleteMark&&(this.oTile[f].fnTriggerKill(l),l+=0.05,j=this.oTile[f]);j?j.triggerBallMove=!0:this.fnTriggerBallMove()},fnGetGrid:function(j,l){for(var m=this.arGrid.length-
1;0<=m;m--)if(this.arGrid[m].ax.x==j&&this.arGrid[m].ax.y==l)return this.arGrid[m];return!1},fnSetGrid:function(j,l){for(var m=this.arGrid.length-1;0<=m;m--)this.arGrid[m].ax.x==j&&this.arGrid[m].ax.y==l&&(this.arGrid[m].bEmpty=!1)},fnUnsetGrid:function(j,l){for(var m=this.arGrid.length-1;0<=m;m--)this.arGrid[m].ax.x==j&&this.arGrid[m].ax.y==l&&(this.arGrid[m].bEmpty=!0)},fnPause:function(){this.ballRollPlay&&ig.soundHandler.sfxPlayer.soundList.ballroll.stop()},fnUnpause:function(){this.ballRollPlay&&
(ig.soundHandler.sfxPlayer.soundList.ballroll._loop=!0,ig.soundHandler.sfxPlayer.play("ballroll"))},arGrid:[{ax:{x:0,y:0},pos:{x:93,y:201},bEmpty:!0},{ax:{x:1,y:0},pos:{x:191,y:201},bEmpty:!0},{ax:{x:2,y:0},pos:{x:289,y:201},bEmpty:!0},{ax:{x:3,y:0},pos:{x:387,y:201},bEmpty:!0},{ax:{x:0,y:1},pos:{x:93,y:299},bEmpty:!0},{ax:{x:1,y:1},pos:{x:191,y:299},bEmpty:!0},{ax:{x:2,y:1},pos:{x:289,y:299},bEmpty:!0},{ax:{x:3,y:1},pos:{x:387,y:299},bEmpty:!0},{ax:{x:0,y:2},pos:{x:93,y:397},bEmpty:!0},{ax:{x:1,
y:2},pos:{x:191,y:397},bEmpty:!0},{ax:{x:2,y:2},pos:{x:289,y:397},bEmpty:!0},{ax:{x:3,y:2},pos:{x:387,y:397},bEmpty:!0},{ax:{x:0,y:3},pos:{x:93,y:495},bEmpty:!0},{ax:{x:1,y:3},pos:{x:191,y:495},bEmpty:!0},{ax:{x:2,y:3},pos:{x:289,y:495},bEmpty:!0},{ax:{x:3,y:3},pos:{x:387,y:495},bEmpty:!0}],tileDirection:{start:{t:{cw:{nextGrid:{x:0,y:1},nextDir:{v:"cw",lt:"cw",rt:"ccw"}}},b:{ccw:{nextGrid:{x:0,y:-1},nextDir:{v:"ccw",lb:"ccw",rb:"cw"}}},l:{cw:{nextGrid:{x:1,y:0},nextDir:{h:"cw",lb:"cw",lt:"ccw"}}},
r:{ccw:{nextGrid:{x:-1,y:0},nextDir:{h:"ccw",rb:"ccw",rt:"cw"}}}},wood:{h:{cw:{nextGrid:{x:1,y:0},nextDir:{h:"cw",r:"cw",lb:"cw",lt:"ccw"}},ccw:{nextGrid:{x:-1,y:0},nextDir:{h:"ccw",l:"ccw",rb:"ccw",rt:"cw"}}},v:{cw:{nextGrid:{x:0,y:1},nextDir:{v:"cw",b:"cw",lt:"cw",rt:"ccw"}},ccw:{nextGrid:{x:0,y:-1},nextDir:{v:"ccw",t:"ccw",lb:"ccw",rb:"cw"}}},rt:{cw:{nextGrid:{x:0,y:-1},nextDir:{v:"ccw",t:"ccw",lb:"ccw",rb:"cw"}},ccw:{nextGrid:{x:1,y:0},nextDir:{h:"cw",r:"cw",lb:"cw",lt:"ccw"}}},rb:{cw:{nextGrid:{x:1,
y:0},nextDir:{h:"cw",r:"cw",lb:"cw",lt:"ccw"}},ccw:{nextGrid:{x:0,y:1},nextDir:{v:"cw",b:"cw",lt:"cw",rt:"ccw"}}},lb:{cw:{nextGrid:{x:0,y:1},nextDir:{v:"cw",b:"cw",lt:"cw",rt:"ccw"}},ccw:{nextGrid:{x:-1,y:0},nextDir:{h:"ccw",l:"ccw",rb:"ccw",rt:"cw"}}},lt:{cw:{nextGrid:{x:-1,y:0},nextDir:{h:"ccw",l:"ccw",rb:"ccw",rt:"cw"}},ccw:{nextGrid:{x:0,y:-1},nextDir:{v:"ccw",t:"ccw",lb:"ccw",rb:"cw"}}}}}})});ig.baked=!0;
ig.module("game.app.storage").requires("impact.game").defines(function(){ig.Game.inject({init:function(){this.parent();try{localStorage.setItem("testStorage","testStorage"),localStorage.removeItem("testStorage"),localStorageSupport="localStorage"in window&&null!==window.localStorage,ig.game.storage=new ig.Storage}catch(j){ig.game.storage={data:{},set:function(j,m){this.data[j]=m},get:function(j){return this.data[j]}}}}})});ig.baked=!0;
ig.module("game.app.service").requires("game.app.storage").defines(function(){Service=ig.Class.extend({nameSpace:"puzzle-ball",init:function(j){this.nameSpace=j||this.nameSpace},fnSetNameSpace:function(j){this.nameSpace=j},_set:function(j,l){var m=this._get();m[j]=l;ig.game.storage.set(this.nameSpace,m);return this},_unset:function(j){var l=this._get();delete l[j];ig.game.storage.set(this.nameSpace,l)},_get:function(j){var l=ig.game.storage.get(this.nameSpace);if(!l||void 0===l||"object"!==typeof l)l=
{};return j?void 0!=l[j]?l[j]:void 0:l}})});ig.baked=!0;ig.module("game.services.hint").requires("game.app.service").defines(function(){HintService=Service.extend({fnGet:function(){return this._get("hint")||0},fnAdd:function(){this._set("hint",this.fnGet()+1)},fnReduce:function(){var j=this.fnGet();this._set("hint",j-(0<j?1:0))},fnGetHints:function(){return this._get("hints")||{}},fnSetHints:function(j){var l=this.fnGetHints();l[j]=!0;this._set("hints",l)}})});ig.baked=!0;
ig.module("game.entities.games.tile-game").requires("game.app.entity","game.services.hint","impact.timer").defines(function(){EntityTileGame=Entity.extend({name:"TileGame",size:{x:98,y:98},animSheet:new ig.AnimationSheet("media/graphics/sprites/tiles.png",98,98),tileType:"wood",tileDir:"n",type:ig.Entity.TYPE.B,cursor:"pointer",iDragDiffIntent:30,path:[],connected:!1,dirType:"cw",dirTypeOri:!1,animateBall:!1,animateBallIndex:0,deleteMark:!0,spinRemoveAnimate:!1,hintspinFixed:!1,ballSpeed:0,hintService:new HintService,
showEndGameTimer:!1,init:function(j,l,m){this.parent(j,l,m);this.fnSetAnim();this.currentAnim=this.anims.default;ig.global.wm||(this.ballSpeed=this.fnGetSetting("stepSpeedBase"),this.star&&(this.star=this.fnSpawn(EntityStarpickGame,-500,-500)),"goal"==this.tileType&&this.hintSpin&&(this.hintSpin=this.hintService.fnGetHints()[this.fnGetController().level]?!1:this.fnSpawn(EntityHintspinGame,-500,-500)),this.zIndex=this.fnGetSetting("enIdx").tile,ig.game.sortEntitiesDeferred())},fnSetStarPos:function(){this.star&&
this.star.fnSetCenter("both",this.fnGetCenter(),{x:this.starLocation[this.tileDir].x,y:this.starLocation[this.tileDir].y})},fnSetHintspin:function(){if(this.hintSpin&&"goal"==this.tileType&&this.hintSpin&&!this.hintspinFixed){this.hintspinFixed=!0;var j=this.path.length-1,l=this.fnGetPivot();this.hintSpin.fnSetCenter("both",{x:this.path[j].x+l.x,y:this.path[j].y+l.y})}},fnSetBall:function(){if("start"==this.tileType&&this.ball&&this.path){this.ball=this.fnSpawn(EntityBallGame,0,0);var j=this.fnGetPivot();
this.ball.fnSetCenter("both",{x:j.x+this.path[0].x,y:j.y+this.path[0].y});this.fnGetController().ball=this.ball}},fnSetAnim:function(){if("wood"==this.tileType)switch(this.tileDir){case "h":this.addAnim("default",0.1,[15]);break;case "v":this.addAnim("default",0.1,[14]);break;case "rt":this.addAnim("default",0.1,[16]);break;case "lt":this.addAnim("default",0.1,[17]);break;case "lb":this.addAnim("default",0.1,[18]);break;case "rb":this.addAnim("default",0.1,[19])}else if("wood-empty"==this.tileType)this.addAnim("default",
0.1,[20]);else if("start"==this.tileType)switch(this.tileDir){case "t":this.addAnim("default",0.1,[4]);break;case "b":this.addAnim("default",0.1,[5]);break;case "r":this.addAnim("default",0.1,[6]);break;case "l":this.addAnim("default",0.1,[7])}else if("metal"==this.tileType)switch(this.tileDir){case "h":this.addAnim("default",0.1,[9]);break;case "v":this.addAnim("default",0.1,[8]);break;case "rt":this.addAnim("default",0.1,[11]);break;case "lt":this.addAnim("default",0.1,[10]);break;case "lb":this.addAnim("default",
0.1,[12]);break;case "rb":this.addAnim("default",0.1,[13])}else if("goal"==this.tileType)switch(this.tileDir){case "t":this.addAnim("default",0.1,[0]);break;case "b":this.addAnim("default",0.1,[1]);break;case "r":this.addAnim("default",0.1,[2]);break;case "l":this.addAnim("default",0.1,[3])}},draw:function(){this.parent()},fnChangeDirType:function(j){this.dirType!=j&&(this.dirType=j,this.path=this.path.reverse())},fnSetPath:function(){if("wood-empty"!=this.tileType){this.path=[];this.fnGetCenter();
var j=this.size.x/2,l=Math.PI;aglTop=3*Math.PI/2;aglRight=2*Math.PI;aglBottom=Math.PI/2;var m=this.fnGetSetting("stepStrightBase"),n=this.fnGetSetting("stepArcBase"),q=this.fnGetSetting("stepStrightPad"),r=this.fnGetSetting("stepStrightSizeMin");switch(this.tileDir){case "lt":this.fnCreateArcPath(j,n,aglRight,Math.PI/2);break;case "lb":this.fnCreateArcPath(j,n,aglTop,Math.PI/2);break;case "rb":this.fnCreateArcPath(j,n,l,Math.PI/2);break;case "rt":this.fnCreateArcPath(j,n,aglBottom,Math.PI/2);break;
case "v":this.fnCreateStrightPath(this.tileDir,m,this.size.x);break;case "h":this.fnCreateStrightPath(this.tileDir,m,this.size.x);break;case "l":this.fnCreateStrightPath(this.tileDir,m-q,this.size.x-r);"goal"==this.tileType&&this.fnChangeDirType("ccw");break;case "r":this.fnCreateStrightPath(this.tileDir,m-q,this.size.x-r);"start"==this.tileType&&this.fnChangeDirType("ccw");break;case "t":this.fnCreateStrightPath(this.tileDir,m-q,this.size.y-r);"goal"==this.tileType&&this.fnChangeDirType("ccw");break;
case "b":this.fnCreateStrightPath(this.tileDir,m-q,this.size.y-r),"start"==this.tileType&&this.fnChangeDirType("ccw")}this.fnSetBall()}},fnGetPivot:function(){var j=this.fnGetSetting("stepStrightSizeMin"),l=this.fnGetCenter(),m=this.fnGetBottomRight(),n={x:0,y:0};switch(this.tileDir){case "lt":n={x:this.pos.x,y:this.pos.y};break;case "lb":n={x:this.pos.x,y:m.y};break;case "rt":n={x:m.x,y:this.pos.y};break;case "rb":n={x:m.x,y:m.y};break;case "v":n={x:l.x,y:this.pos.y};break;case "t":n={x:l.x,y:this.pos.y+
j};break;case "b":n={x:l.x,y:this.pos.y};break;case "h":n={x:this.pos.x,y:l.y};break;case "l":n={x:this.pos.x+j,y:l.y};break;case "r":n={x:this.pos.x,y:l.y}}return n},fnCreateStrightPath:function(j,l,m){if("v"==j||"t"==j||"b"==j)for(j=0;j<=l;j++)this.path.push({x:0,y:j/l*m});else if("h"==j||"l"==j||"r"==j)for(j=0;j<=l;j++)this.path.push({x:j/l*m,y:0})},fnCreateArcPath:function(j,l,m,n){for(var q=0,r=0;r<l;r++)if(q=2*Math.PI*r/l,this.path.push({x:j*Math.cos(m+q),y:j*Math.sin(m+q)}),Math.abs(2*Math.PI*
(r+1)/l)>n){this.path.push({x:j*Math.cos(m+n),y:j*Math.sin(m+n)});break}},clicked:function(){this.parent();"wood"!=this.tileType&&"wood-empty"!=this.tileType||(this.prePointerPos=this.fnGetPointer().fnGetCenter(),this.prePointerPos={x:this.prePointerPos.x,y:this.prePointerPos.y},this.beginDrag=!0)},over:function(){this.cursor="wood"==this.tileType||"wood-empty"==this.tileType?"pointer":"inherit";this.parent()},fnTestCheckTileStep:function(j){var l,m;switch(j){case "top":l="y";m=-1;break;case "bottom":l=
"y";m=1;break;case "left":l="x";m=-1;break;case "right":l="x",m=1}return{id:this.tileId,tileDir:l,step:m}},fnDetectTileMove:function(){if(this.pointerHold&&!this.bMoveAnimate&&this.beginDrag){var j=this.fnPredictDragIntent();if(j&&!(0==this.fnGetController().level&&this.fnGetController().tutorial&&("top"!=j||"c"!=this.tileId))){0==this.fnGetController().level&&this.fnGetController().tutorial&&(this.fnGetController().tutorialService.fnSet(),this.fnGetController().tutorial.kill());var l="top"==j?{x:this.gridAx.x,
y:this.gridAx.y-1}:"bottom"==j?{x:this.gridAx.x,y:this.gridAx.y+1}:"left"==j?{x:this.gridAx.x-1,y:this.gridAx.y}:{x:this.gridAx.x+1,y:this.gridAx.y};if((l=this.board.fnGetGrid(l.x,l.y))&&l.bEmpty)this.fnGetPointer().fnLetGo(),this.beginDrag=!1,this.board.fnHideHintTiles(),this.board.fnMoveTile(this.tileId,j,!0),ig.game.namedEntities.HintspinGame&&this.fnGetController().stepHistory.length>this.fnGetSetting("maxMoves")[this.fnGetController().level]&&(ig.game.namedEntities.HintspinGame.addHint=!1,ig.game.namedEntities.HintspinGame.kill())}}},
fnAnimateBall:function(){if(this.animateBall&&this.ball&&"BallGame"==this.ball.name)if(this.animateBallIndex>this.path.length-1&&"goal"==this.tileType){var j=this.fnGetPivot();this.ball.fnSetCenter("both",{x:j.x+this.path[this.path.length-1].x,y:j.y+this.path[this.path.length-1].y});this.fnStopAnimateBall();this.showEndGameTimer=new ig.Timer(this.fnGetSetting("endGameDelay"))}else this.animateBallIndex>=this.path.length-1&&"goal"!=this.tileType?(this.board.fnFindNextTile(this).fnTriggerAnimateBall(this.ball),
this.fnStopAnimateBall()):(j=this.fnGetPivot(),this.ball.fnSetCenter("both",{x:j.x+this.path[this.animateBallIndex].x,y:j.y+this.path[this.animateBallIndex].y}),this.animateBallIndex+=this.ballSpeed)},update:function(){this.parent();this.fnGetState().isPaused||(this.fnSetStarPos(),this.fnSetHintspin(),this.fnDetectTileMove(),this.fnAnimateBall(),this.showEndGameTimer&&0<this.showEndGameTimer.delta()&&(this.showEndGameTimer=!1,this.fnGetController().fnShowEndGameDialog()))},fnAnimateMove:function(j){j=
this.fnGetPosByCenter(j);this.bMoveAnimate=!0;this.zIndex++;ig.game.sortEntitiesDeferred();this.tween({pos:{x:j.x,y:j.y}},0.1,{easing:ig.Tween.Easing.Back.EaseOut,onComplete:function(){this.bMoveAnimate=!1;this.zIndex--;ig.game.sortEntitiesDeferred();this.fnGetController().board.fnTriggerCompletedTiles();ig.soundHandler.sfxPlayer.play("tile")}.bind(this)}).start()},fnPredictDragIntent:function(){var j=this.fnGetPointer().fnGetCenter();if(this.fnGetHelper().fnGetDistance(this.prePointerPos,{x:j.x,
y:j.y})>this.iDragDiffIntent){var l=j.x-this.prePointerPos.x,j=j.y-this.prePointerPos.y,m=Math.abs(l)>Math.abs(j)?"x":"y";return"x"==m&&0<l?"right":"x"==m&&0>l?"left":"y"==m&&0<j?"bottom":"top"}return!1},fnTriggerAnimateBall:function(j){j&&"BallGame"==j.name&&(this.animateBall=!0,this.ball=j,j=this.fnGetPivot(),this.ball.fnSetCenter("both",{x:j.x+this.path[this.animateBallIndex].x,y:j.y+this.path[this.animateBallIndex].y}),this.animateBallIndex++)},fnStopAnimateBall:function(){"goal"==this.tileType&&
(ig.soundHandler.sfxPlayer.soundList.ballroll.stop(),ig.soundHandler.sfxPlayer.play("tile"));this.animateBall=!1;this.animateBallIndex=0;delete this.ball},fnTriggerKill:function(j){this.zIndex++;ig.game.sortEntitiesDeferred();this.tween({currentAnim:{scale:{x:0,y:0}}},0.5,{easing:ig.Tween.Easing.Back.EaseIn,delay:j,onUpdate:function(){porp="currentAnim";this.currentAnim.angle+=Math.PI/4*ig.system.tick;this.star&&(this.star.fnTriggerShrink(),this.star=!1)}.bind(this),onComplete:function(){this.triggerBallMove&&
this.board.fnTriggerBallMove();this.kill()}.bind(this)}).start()},fnPause:function(){this.pauseTweens()},fnUnpause:function(){this.resumeTweens()},starLocation:{h:{x:0,y:0},v:{x:-1,y:0},rt:{x:10,y:-18},rb:{x:10,y:12},lb:{x:-12,y:10},lt:{x:-10,y:-18}},fnUpdateHintPos:function(){this.tilehint.fnSetCenter("both",this.fnGetCenter())}})});ig.baked=!0;
ig.module("game.entities.games.tile-helper").requires("game.app.entity").defines(function(){EntityTileHelper=Entity.extend({name:"TileHelper",size:{x:98,y:98},animSheet:new ig.AnimationSheet("media/graphics/sprites/tiles.png",98,98),type:ig.Entity.TYPE.B,init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").tile,this.fnSetCenter("both",ig.system.width/2,ig.system.height/2),this.fnSetAnim(),ig.game.sortEntitiesDeferred())},fnSetAnim:function(){if("wood"==this.tileType)switch(this.tileDir){case "h":this.addAnim("default",
0.1,[15]);break;case "v":this.addAnim("default",0.1,[14]);break;case "rt":this.addAnim("default",0.1,[16]);break;case "lt":this.addAnim("default",0.1,[17]);break;case "lb":this.addAnim("default",0.1,[18]);break;case "rb":this.addAnim("default",0.1,[19])}else if("wood-empty"==this.tileType)this.addAnim("default",0.1,[20]);else if("start"==this.tileType)switch(this.tileDir){case "t":this.addAnim("default",0.1,[4]);break;case "b":this.addAnim("default",0.1,[5]);break;case "r":this.addAnim("default",
0.1,[6]);break;case "l":this.addAnim("default",0.1,[7])}else if("metal"==this.tileType)switch(this.tileDir){case "h":this.addAnim("default",0.1,[9]);break;case "v":this.addAnim("default",0.1,[8]);break;case "rt":this.addAnim("default",0.1,[11]);break;case "lt":this.addAnim("default",0.1,[10]);break;case "lb":this.addAnim("default",0.1,[12]);break;case "rb":this.addAnim("default",0.1,[13])}else if("goal"==this.tileType)switch(this.tileDir){case "t":this.addAnim("default",0.1,[0]);break;case "b":this.addAnim("default",
0.1,[1]);break;case "r":this.addAnim("default",0.1,[2]);break;case "l":this.addAnim("default",0.1,[3])}},update:function(){this.pointerHold&&(this.fnSetCenter("both",this.fnGetPointer().fnGetCenter()),console.log(this.fnGetCenter()))}})});ig.baked=!0;
ig.module("game.entities.games.ball-game").requires("game.app.entity").defines(function(){EntityBallGame=Entity.extend({name:"BallGame",size:{x:32,y:32},animSheet:new ig.AnimationSheet("media/graphics/games/ball.png",32,32),checkAgainst:ig.Entity.TYPE.A,star:0,arPath:[],init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").ball,ig.game.sortEntitiesDeferred())},check:function(j){this.parent();"StarpickGame"==
j.name&&!j.shrinking&&(j.fnTriggerShrink(),this.fnGetController().currentScore++,this.fnGetController().currentScore>this.fnGetController().score.fnGet(this.fnGetController().level)&&this.fnGetController().fnAddScore());"HintspinGame"==j.name&&!j.shrinking&&j.fnTriggerShrink()}})});ig.baked=!0;
ig.module("game.entities.games.starpick-game").requires("game.app.entity").defines(function(){EntityStarpickGame=Entity.extend({name:"StarpickGame",size:{x:41,y:39},animSheet:new ig.AnimationSheet("media/graphics/sprites/star-pick.png",41,39),type:ig.Entity.TYPE.A,shrinking:!1,disablePointer:!0,pausedFrame:0,init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0,1,2,3,4,5]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").starpick,ig.game.sortEntitiesDeferred())},
fnTriggerShrink:function(){switch(this.fnGetController().currentScore){case 0:ig.soundHandler.sfxPlayer.play("ding1");break;case 1:ig.soundHandler.sfxPlayer.play("ding2");break;case 2:ig.soundHandler.sfxPlayer.play("ding3")}this.shrinking=!0;this.tween({currentAnim:{alpha:0},pos:{y:this.pos.y-40}},0.5,{easing:ig.Tween.Easing.Sinusoidal.EaseInOut,onComplete:function(){this.kill()}.bind(this)}).start()},update:function(){this.fnGetState("isPaused")||this.parent()},fnPause:function(){this.pauseTweens();
this.pausedFrame=this.currentAnim.frame},fnUnpause:function(){this.resumeTweens();this.currentAnim.gotoFrame(this.pausedFrame)}})});ig.baked=!0;
ig.module("game.entities.games.hintspin-game").requires("game.app.entity","game.services.hint").defines(function(){EntityHintspinGame=Entity.extend({name:"HintspinGame",size:{x:32,y:32},animSheet:new ig.AnimationSheet("media/graphics/sprites/hint-spin.png",32,32),type:ig.Entity.TYPE.A,shrinking:!1,disablePointer:!0,pausedFrame:0,addHint:!0,hintService:new HintService,init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0,1,2,3,4,5,6,7,8,9]);this.currentAnim=this.anims.idle;ig.global.wm||
(this.zIndex=this.fnGetSetting("enIdx").hintspin,ig.game.sortEntitiesDeferred())},fnTriggerShrink:function(){ig.soundHandler.sfxPlayer.play("hint");this.shrinking=!0;this.tween({currentAnim:{alpha:0.5},pos:{x:305,y:580}},0.5,{easing:ig.Tween.Easing.Sinusoidal.EaseInOut,onComplete:function(){this.kill()}.bind(this)}).start()},update:function(){this.fnGetState("isPaused")||this.parent()},fnPause:function(){this.pauseTweens();this.pausedFrame=this.currentAnim.frame},fnUnpause:function(){this.resumeTweens();
this.currentAnim.gotoFrame(this.pausedFrame)},kill:function(){this.addHint&&!this.hintService.fnGetHints()[this.fnGetController().level]&&(ig.game.namedEntities.UiframeBottomGame.fnAddHint(),this.hintService.fnSetHints(this.fnGetController().level));this.parent()}})});ig.baked=!0;
ig.module("game.entities.games.uiframe-bottom-game").requires("game.app.entity","game.services.hint").defines(function(){EntityUiframeBottomGame=Entity.extend({name:"UiframeBottomGame",size:{x:480,y:96},animSheet:new ig.AnimationSheet("media/graphics/games/ui-frame-bottom.png",480,96),hintService:new HintService,hintRemaining:0,init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(this.fnUpdateHintRemaining(),this.zIndex=this.fnGetSetting("enIdx").uiFrameBottom,
this.fnInitButtons(),ig.game.sortEntitiesDeferred())},fnAddHint:function(){this.hintService.fnAdd();this.fnUpdateHintRemaining()},fnReduceHint:function(){this.hintService.fnReduce();this.fnUpdateHintRemaining()},fnUpdateHintRemaining:function(){this.hintRemaining=this.hintService.fnGet()},fnInitButtons:function(){var j=this.fnGetCenter();this.backBtn=this.fnSpawn(EntityUibuttonBack,0,0,{frame:this}).fnSetCenter("both",{x:j.x,y:j.y},{x:-160,y:0});this.resetBtn=this.fnSpawn(EntityUibuttonReset,0,0,
{frame:this}).fnSetCenter("both",{x:j.x,y:j.y},{x:-80,y:0});this.undoBtn=this.fnSpawn(EntityUibuttonUndo,0,0,{frame:this}).fnSetCenter("both",{x:j.x,y:j.y},{x:0,y:0});this.hintBtn=this.fnSpawn(EntityUibuttonHint,0,0,{frame:this}).fnSetCenter("both",{x:j.x,y:j.y},{x:80,y:0});this.fastBtn=this.fnSpawn(EntityUibuttonFast,0,0,{frame:this}).fnSetCenter("both",{x:j.x,y:j.y},{x:160,y:0})},fnActivateUndo:function(){this.undoBtn.fnActivate()},fnDeactivateUndo:function(){this.undoBtn.fnDeactivate()},fnActivateFastButton:function(){this.fastBtn.fnActivate()},
fnDisableButtonOnCompletedPath:function(){this.backBtn.fnDisabled();this.resetBtn.fnDisabled();this.hintBtn.fnDisabled();this.undoBtn.fnDeactivate()},draw:function(){this.parent();var j=this.fnGetCenter();this.fnCtxWrite(_STRINGS.Game.back,"sketch-block",14,this.fnGetSetting("color").captionLeather,"center",j.x-160,j.y+40);this.fnCtxWrite(_STRINGS.Game.restart,"sketch-block",14,this.fnGetSetting("color").captionLeather,"center",j.x-80,j.y+40);this.fnCtxWrite(_STRINGS.Game.undo,"sketch-block",14,this.fnGetSetting("color").captionLeather,
"center",j.x,j.y+40);this.fnCtxWrite(_STRINGS.Game.hints+":"+this.hintRemaining+"","sketch-block",14,this.fnGetSetting("color").captionLeather,"center",j.x+80,j.y+40);this.fnCtxWrite(_STRINGS.Game.faster,"sketch-block",14,this.fnGetSetting("color").captionLeather,"center",j.x+160,j.y+40)}});EntityUibuttonBack=Entity.extend({name:"UibuttonBack",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",52,51),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,
l,m);this.addAnim("idle",0.1,[21]);this.addAnim("hover",0.1,[20]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").uiButtonBottom,ig.game.sortEntitiesDeferred())},clicked:function(){this.disabled||(this.levelSplasher=this.fnSpawn(EntityLevelSplasher,0,0,{alpha:0,onFinish:function(){ig.game.director.loadLevel(1)},killOnfinish:!1}).fnAnimateOut(),ig.soundHandler.sfxPlayer.play("button"))},over:function(){this.disabled?this.cursor="inherit":this.currentAnim=this.anims.hover},
leave:function(){this.currentAnim=this.anims.idle},fnDisabled:function(){this.disabled=!0}});EntityUibuttonReset=Entity.extend({name:"UibuttonReset",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",52,51),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[19]);this.addAnim("hover",0.1,[18]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").uiButtonBottom,ig.game.sortEntitiesDeferred())},
clicked:function(){this.disabled||(this.fnGetController().fnReloadLevel(),ig.soundHandler.sfxPlayer.play("button"))},over:function(){this.disabled?this.cursor="inherit":this.currentAnim=this.anims.hover},leave:function(){this.currentAnim=this.anims.idle},fnDisabled:function(){this.disabled=!0}});EntityUibuttonUndo=Entity.extend({name:"UibuttonUndo",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",52,51),type:ig.Entity.TYPE.A,disabled:!0,cursor:"pointer",init:function(j,
l,m){this.parent(j,l,m);this.addAnim("disabled",0.1,[15]);this.addAnim("idle",0.1,[17]);this.addAnim("hover",0.1,[16]);this.currentAnim=this.anims.disabled;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").uiButtonBottom,ig.game.sortEntitiesDeferred())},clicked:function(){this.parent();this.disabled||(this.fnGetController().fnUndo(),ig.soundHandler.sfxPlayer.play("button"))},over:function(){this.disabled?this.cursor="inherit":this.currentAnim=this.anims.hover},leave:function(){this.currentAnim=
!this.disabled?this.anims.idle:this.anims.disabled;this.cursor="pointer"},fnActivate:function(){this.disabled=!1;this.currentAnim=this.anims.idle},fnDeactivate:function(){this.disabled=!0;this.currentAnim=this.anims.disabled}});EntityUibuttonHint=Entity.extend({name:"UibuttonHint",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",52,51),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[14]);this.addAnim("hover",
0.1,[13]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").uiButtonBottom,ig.game.sortEntitiesDeferred())},over:function(){0<this.frame.hintRemaining&&!this.disabled?(this.currentAnim=this.anims.hover,this.cursor="pointer"):this.cursor="inherit"},leave:function(){this.currentAnim=this.anims.idle},clicked:function(){0<this.frame.hintRemaining&&!this.disabled&&(this.fnGetController().board.fnShowHintTiles(),this.frame.fnReduceHint(),ig.soundHandler.sfxPlayer.play("hint"))},
fnDisabled:function(){this.disabled=!0}});EntityUibuttonFast=Entity.extend({name:"UibuttonFast",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",52,51),type:ig.Entity.TYPE.A,disabled:!0,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("disabled",0.1,[10]);this.addAnim("idle",0.1,[12]);this.addAnim("hover",0.1,[11]);this.currentAnim=this.anims.disabled;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").uiButtonBottom,ig.game.sortEntitiesDeferred())},
clicked:function(){this.parent();this.disabled||(this.fnGetController().fnFast(),this.disabled=!0,this.currentAnim=this.anims.disabled,this.cursor="inherit",ig.soundHandler.sfxPlayer.play("button"))},over:function(){this.disabled?this.cursor="inherit":this.currentAnim=this.anims.hover},leave:function(){this.currentAnim=!this.disabled?this.anims.idle:this.anims.disabled;this.cursor="pointer"},fnActivate:function(){this.disabled=!1;this.currentAnim=this.anims.idle}})});ig.baked=!0;
ig.module("game.services.level").requires("game.app.service").defines(function(){LevelService=Service.extend({level:0,unlockedLevel:0,fnSaveLevel:function(j){this._set("level",j);this.level=j;return this},fnLoadLevel:function(){this.level=this._get("level")||0;return this},fnGetLevel:function(){return this.level},fnSaveUnlockedLevel:function(j){this._set("unlockedLevel",j)},fnGetUnlockedLevel:function(){return this._get("unlockedLevel")||0}})});ig.baked=!0;
ig.module("game.entities.games.uiframe-top-game").requires("game.services.level","game.app.entity").defines(function(){EntityUiframeTopGame=Entity.extend({name:"UiframeTopGame",size:{x:480,y:144},animSheet:new ig.AnimationSheet("media/graphics/games/ui-frame-top.png",480,144),levelService:new LevelService,fMovesFontSizeBase:14,fMovesFontSizeBig:18,fMovesFontSize:14,rgbMoves:{},rgbMovesBase:{},init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||
(this.rgbMovesBase=ig.copy(this.fnGetSetting("color").rgbMovesBase),this.rgbMoves=ig.copy(this.rgbMovesBase),this.zIndex=this.fnGetSetting("enIdx").uiFrameTop,this.fnInitButton(),this.levelService.fnLoadLevel(),ig.game.sortEntitiesDeferred())},fnInitButton:function(){this.pauseBtn=this.fnSpawn(EntityUibuttonPause,380,15);this.optionBtn=this.fnSpawn(EntityUibuttonOption,380,70)},fnAnimateFontMoves:function(){var j=this.tween({fMovesFontSize:this.fMovesFontSizeBig,rgbMoves:{r:this.fnGetSetting("color").rgbMovesAnimate.r,
g:this.fnGetSetting("color").rgbMovesAnimate.g,b:this.fnGetSetting("color").rgbMovesAnimate.b}},0.1,{easing:ig.Tween.Easing.Sinusoidal.EaseIn}),l=this.tween({fMovesFontSize:this.fMovesFontSizeBase,rgbMoves:{r:this.rgbMovesBase.r,g:this.rgbMovesBase.g,b:this.rgbMovesBase.b}},0.1,{easing:ig.Tween.Easing.Sinusoidal.EaseOut});j.chain(l);j.start()},draw:function(){this.parent();var j=this.fnGetCenter();this.fnCtxWrite("Level "+(this.levelService.fnGetLevel()+1),"sketch-block",15,this.fnGetSetting("color").captionBoard,
"center",j.x,j.y-50);this.fnCtxWrite(_STRINGS.Game.moves,"sketch-block",13,this.fnGetSetting("color").captionLeather,"center",j.x-166,j.y-35);var l;l="rgba(R,G,B,1)".replace("R",this.rgbMoves.r.round());l=l.replace("G",this.rgbMoves.g.round());l=l.replace("B",this.rgbMoves.b.round());this.fnCtxWrite(this.fnGetController().stepHistory.length,"sketch-block",this.fMovesFontSize,l,"center",j.x-166,j.y-10);this.fnCtxWrite(_STRINGS.Game.best,"sketch-block",14,this.fnGetSetting("color").captionLeather,"center",
j.x-166,j.y+15);this.fnCtxWrite(this.fnGetController().bestPath.fnGet(this.fnGetController().level)||"-","sketch-block",this.fMovesFontSizeBase,this.fnGetSetting("color").value,"center",j.x-166,j.y+35)}});EntityUibuttonPause=Entity.extend({name:"UibuttonBack",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",52,51),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[3]);this.addAnim("hover",0.1,[2]);this.currentAnim=
this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").uiButtonTop,ig.game.sortEntitiesDeferred())},clicked:function(){this.parent();this.fnGetState("isPaused")||(ig.game.fnPause(),this.fnGetController().fnShowPauseDialog(),this.currentAnim=this.anims.idle,ig.soundHandler.sfxPlayer.play("button"))},over:function(){this.currentAnim=this.anims.hover},leave:function(){this.currentAnim=this.anims.idle}});EntityUibuttonOption=Entity.extend({name:"UibuttonOption",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",
52,51),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[1]);this.addAnim("hover",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").uiButtonTop,ig.game.sortEntitiesDeferred())},clicked:function(){this.parent();ig.game.fnPause();this.fnGetController().fnShowOptionDialog();this.currentAnim=this.anims.idle;ig.soundHandler.sfxPlayer.play("button")},over:function(){this.currentAnim=this.anims.hover},leave:function(){this.currentAnim=
this.anims.idle}})});ig.baked=!0;
ig.module("game.entities.games.paused-game").requires("game.app.entity").defines(function(){EntityPausedGame=Entity.extend({name:"PausedGame",size:{x:460,y:840},type:ig.Entity.TYPE.A,opacity:0,init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(this.fnGetCenter(),this.frame=this.fnSpawn(EntityPausedgameFrame,0,0,{overlay:this}),this.frame.fnShow(),this.zIndex=this.fnGetSetting("enIdx").paused,ig.game.sortEntitiesDeferred())},draw:function(){this.parent();ig.system.context.beginPath();ig.system.context.rect(0,
0,480,640);ig.system.context.fillStyle="rgba(0,0,0,"+this.opacity+")";ig.system.context.fill();ig.system.context.restore}});EntityPausedgameFrame=Entity.extend({name:"PausedgameFrame",size:{x:299,y:105},animSheet:new ig.AnimationSheet("media/graphics/games/paused-frame.png",299,105),init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(j=this.overlay.fnGetCenter(),this.fnSetCenter("both",{x:j.x,y:-500}),this.hidePos={x:j.x,y:-500},this.showPos=
{x:j.x,y:250},this.resumeBtn=this.fnSpawn(EntityResumeBtn,0,0,{dialog:this}),this.fnSetResumeBtnPos(),this.zIndex=this.fnGetSetting("enIdx").paused+1,ig.game.sortEntitiesDeferred())},fnSetResumeBtnPos:function(){var j=this.fnGetCenter();this.resumeBtn.fnSetCenter("both",j,{y:15})},fnShow:function(){this.tween({pos:{y:this.showPos.y}},0.25,{easing:ig.Tween.Easing.Exponential.EaseOut,onUpdate:function(j,l,m,n,q){this.overlay.opacity=this.fnGetSetting("pauseOverlayDarkness")*q}.bind(this)}).start()},
fnHideKill:function(){this.tween({pos:{y:this.hidePos.y}},0.25,{easing:ig.Tween.Easing.Exponential.EaseIn,onUpdate:function(j,l,m,n,q){this.overlay.opacity-=this.fnGetSetting("pauseOverlayDarkness")*q}.bind(this),onComplete:function(){this.kill()}.bind(this)}).start()},update:function(){this.parent();this.fnSetResumeBtnPos()},kill:function(){this.overlay.kill();this.resumeBtn.kill();this.parent()},draw:function(){this.parent();var j=this.fnGetCenter();this.fnCtxWrite(_STRINGS.Game.paused,"sketch-block",
16,"black","center",j.x,j.y-30)}});EntityResumeBtn=Entity.extend({name:"ResumeBtn",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",52,51),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[7]);this.addAnim("hover",0.1,[6]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").paused+2,ig.game.sortEntitiesDeferred())},released:function(){this.parent();ig.game.fnUnpause();
ig.soundHandler.sfxPlayer.play("button");this.dialog.fnHideKill()},over:function(){this.parent();this.currentAnim=this.anims.hover},leave:function(){this.parent();this.currentAnim=this.anims.idle}})});ig.baked=!0;
ig.module("game.services.sound").requires("game.app.service").defines(function(){SoundService=Service.extend({fnSetSfx:function(j){this._set("sfx",j)},fnSetBgm:function(j){this._set("bgm",j)},fnGetSfx:function(){var j=this._get("sfx");if(void 0==j||!1===j)j=1,this.fnSetSfx(j);return j},fnGetBgm:function(){var j=this._get("bgm");if(void 0==j||!1===j)j=0.5,this.fnSetBgm(j);return j}})});ig.baked=!0;
ig.module("game.entities.games.option-game").requires("game.services.sound","game.app.entity").defines(function(){EntityOptionGame=Entity.extend({name:"OptionGame",size:{x:480,y:640},type:ig.Entity.TYPE.A,opacity:0,init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(this.frame=this.fnSpawn(EntityOptionFrame,0,0,{overlay:this}),this.frame.fnShow(),this.zIndex=this.fnGetSetting("enIdx").option,ig.game.sortEntitiesDeferred())},draw:function(){this.parent();ig.system.context.beginPath();ig.system.context.rect(0,
0,480,640);ig.system.context.fillStyle="rgba(0,0,0,"+this.opacity+")";ig.system.context.fill();ig.system.context.restore}});EntityOptionFrame=Entity.extend({name:"OptionFrame",size:{x:309,y:297},animSheet:new ig.AnimationSheet("media/graphics/games/sound-frame.png",309,297),soundBar:new ig.Image("media/graphics/games/sound-bar.png"),service:new SoundService,soundValue:0,musicValue:0,init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||
(j=this.overlay.fnGetCenter(),this.fnSetCenter("both",{x:j.x,y:-500}),this.hidePos={x:j.x,y:-500},this.showPos={x:j.x,y:150},this.okBtn=this.fnSpawn(EntityOptionokGame,0,0,{dialog:this}),this.fnUpdateOkBtnPos(j),this.closeBtn=this.fnSpawn(EntityClosedialogGame,0,0,{dialog:this}),this.fnUpdateCloseBtnPos(j),l=this.soundBar.width/2,this.soundValue=this.service.fnGetSfx(),this.musicValue=this.service.fnGetBgm(),this.oKnobs={sound:this.fnSpawn(EntitySoundknobGame,0,0,{dialog:this,knobType:"sfx",centerX:287,
diffCenter:l,value:this.soundValue}),music:this.fnSpawn(EntitySoundknobGame,0,0,{dialog:this,knobType:"bgm",centerX:287,diffCenter:l,value:this.musicValue})},this.fnUpdateSliderPos(j,!0),this.zIndex=this.fnGetSetting("enIdx").option+1,ig.game.sortEntitiesDeferred())},fnShow:function(){this.tween({pos:{y:this.showPos.y}},this.fnGetSetting("dialogShowSpeed"),{easing:ig.Tween.Easing.Exponential.EaseOut,onUpdate:function(j,l,m,n,q){this.overlay.opacity=this.fnGetSetting("optionOverlayDarkness")*q}.bind(this)}).start()},
fnHideKill:function(){ig.game.states.isPaused&&ig.game.fnUnpause();this.tween({pos:{y:this.hidePos.y}},0.25,{easing:ig.Tween.Easing.Exponential.EaseIn,onUpdate:function(j,l,m,n,q){this.overlay.opacity-=this.fnGetSetting("pauseOverlayDarkness")*q}.bind(this),onComplete:function(){"MainmenuCtrl"==this.fnGetController().name&&0<ig.game.getEntitiesByType(EntityButtonMoreGames).length&&ig.game.getEntitiesByType(EntityButtonMoreGames)[0].show();this.kill()}.bind(this)}).start()},fnUpdateOkBtnPos:function(j){this.okBtn.fnSetCenter("both",
j,{y:100})},fnUpdateCloseBtnPos:function(j){this.closeBtn.fnSetCenter("both",j,{x:148,y:-122})},fnUpdateSliderPos:function(j){this.oKnobs.sound.fnSetCenter("y",j.y-54);this.oKnobs.music.fnSetCenter("y",j.y+16)},fnSaveSfxBgmValue:function(){this.service.fnSetSfx(this.soundValue);this.service.fnSetBgm(this.musicValue)},update:function(){this.parent();var j=this.fnGetCenter();this.fnUpdateOkBtnPos(j);this.fnUpdateCloseBtnPos(j);this.fnUpdateSliderPos(j)},kill:function(){this.overlay.kill();this.okBtn.kill();
this.closeBtn.kill();this.oKnobs.sound.kill();this.oKnobs.music.kill();this.parent()},draw:function(){this.parent();var j=this.fnGetCenter();this.fnCtxWrite(_STRINGS.Game.options,"sketch-block",16,this.fnGetSetting("color").captionBoard,"center",j.x,j.y-120);this.fnCtxWrite(_STRINGS.Game.sound,"sketch-block",16,this.fnGetSetting("color").captionLeather,"right",j.x-50,j.y-50);this.fnCtxWrite(_STRINGS.Game.music,"sketch-block",16,this.fnGetSetting("color").captionLeather,"right",j.x-50,j.y+20);this.soundBar.draw(j.x-
25,j.y+7);this.soundBar.draw(j.x-25,j.y-63)}});EntityOptionokGame=Entity.extend({name:"OptionokGame",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",52,51),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[5]);this.addAnim("hover",0.1,[4]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").option+2,ig.game.sortEntitiesDeferred())},clicked:function(){this.parent();this.dialog.fnSaveSfxBgmValue();
ig.soundHandler.sfxPlayer.play("button");this.dialog.fnHideKill()},over:function(){this.parent();this.currentAnim=this.anims.hover},leave:function(){this.parent();this.currentAnim=this.anims.idle}});EntityClosedialogGame=Entity.extend({name:"ClosedialogGame",size:{x:40,y:39},animSheet:new ig.AnimationSheet("media/graphics/sprites/close-dialog.png",40,39),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[1]);this.addAnim("hover",0.1,[0]);this.currentAnim=
this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").option+3,ig.game.sortEntitiesDeferred())},clicked:function(){this.parent();ig.soundHandler.sfxPlayer.volume(this.dialog.service.fnGetSfx());ig.soundHandler.bgmPlayer.volume(this.dialog.service.fnGetBgm());ig.soundHandler.sfxPlayer.play("button");this.dialog.fnHideKill()},over:function(){this.parent();this.currentAnim=this.anims.hover},leave:function(){this.parent();this.currentAnim=this.anims.idle}});EntitySoundknobGame=Entity.extend({name:"SoundknobGame",
size:{x:41,y:41},animSheet:new ig.AnimationSheet("media/graphics/games/sound-knob.png",41,41),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(this.fnSetPosXByValue(),this.zIndex=this.fnGetSetting("enIdx").option+3,ig.game.sortEntitiesDeferred())},fnCalculatePosXByValue:function(){return{min:this.centerX-this.diffCenter,delta:2*this.diffCenter*this.value}},fnCalculateValueByPos:function(){var j=
this.centerX-this.diffCenter,l=2*this.diffCenter,j=this.fnGetCenter().x-j,l=this.fnGetHelper().fnR2D(j/l);"sfx"==this.knobType?this.dialog.soundValue=l:this.dialog.musicValue=l;return l},fnSetPosXByValue:function(){var j=this.fnCalculatePosXByValue();this.fnSetCenter("x",j.min+j.delta)},fnDrawBarColor:function(){var j=this.fnCalculatePosXByValue(),l=j.min+2,m=this.fnGetCenter().y-6,n=this.fnGetSetting("color").soundLevel;n[n.changed]=(255*this.value).round();ig.system.context.shadowColor="rgba("+
n.r+","+n.g+","+n.b+",1)";ig.system.context.shadowBlur=10;ig.system.context.fillStyle="rgba("+n.r+","+n.g+","+n.b+",1)";this.fnGetHelper().fnRoundRect(ig.system.context,l,m,j.delta,10,5,!0,!1);ig.system.context.shadowColor="rgba(0,0,0,0)";ig.system.context.shadowBlur=0;ig.system.context.restore()},fnSetSoundhandlerSfxVolume:function(){},draw:function(){this.fnDrawBarColor();this.parent()},released:function(){this.parent();"sfx"==this.knobType&&ig.soundHandler.sfxPlayer.play("button")},update:function(){this.parent();
if(this.pointerHold){var j=this.fnGetPointer().fnGetCenter();j.x<this.centerX-this.diffCenter?this.fnSetCenter("x",this.centerX-this.diffCenter):j.x>this.centerX+this.diffCenter?this.fnSetCenter("x",this.centerX+this.diffCenter):this.fnSetCenter("x",j.x)}this.value=this.fnCalculateValueByPos();this.pointerHold&&"bgm"==this.knobType?ig.soundHandler.bgmPlayer.volume(this.value):this.pointerHold&&"sfx"==this.knobType&&ig.soundHandler.sfxPlayer.volume(this.value)}})});ig.baked=!0;
ig.module("game.entities.games.starstatusuitop-game").requires("game.app.entity").defines(function(){EntityStarstatusuitopGame=Entity.extend({name:"StarstatusuitopGame",score:!1,arElement:[],init:function(j,l,m){this.parent(j,l,m);if(!ig.global.wm){for(j=0;j<this.score;j++)this.fnActivateStar(j,this.fnGetSetting("starTopUiDelay")*j);this.zIndex=this.fnGetSetting("enIdx").starstatusUiTop;ig.game.sortEntitiesDeferred()}},fnActivateStar:function(j,l){var m;m=0==j?{x:167,y:96}:1==j?{x:239,y:86}:{x:311,
y:96};this.arElement.push(this.fnSpawn(EntityStarstatusuitopElement,m.x,m.y,{index:j,delay:l}))},fnAddScore:function(){2<this.arElement.length||(this.score++,this.fnActivateStar(this.arElement.length,0))}});EntityStarstatusuitopElement=Entity.extend({name:"StarstatusuitopElement",animSheet:new ig.AnimationSheet("media/graphics/sprites/star-uitop.png",75,71),size:{x:75,y:71},init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(this.index%2?this.addAnim("idle",0.1,[0]):this.addAnim("idle",0.1,[1]),
this.currentAnim=this.anims.idle,this.fnSetCenter("both",this.pos),this.currentAnim.scale={x:0,y:0},this.fnTriggerEntrance(this.delay),this.zIndex=this.fnGetSetting("enIdx").starstatusUiTop+1,ig.game.sortEntitiesDeferred())},fnTriggerEntrance:function(j){this.tween({currentAnim:{scale:{x:1,y:1}}},0.3,{easing:ig.Tween.Easing.Sinusoidal.EaseOut,delay:j,onUpdate:function(j,m,n,q,r){this.currentAnim.angle=2*Math.PI*r}.bind(this),onComplete:function(){}.bind(this)}).start()}})});ig.baked=!0;
ig.module("game.entities.games.enddialog-game").requires("game.app.entity","game.services.level").defines(function(){EntityEnddialogGame=Entity.extend({name:"EnddialogGame",size:{x:480,y:640},type:ig.Entity.TYPE.A,opacity:0,init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(j=this.fnGetCenter(),this.anchor=this.fnSpawn(EntityStarendAnchor,j.x,-500,{overlay:this}),this.anchor.fnShow(),this.zIndex=this.fnGetSetting("enIdx").starendgame,ig.game.sortEntitiesDeferred(),ig.soundHandler.sfxPlayer.play("enddialog"))},
draw:function(){this.parent();ig.system.context.beginPath();ig.system.context.rect(0,0,480,640);ig.system.context.fillStyle="rgba(0,0,0,"+this.opacity+")";ig.system.context.fill();ig.system.context.restore},kill:function(){this.anchor.kill();this.parent()}});EntityStarendAnchor=Entity.extend({name:"StarendAnchor",nextEvent:!1,init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(this.fnSetCenter("both",this.pos),j=this.fnGetCenter(),this.hidePosY=this.pos.y,this.showPosY=ig.system.height/2-50,this.dialog=
this.fnSpawn(EntityStarendDialog,j.x,j.y,{anchor:this}),this.fnUpdateDialogPos(),this.zIndex=this.fnGetSetting("enIdx").starendgame+1,ig.game.sortEntitiesDeferred())},fnShow:function(){this.tween({pos:{x:this.pos.x,y:this.showPosY}},this.fnGetSetting("dialogShowSpeed"),{easing:ig.Tween.Easing.Exponential.EaseOut,onUpdate:function(j,l,m,n,q){this.overlay.opacity=this.fnGetSetting("optionOverlayDarkness")*q}.bind(this),onComplete:function(){this.fnGenerateStars()}.bind(this)}).start()},fnHide:function(){this.tween({pos:{x:this.pos.x,
y:this.hidePosY}},this.fnGetSetting("dialogShowSpeed"),{easing:ig.Tween.Easing.Exponential.EaseIn,onUpdate:function(j,l,m,n,q){this.overlay.opacity-=this.fnGetSetting("pauseOverlayDarkness")*q}.bind(this),onComplete:function(){this.fnResponseOnClose()}.bind(this)}).start()},fnGenerateStars:function(){this.stars=[];for(var j=this.fnGetController().currentScore,l=0;l<=j-1;l++)relPos=0===l?{x:-56,y:-144}:1==l?{x:1,y:-156}:{x:56,y:-144},this.stars.push(this.fnSpawn(EntityStarend,0,0,{index:l,relPos:relPos,
delay:l*this.fnGetSetting("starTopUiDelay")}));this.fnUpdateStarPos();for(l=0;l<this.stars.length;l++)this.stars[l].fnTriggerEntrance()},fnUpdateStarPos:function(){if(this.stars)for(var j=this.fnGetCenter(),l=0;l<this.stars.length;l++){var m=this.stars[l];m.fnSetCenter("both",j,{x:m.relPos.x,y:m.relPos.y})}},fnUpdateDialogPos:function(){var j=this.fnGetCenter();this.dialog.fnSetCenter("both",j)},update:function(){this.parent();this.fnUpdateDialogPos();this.fnUpdateStarPos()},fnResponseOnClose:function(){this.nextEvent;
"reset"==this.nextEvent&&this.fnGetController().fnReloadLevel()},kill:function(){if(this.stars)for(var j=0;j<this.stars.length;j++)this.stars[j].kill();this.dialog.kill();this.parent()}});EntityStarendDialog=Entity.extend({name:"StarendDialog",size:{x:309,y:347},animSheet:new ig.AnimationSheet("media/graphics/games/end-game-dialog.png",309,347),init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(this.fnInitButtons(),this.fnUpdateButtonPos(),
this.zIndex=this.fnGetSetting("enIdx").starendgame+2,ig.game.sortEntitiesDeferred())},fnInitButtons:function(){this.fnGetController().level+1>this.fnGetSetting("layout").length-1?(this.levelBtn=this.fnSpawn(EntityLevelendBtn,0,0,{dialog:this}),this.retryBtn=this.fnSpawn(EntityRetryendBtn,0,0,{dialog:this})):(this.levelBtn=this.fnSpawn(EntityLevelendBtn,0,0,{dialog:this}),this.retryBtn=this.fnSpawn(EntityRetryendBtn,0,0,{dialog:this}),this.nextBtn=this.fnSpawn(EntityNextendBtn,0,0,{dialog:this}))},
fnUpdateButtonPos:function(){var j=this.fnGetCenter();this.fnGetController().level+1>this.fnGetSetting("layout").length-1?(this.fnUpdateButtonElements(this.levelBtn,j,{x:-42,y:100}),this.fnUpdateButtonElements(this.retryBtn,j,{x:42,y:100})):(this.fnUpdateButtonElements(this.levelBtn,j,{x:-85,y:100}),this.fnUpdateButtonElements(this.retryBtn,j,{x:0,y:100}),this.fnUpdateButtonElements(this.nextBtn,j,{x:85,y:100}))},fnUpdateButtonElements:function(j,l,m){j.fnSetCenter("both",{x:l.x+m.x,y:l.y+m.y})},
update:function(){this.parent();this.fnUpdateButtonPos()},draw:function(){this.parent();var j=this.fnGetCenter();this.fnCtxWrite(_STRINGS.Game.levelcomplete,"sketch-block",16,this.fnGetSetting("color").captionBoard,"center",j.x,j.y-98);this.fnCtxWrite(_STRINGS.Game.moves,"sketch-block",16,this.fnGetSetting("color").captionLeather,"right",j.x-45,j.y-25);var l=this.fnGetController().stepHistory.length;this.fnCtxWrite(l,"sketch-block",16,this.fnGetSetting("color").value,"center",j.x+38,j.y-25);this.fnCtxWrite(_STRINGS.Game.best,
"sketch-block",16,this.fnGetSetting("color").captionLeather,"right",j.x-45,j.y+43);var m=this.fnGetController().bestPath.fnGet(this.fnGetController().level)||!1;this.fnCtxWrite((!1===m?l:l<m?l:!1)||m,"sketch-block",16,this.fnGetSetting("color").value,"center",j.x+38,j.y+43)},kill:function(){this.levelBtn.kill();this.retryBtn.kill();this.nextBtn&&this.nextBtn.kill();this.parent()}});EntityLevelendBtn=Entity.extend({name:"LevelenBtn",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",
52,51),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[9]);this.addAnim("hover",0.1,[8]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").starendgame+3,ig.game.sortEntitiesDeferred())},clicked:function(){this.parent();ig.soundHandler.sfxPlayer.play("button");this.fnGetController().fnShowSelectLevelDialog()},over:function(){this.parent();this.currentAnim=this.anims.hover},leave:function(){this.parent();this.currentAnim=
this.anims.idle}});EntityRetryendBtn=Entity.extend({name:"RetryendBtn",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",52,51),type:ig.Entity.TYPE.A,cursor:"pointer",clicked:function(){this.parent();ig.soundHandler.sfxPlayer.play("button");this.dialog.anchor.nextEvent="reset";this.dialog.anchor.fnHide()},init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[19]);this.addAnim("hover",0.1,[18]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=
this.fnGetSetting("enIdx").starendgame+3,ig.game.sortEntitiesDeferred())},over:function(){this.parent();this.currentAnim=this.anims.hover},leave:function(){this.parent();this.currentAnim=this.anims.idle}});EntityNextendBtn=Entity.extend({name:"NextendBtn",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",52,51),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[7]);this.addAnim("hover",0.1,[6]);this.currentAnim=
this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").starendgame+3,ig.game.sortEntitiesDeferred())},over:function(){this.parent();this.currentAnim=this.anims.hover},leave:function(){this.parent();this.currentAnim=this.anims.idle},clicked:function(){this.parent();(new LevelService).fnSaveLevel(this.fnGetController().level+1);this.dialog.anchor.nextEvent="reset";ig.soundHandler.sfxPlayer.play("button");this.dialog.anchor.fnHide()}});EntityStarend=Entity.extend({name:"Starend",size:{x:68,
y:66},animSheet:new ig.AnimationSheet("media/graphics/sprites/star-end.png",68,66),init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(0==this.index%2?this.addAnim("idle",0.1,[1]):this.addAnim("idle",0.1,[0]),this.currentAnim=this.anims.idle,this.currentAnim.scale.x=0,this.currentAnim.scale.y=0,this.zIndex=this.fnGetSetting("enIdx").starendgame+4,ig.game.sortEntitiesDeferred())},fnTriggerEntrance:function(){this.tween({currentAnim:{scale:{x:1,y:1},angle:2*Math.PI}},0.5,{easing:ig.Tween.Easing.Exponential.EaseOut,
delay:this.delay}).start()}})});ig.baked=!0;
ig.module("game.services.score").requires("game.app.service").defines(function(){ScoreService=Service.extend({score:0,fnLoad:function(){this.score=this._get("score")||{};return this},fnGet:function(j){return this.score[j]||0},fnSet:function(j,l){this.score[l]=this.score[l]?this.score[l]<j?j:this.score[l]:j},fnIsNewRecord:function(j){if(this.score[j]){var l=this._get("score")||!1;return l?l[j]?l[j]<this.score[j]?!0:!1:!0:!0}return!0},fnSave:function(){this._set("score",this.score)}})});ig.baked=!0;
ig.module("game.entities.games.levelselect-game").requires("game.app.entity","game.services.level","game.services.score").defines(function(){EntityLevelselectGame=Entity.extend({name:"LevelselectGame",size:{x:480,y:640},opacity:0,type:ig.Entity.TYPE.A,init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(j=this.fnGetCenter(),this.anchor=this.fnSpawn(EntityAnchorLevelselect,j.x,-500,{overlay:this}),this.anchor.fnShow(),this.zIndex=this.fnGetSetting("enIdx").levelselect,ig.game.sortEntitiesDeferred())},
draw:function(){this.parent();ig.system.context.beginPath();ig.system.context.rect(0,0,480,640);ig.system.context.fillStyle="rgba(0,0,0,"+this.opacity+")";ig.system.context.fill();ig.system.context.restore},kill:function(){this.anchor.kill();this.parent()}});EntityAnchorLevelselect=Entity.extend({name:"AnchorLevelselect",nextLevel:!1,init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(this.fnSetCenter("both",this.pos),this.hidePosY=this.fnGetCenter().y,this.showPosY=ig.system.height/2-30,this.dialog=
this.fnSpawn(EntityDialogLevelselect,0,0,{anchor:this}),this.fnUpdateDialogPos(),this.zIndex=this.fnGetSetting("enIdx").levelselect+1,ig.game.sortEntitiesDeferred())},fnShow:function(){this.tween({pos:{x:this.pos.x,y:this.showPosY}},this.fnGetSetting("dialogShowSpeed"),{easing:ig.Tween.Easing.Exponential.EaseOut,onUpdate:function(j,l,m,n,q){this.overlay.opacity=this.fnGetSetting("optionOverlayDarkness")*q}.bind(this),onComplete:function(){this.dialog.fnGenerateLevelTile(0)}.bind(this)}).start()},
fnHide:function(){this.tween({pos:{x:this.pos.x,y:this.hidePosY}},this.fnGetSetting("dialogShowSpeed"),{easing:ig.Tween.Easing.Exponential.EaseIn,onUpdate:function(j,l,m,n,q){this.overlay.opacity-=this.fnGetSetting("optionOverlayDarkness")*q}.bind(this),onComplete:function(){"MainmenuCtrl"==this.fnGetController().name&&0<ig.game.getEntitiesByType(EntityButtonMoreGames).length&&ig.game.getEntitiesByType(EntityButtonMoreGames)[0].show();this.fnParentKill()}.bind(this)}).start()},fnUpdateDialogPos:function(){var j=
this.fnGetCenter();this.dialog.fnSetCenter("both",j)},update:function(){this.parent();this.fnUpdateDialogPos();this.dialog.fnUpdate()},fnParentKill:function(){!1!==this.nextLevel&&ig.game.getEntityByName("EnddialogGame")?(ig.game.getEntityByName("EnddialogGame").anchor.nextEvent="reset",ig.game.getEntityByName("EnddialogGame").anchor.fnHide()):!1!==this.nextLevel&&ig.game.getEntityByName("BgMenu")&&this.fnGetController().fnGotoGameLevel();this.overlay.kill()},kill:function(){this.dialog.kill();this.parent()}});
EntityDialogLevelselect=Entity.extend({name:"DialogLevelselect",size:{x:309,y:298},animSheet:new ig.AnimationSheet("media/graphics/games/level-select-dialog.png",309,298),arPageSelector:[],levelGrid:[],arTile:[],pageSelector:!1,selectedPageIndex:0,bTileAnimate:!1,levelStorage:new LevelService,scoreStorage:new ScoreService,init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(this.scoreStorage.fnLoad(),this.fnInitButtons(),this.fnUpdateBtnPos(),
this.zIndex=this.fnGetSetting("enIdx").levelselect+2,ig.game.sortEntitiesDeferred())},fnInitButtons:function(){this.fnGetCenter();this.closeBtn=this.fnSpawn(EntityCloseLevelselect,0,0,{dialog:this,relPos:{x:148,y:-120}});this.fnInitPageSelector();this.stepBtn={next:this.fnSpawn(EntityLevelselectBtnStep,0,0,{dialog:this}),prev:this.fnSpawn(EntityLevelselectBtnStep,0,0,{dialog:this,btnType:"prev"})}},fnInitPageSelector:function(j){j=j||this.selectedPageIndex;var l=this.fnGetSetting("layout").length,
l=Math.floor(l/12)+(l%12?1:0),m=(ig.system.width-(1==l?0:16*(l-1)+10*(l-1)))/2,n=0;this.pageCount=l;for(var q=0;q<l;q++)n+=0<q?26:0,this.arPageSelector.push(this.fnSpawn(EntityLevelselectPage,0,0,{startPosX:m,relPos:{y:110,x:n},pageType:"holder",dialog:this,iPageIdx:q}));this.arPageSelector&&(this.pageSelector=this.fnSpawn(EntityLevelselectPage,0,0,{iPageIdx:j,dialog:this}))},fnUpdatePageSelectorPos:function(j){for(var l=0;l<this.arPageSelector.length;l++){var m=this.arPageSelector[l];m.fnSetCenter("both",
{x:m.startPosX+m.relPos.x,y:j.y+m.relPos.y})}this.pageSelector&&this.pageSelector.fnSetCenter("both",this.arPageSelector[this.pageSelector.iPageIdx].fnGetCenter())},fnUpdateBtnPos:function(){var j=this.fnGetCenter();this.closeBtn.fnSetCenter("both",j,{x:this.closeBtn.relPos.x,y:this.closeBtn.relPos.y});this.fnUpdatePageSelectorPos(j);this.stepBtn.next.fnSetCenter("both",j,{x:180,y:10});this.stepBtn.prev.fnSetCenter("both",j,{x:-180,y:10})},fnClose:function(){for(var j=0;j<this.arTile.length;j++)this.arTile[j].fnHide({bCloseDialog:!0})},
fnChangePage:function(j){this.selectedPageIndex=j;this.bTileAnimate=!0;j=this.pageSelector.tween({currentAnim:{scale:{x:0,y:0}}},0.1,{easing:ig.Tween.Easing.Sinusoidal.EaseIn,onComplete:function(){this.pageSelector.iPageIdx=this.selectedPageIndex;this.pageSelector.fnSetCenter("both",this.arPageSelector[this.selectedPageIndex].fnGetCenter())}.bind(this)});var l=this.pageSelector.tween({currentAnim:{scale:{x:1,y:1}}},0.1,{easing:ig.Tween.Easing.Sinusoidal.EaseOut,onComplete:function(){for(var j=0;j<
this.arTile.length;j++)this.arTile[j].fnHide({iNextPage:this.selectedPageIndex})}.bind(this)});j.chain(l);j.start()},fnGenerateLevelTile:function(j){if(!this.bTileAnimate){this.fnGenerateGridPos();this.fnGetSetting("layout");var l=this.fnGetSetting("layout").slice(12*j,12*j+12);this.arTile=[];for(var m=0;m<l.length;m++)this.arTile.push(this.fnSpawn(EntityLevelselectTile,0,0,{centerPos:this.levelGrid[m].pos,dialog:this,delay:(m+1)*this.fnGetSetting("selectleveltileDelay"),index:m,isUnlocked:this.levelStorage.fnGetUnlockedLevel()>=
12*j+m,level:12*j+m,star:this.scoreStorage.fnGet(12*j+m)})),this.arTile[this.arTile.length-1].fnShow()}},fnGenerateGridPos:function(){this.levelGrid=[];this.fnGetCenter();for(var j=this.size.x,l=this.size.y,j=j/4-j/4/4+4,l=l/3-l/3/3,m=this.pos.x,n=this.pos.y+10,q=0;3>q;q++)for(var n=n+l,r=0;4>r;r++)m=0==r?this.pos.x:m,m+=j,this.levelGrid.push({isHead:0==r?!0:!1,isTail:3==r?!0:!1,pos:{x:m,y:n}})},fnKillLevelTile:function(){this.levelGrid=[]},draw:function(){this.parent();var j=this.fnGetCenter();this.fnCtxWrite(_STRINGS.Game.selectlevel,
"sketch-block",16,this.fnGetSetting("color").captionBoard,"center",j.x,j.y-122)},fnUpdate:function(){this.fnUpdateBtnPos()},kill:function(){this.closeBtn.kill();for(var j=0;j<this.arPageSelector.length;j++)this.arPageSelector[j].kill();this.pageSelector&&this.pageSelector.kill();this.stepBtn.next.kill();this.stepBtn.prev.kill();this.parent()}});EntityCloseLevelselect=Entity.extend({name:"CloseLevelselect",size:{x:40,y:39},animSheet:new ig.AnimationSheet("media/graphics/sprites/close-dialog.png",40,
39),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[1]);this.addAnim("hover",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").levelselect+3,ig.game.sortEntitiesDeferred())},clicked:function(){this.parent();ig.soundHandler.sfxPlayer.play("button");this.dialog.fnClose()},over:function(){this.parent();this.currentAnim=this.anims.hover},leave:function(){this.parent();this.currentAnim=this.anims.idle}});
EntityLevelselectPage=Entity.extend({name:"LevelselectPage",size:{x:16,y:16},animSheet:new ig.AnimationSheet("media/graphics/sprites/level-select-page.png",16,16),init:function(j,l,m){this.parent(j,l,m);this.addAnim("active",0.1,[0]);this.addAnim("frame",0.1,[1]);ig.global.wm||("holder"==this.pageType?(this.currentAnim=this.anims.frame,this.type=ig.Entity.TYPE.A,this.cursor="pointer",this.zIndex=this.fnGetSetting("enIdx").levelselect+4):(this.currentAnim=this.anims.active,this.zIndex=this.fnGetSetting("enIdx").levelselect+
5),ig.game.sortEntitiesDeferred())},clicked:function(){this.parent();this.dialog.bTileAnimate||(ig.soundHandler.sfxPlayer.play("button"),this.dialog.fnChangePage(this.iPageIdx))}});EntityLevelselectTile=Entity.extend({name:"LevelselectTile",size:{x:52,y:52},animSheet:new ig.AnimationSheet("media/graphics/sprites/level-select-tile.png",52,52),iNextPage:!1,bCloseDialog:!1,readyWriteLevel:!1,fontSize:0,locked:!1,type:ig.Entity.TYPE.A,init:function(j,l,m){this.parent(j,l,m);this.addAnim("zeroStar",0.1,
[0]);this.addAnim("oneStar",0.1,[1]);this.addAnim("twoStar",0.1,[2]);this.addAnim("threeStar",0.1,[3]);this.addAnim("locked",0.1,[4]);this.currentAnim=this.anims.zeroStar;if(!ig.global.wm){if(this.isUnlocked)switch(this.star){case 0:this.currentAnim=this.anims.zeroStar;break;case 1:this.currentAnim=this.anims.oneStar;break;case 2:this.currentAnim=this.anims.twoStar;break;case 3:this.currentAnim=this.anims.threeStar}else this.currentAnim=this.anims.locked;this.fnSetCenter("both",this.centerPos);this.currentAnim.scale.x=
0;this.currentAnim.scale.y=0;this.zIndex=this.fnGetSetting("enIdx").levelselect+5;ig.game.sortEntitiesDeferred()}},fnShow:function(){this.dialog.bTileAnimate=!0;this.tween({currentAnim:{scale:{x:1,y:1}},fontSize:16},0.1,{easing:ig.Tween.Easing.Sinusoidal.EaseOut,delay:this.delay,onComplete:function(){this.dialog.arTile.length-1==this.index&&(this.dialog.bTileAnimate=!1,this.fnGetPointer().hoveringItem&&this.fnGetPointer().hoveringItem.over())}.bind(this)}).start()},fnHide:function(j){this.dialog.bTileAnimate=
!0;this.iNextPage=j&&!1!==j.iNextPage?j.iNextPage:!1;this.bCloseDialog=j&&j.bCloseDialog?!0:!1;this.tween({currentAnim:{scale:{x:0,y:0}},fontSize:0},0.1,{easing:ig.Tween.Easing.Sinusoidal.EaseIn,delay:this.delay,onComplete:function(){this.dialog.arTile.length-1==this.index&&(this.dialog.bTileAnimate=!1,!1!==this.iNextPage&&-1<this.iNextPage?this.dialog.fnGenerateLevelTile(this.iNextPage):this.bCloseDialog&&this.dialog.anchor.fnHide());this.kill()}.bind(this)}).start()},draw:function(){this.parent();
var j=this.fnGetCenter();this.isUnlocked&&this.fnCtxWrite(this.level+1,"sketch-block",this.fontSize,this.fnGetSetting("color").captionBoard,"center",j.x-1,j.y-4)},fnAnimateBig:function(){this.tween({currentAnim:{scale:{x:1.2,y:1.2}},fontSize:19.2},0.1,{easing:ig.Tween.Easing.Sinusoidal.EaseInOut}).start()},fnAnimateSmall:function(){this.tween({currentAnim:{scale:{x:1,y:1}},fontSize:16},0.1,{easing:ig.Tween.Easing.Sinusoidal.EaseInOut}).start()},over:function(){this.parent();this.isUnlocked&&(!this.locked&&
!this.dialog.bTileAnimate)&&(this.cursor="pointer",this.fnAnimateBig())},leave:function(){this.parent();this.isUnlocked&&(!this.locked&&!this.dialog.bTileAnimate)&&(this.cursor="inherit",this.fnAnimateSmall())},clicked:function(){this.parent();this.isUnlocked&&(this.dialog.levelStorage.fnSaveLevel(this.level),this.dialog.anchor.nextLevel=this.level,this.dialog.fnClose(),ig.soundHandler.sfxPlayer.play("button"))}});EntityLevelselectBtnStep=Entity.extend({name:"BtnNextPrev",size:{x:52,y:51},animSheet:new ig.AnimationSheet("media/graphics/sprites/button-game.png",
52,51),btnType:"next",type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("hover",0.1,[6]);this.addAnim("idle",0.1,[7]);this.currentAnim=this.anims.idle;ig.global.wm||("prev"==this.btnType&&(this.currentAnim.flip.x=!0),this.zIndex=this.fnGetSetting("enIdx").levelselect+1,ig.game.sortEntitiesDeferred())},clicked:function(){this.parent();if(!this.dialog.bTileAnimate){var j=!1,j="prev"==this.btnType?0==this.dialog.selectedPageIndex?0:this.dialog.selectedPageIndex-
1:this.dialog.selectedPageIndex==this.dialog.pageCount-1?this.dialog.pageCount-1:this.dialog.selectedPageIndex+1;this.dialog.fnChangePage(j);ig.soundHandler.sfxPlayer.play("button")}},over:function(){this.currentAnim=this.anims.hover;this.currentAnim.flip.x="prev"==this.btnType?!0:!1},leave:function(){this.currentAnim=this.anims.idle},fhShow:function(){},fnHide:function(){}})});ig.baked=!0;
ig.module("game.entities.games.tilehint-game").requires("game.app.entity").defines(function(){EntityTilehintGame=Entity.extend({name:"TilehintGame",size:{x:98,y:98},tileType:!1,tileHalf:49,tileQuart:18,tileREdge:15,delay:!1,init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(this.delay=new ig.Timer(this.delay),this.centerPos&&this.fnSetCenter("both",this.centerPos),this.zIndex=this.fnGetSetting("enIdx").tileHint,ig.game.sortEntitiesDeferred())},draw:function(){this.parent();if(!(0>this.delay.delta())){var j=
this.fnGetCenter(),l=this.fnGetBottomRight();if(this.tileDir)switch(this.tileDir){case "h":ig.system.context.beginPath();ig.system.context.moveTo(j.x-this.tileHalf,j.y-this.tileQuart);ig.system.context.lineTo(j.x+this.tileHalf,j.y-this.tileQuart);ig.system.context.lineTo(j.x+this.tileHalf,j.y+this.tileQuart);ig.system.context.lineTo(j.x-this.tileHalf,j.y+this.tileQuart);ig.system.context.fillStyle=this.fnGetSetting("color").tileHint;ig.system.context.fill();ig.system.context.restore();break;case "v":ig.system.context.beginPath();
ig.system.context.moveTo(j.x-this.tileQuart,j.y-this.tileHalf);ig.system.context.lineTo(j.x+this.tileQuart,j.y-this.tileHalf);ig.system.context.lineTo(j.x+this.tileQuart,j.y+this.tileHalf);ig.system.context.lineTo(j.x-this.tileQuart,j.y+this.tileHalf);ig.system.context.fillStyle=this.fnGetSetting("color").tileHint;ig.system.context.fill();ig.system.context.restore();break;case "t":ig.system.context.beginPath();ig.system.context.moveTo(j.x-this.tileQuart,j.y-this.tileREdge);ig.system.context.arc(j.x,
j.y-this.tileREdge,this.tileQuart,0,Math.PI,!0);ig.system.context.lineTo(j.x+this.tileQuart,j.y-this.tileREdge);ig.system.context.lineTo(j.x+this.tileQuart,j.y+this.tileHalf);ig.system.context.lineTo(j.x-this.tileQuart,j.y+this.tileHalf);ig.system.context.fillStyle=this.fnGetSetting("color").tileHint;ig.system.context.fill();ig.system.context.restore();break;case "l":ig.system.context.beginPath();ig.system.context.moveTo(j.x-this.tileREdge,j.y-this.tileQuart);ig.system.context.lineTo(j.x+this.tileHalf,
j.y-this.tileQuart);ig.system.context.lineTo(j.x+this.tileHalf,j.y+this.tileQuart);ig.system.context.lineTo(j.x-this.tileREdge,j.y+this.tileQuart);ig.system.context.arc(j.x-this.tileREdge,j.y,this.tileQuart,0.5*Math.PI,!0);ig.system.context.fillStyle=this.fnGetSetting("color").tileHint;ig.system.context.fill();ig.system.context.restore();break;case "r":ig.system.context.beginPath();ig.system.context.moveTo(j.x+this.tileREdge,j.y+this.tileQuart);ig.system.context.lineTo(j.x-this.tileHalf,j.y+this.tileQuart);
ig.system.context.lineTo(j.x-this.tileHalf,j.y-this.tileQuart);ig.system.context.lineTo(j.x+this.tileREdge,j.y-this.tileQuart);ig.system.context.arc(j.x+this.tileREdge,j.y,this.tileQuart,1.5*Math.PI,0.5*Math.PI);ig.system.context.fillStyle=this.fnGetSetting("color").tileHint;ig.system.context.fill();ig.system.context.restore();break;case "b":ig.system.context.beginPath();ig.system.context.moveTo(j.x-this.tileQuart,j.y-this.tileHalf);ig.system.context.lineTo(j.x+this.tileQuart,j.y-this.tileHalf);ig.system.context.lineTo(j.x+
this.tileQuart,j.y+this.tileREdge);ig.system.context.arc(j.x,j.y+this.tileREdge,this.tileQuart,0,Math.PI,!1);ig.system.context.lineTo(j.x-this.tileQuart,j.y+this.tileREdge);ig.system.context.fillStyle=this.fnGetSetting("color").tileHint;ig.system.context.fill();ig.system.context.restore();break;case "lt":ig.system.context.beginPath();ig.system.context.moveTo(this.pos.x+31,this.pos.y);ig.system.context.quadraticCurveTo(this.pos.x+23+8,this.pos.y+24-6,this.pos.x+23,this.pos.y+24);ig.system.context.quadraticCurveTo(this.pos.x+
16,this.pos.y+31,this.pos.x,this.pos.y+31);ig.system.context.lineTo(this.pos.x,this.pos.y+67);ig.system.context.lineTo(this.pos.x+10,this.pos.y+67);ig.system.context.quadraticCurveTo(this.pos.x+50-15,this.pos.y+50+16,this.pos.x+50,this.pos.y+50);ig.system.context.quadraticCurveTo(this.pos.x+67,this.pos.y+10+22,this.pos.x+67,this.pos.y+10);ig.system.context.lineTo(this.pos.x+67,this.pos.y);ig.system.context.lineTo(this.pos.x+31,this.pos.y);ig.system.context.fillStyle=this.fnGetSetting("color").tileHint;
ig.system.context.fill();ig.system.context.restore();break;case "lb":ig.system.context.beginPath();ig.system.context.moveTo(this.pos.x+31,l.y);ig.system.context.quadraticCurveTo(this.pos.x+24+9,l.y-24+10,this.pos.x+24,l.y-24);ig.system.context.quadraticCurveTo(this.pos.x+15,l.y-31-2,this.pos.x,l.y-31);ig.system.context.lineTo(this.pos.x,j.y-this.tileQuart);ig.system.context.lineTo(this.pos.x+10,j.y-this.tileQuart);ig.system.context.quadraticCurveTo(j.x-this.tileQuart+3,j.y-this.tileQuart,j.x+3,j.y);
ig.system.context.quadraticCurveTo(j.x+this.tileQuart,j.y+this.tileHalf-10-20,j.x+this.tileQuart,j.y+this.tileHalf-10);ig.system.context.lineTo(j.x+this.tileQuart,j.y+this.tileHalf);ig.system.context.lineTo(j.x-this.tileQuart,j.y+this.tileHalf);ig.system.context.fillStyle=this.fnGetSetting("color").tileHint;ig.system.context.fill();ig.system.context.restore();break;case "rb":ig.system.context.beginPath();ig.system.context.moveTo(j.x+this.tileQuart,j.y+this.tileHalf);ig.system.context.lineTo(j.x+this.tileQuart,
j.y+this.tileHalf-5);ig.system.context.quadraticCurveTo(l.x-24-8,l.y-24+8,l.x-24,l.y-24);ig.system.context.quadraticCurveTo(l.x-10-8,j.y+this.tileQuart+2,l.x-10,j.y+this.tileQuart);ig.system.context.lineTo(l.x,j.y+this.tileQuart);ig.system.context.lineTo(l.x,j.y-this.tileQuart);ig.system.context.lineTo(l.x-10,j.y-this.tileQuart);ig.system.context.quadraticCurveTo(j.x-5+this.tileQuart,j.y-this.tileQuart+1,j.x-2,j.y);ig.system.context.quadraticCurveTo(j.x-this.tileQuart+2,j.y+12,j.x-this.tileQuart,
l.y-10);ig.system.context.lineTo(j.x-this.tileQuart,l.y);ig.system.context.lineTo(j.x+this.tileQuart,j.y+this.tileHalf);ig.system.context.fillStyle=this.fnGetSetting("color").tileHint;ig.system.context.fill();ig.system.context.closePath();ig.system.context.restore();break;case "rt":ig.system.context.beginPath(),ig.system.context.moveTo(l.x,j.y-this.tileQuart),ig.system.context.lineTo(l.x-5,j.y-this.tileQuart),ig.system.context.quadraticCurveTo(l.x-24+5,this.pos.y+24+5,l.x-24,this.pos.y+24),ig.system.context.quadraticCurveTo(j.x+
this.tileQuart,this.pos.y+5+10,j.x+this.tileQuart,this.pos.y+5),ig.system.context.lineTo(j.x+this.tileQuart,this.pos.y),ig.system.context.lineTo(j.x-this.tileQuart,this.pos.y),ig.system.context.lineTo(j.x-this.tileQuart,this.pos.y+10),ig.system.context.quadraticCurveTo(j.x-2-15,j.y-15,j.x-2,j.y),ig.system.context.quadraticCurveTo(l.x-10-22,j.y+this.tileQuart,l.x-10,j.y+this.tileQuart),ig.system.context.lineTo(l.x,j.y+this.tileQuart),ig.system.context.lineTo(l.x,j.y-this.tileQuart),ig.system.context.fillStyle=
this.fnGetSetting("color").tileHint,ig.system.context.fill(),ig.system.context.closePath()}}}})});ig.baked=!0;
ig.module("game.entities.games.tutorial-game").requires("game.app.entity").defines(function(){EntityTutorialGame=Entity.extend({name:"TutorialGame",size:{x:97,y:97},animSheet:new ig.AnimationSheet("media/graphics/games/tutorial-frame.png",97,97),init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(this.fnSetCenter("both",{x:288,y:396}),this.zIndex=this.fnGetSetting("enIdx").tutorial,ig.game.sortEntitiesDeferred(),this.tutorialPointer=
this.fnSpawn(EntityTutorialPointer,0,0))},kill:function(){this.tutorialPointer.kill();this.parent()}});EntityTutorialPointer=Entity.extend({name:"TutorialPointer",size:{x:53,y:62},animSheet:new ig.AnimationSheet("media/graphics/games/tutorial-pointer.png",53,62),init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(this.fnSetCenter("both",{x:288,y:500}),this.zIndex=this.fnGetSetting("enIdx").tutorial,ig.game.sortEntitiesDeferred(),this.tween({pos:{x:this.pos.x,
y:this.pos.y-97}},2,{easing:ig.Tween.Easing.Sinusoidal.EaseInOut,delay:1,loop:ig.Tween.Loop.Revert}).start())},fnPause:function(){this.pauseTweens()},fnUnpause:function(){this.resumeTweens()}})});ig.baked=!0;
ig.module("game.entities.games.transitiontext-game").requires("game.app.entity").defines(function(){EntityTransitiontextGame=Entity.extend({name:"TransitiontextGame",size:{x:1,y:1},textAlpha:0,init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").pathcomplete,ig.game.sortEntitiesDeferred(),this.fnAnimate())},fnAnimate:function(){var j=this,l=ig.system.width/2,m=ig.system.height/2;j.fnSetCenter("both",{x:l,y:m+60});var n=m-20,q=m-60,m=this.tween({pos:{x:l,y:m+
20},textAlpha:1},0.5,{easing:ig.Tween.Easing.Bounce.EaseOut}),n=this.tween({pos:{x:l,y:n}},1,{easing:ig.Tween.Easing.Linear.EaseNone}),l=this.tween({pos:{x:l,y:q},textAlpha:0},0.1,{easing:ig.Tween.Easing.Sinusoidal.EaseIn,onComplete:function(){j.board&&j.checkResult&&this.board.fnDeleteUncompleteTiles(j.checkResult);this.kill()}.bind(this)});m.chain(n);n.chain(l);m.start()},draw:function(){this.parent();var j=this.fnGetCenter();ig.system.context.shadowColor="#1AED1A";ig.system.context.shadowBlur=
5;var l=this.fnGetSetting("color").rgbTransitiontextShadow,m;m="rgba(R!,G!,B!,A!)".replace("R!",l.r);m=m.replace("G!",l.g);m=m.replace("B!",l.b);m=m.replace("A!",this.textAlpha);var n=this.customSize?25:30;ig.system.context.font=n+"pt sketch-block";ig.system.context.textAlign="center";ig.system.context.fillStyle=m;ig.system.context.fillText(this.message,j.x+2,j.y+2);l=this.fnGetSetting("color").rgbTransitiontext;m="rgba(R!,G!,B!,A!)".replace("R!",l.r);m=m.replace("G!",l.g);m=m.replace("B!",l.b);m=
m.replace("A!",this.textAlpha);ig.system.context.font=n+"pt sketch-block";ig.system.context.textAlign="center";ig.system.context.fillStyle=m;ig.system.context.fillText(this.message,j.x,j.y);ig.system.context.shadowColor="rgba(0,0,0,0)";ig.system.context.shadowBlur=0;ig.system.context.restore()},fnPause:function(){try{this.pauseTweens()}catch(j){}},fnUnpause:function(){try{this.resumeTweens()}catch(j){}}})});ig.baked=!0;
ig.module("game.entities.level-splasher").requires("game.app.entity").defines(function(){EntityLevelSplasher=Entity.extend({name:"LevelSplahser",size:{x:480,y:640},type:ig.Entity.TYPE.A,onStart:!1,onFinish:!1,killOnfinish:!0,alpha:null,init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").levelsplasher,ig.game.sortEntitiesDeferred())},fnAnimateIn:function(){if(this.onStart)this.onStart(this);this.tween({alpha:0},0.25,{easing:ig.Tween.Easing.Sinusoidal.EaseOut,
onComplete:function(){if(this.onFinish)this.onFinish();this.killOnfinish&&this.kill();this.kill()}.bind(this)}).start()},fnAnimateOut:function(){if(this.onStart)this.onStart(this);this.tween({alpha:1},0.25,{easing:ig.Tween.Easing.Sinusoidal.EaseIn,onComplete:function(){if(this.onFinish)this.onFinish();this.killOnfinish&&this.kill()}.bind(this)}).start()},draw:function(){this.fnDrawOverlay(this.size.x,this.size.y,"rgba(0,0,0,"+this.alpha+")")}})});ig.baked=!0;
ig.module("game.services.bestpath").requires("game.app.service").defines(function(){BestpathService=Service.extend({bestPath:0,fnLoad:function(){this.bestPath=this._get("bestpath")||{};return this},fnGet:function(j){return this.bestPath[j]||0},fnSet:function(j,l){this.bestPath[l]=j},fnIsNewRecord:function(j,l){var m=this._get("bestpath")||!1;return m?m[l]?m[l]>j?!0:!1:!0:!0},fnSave:function(){this._set("bestpath",this.bestPath)}})});ig.baked=!0;
ig.module("game.services.tutorial").requires("game.app.service").defines(function(){TutorialService=Service.extend({fnGet:function(){return this._get("tutorial")||!1},fnSet:function(){this._set("tutorial",!0)}})});ig.baked=!0;
ig.module("game.entities.pointer").requires("impact.entity").defines(function(){EntityPointer=ig.Entity.extend({checkAgainst:ig.Entity.TYPE.BOTH,isFirstPressed:!1,isPressed:!1,isReleased:!1,isHovering:!1,hoveringItem:null,objectArray:[],clickedObjectList:[],ignorePause:!0,zIndex:5E3,check:function(j){this.objectArray.push(j)},clickObject:function(j){this.isFirstPressed&&"function"==typeof j.clicked&&(j.clicked(),this.addToClickedObjectList(j));this.isPressed&&!this.isReleased&&"function"==typeof j.clicking&&
j.clicking();this.isReleased&&"function"==typeof j.released&&(j.released(),this.removeFromClickedObjectList(j))},refreshPos:function(){this.pos=ig.game.io.getClickPos()},update:function(){this.parent();this.refreshPos();var j=null,l=-1;for(a=this.objectArray.length-1;-1<a;a--)this.objectArray[a].zIndex>l&&(l=this.objectArray[a].zIndex,j=this.objectArray[a]);if(null!=j)null!=this.hoveringItem?this.hoveringItem!=j&&("function"==typeof this.hoveringItem.leave&&this.hoveringItem.leave(),"function"==typeof j.over&&
j.over()):"function"==typeof j.over&&j.over(),this.hoveringItem=j,this.clickObject(j),this.objectArray=[];else if(null!=this.hoveringItem&&"function"==typeof this.hoveringItem.leave&&(this.hoveringItem.leave(),this.hoveringItem=null),this.isReleased){for(j=0;j<this.clickedObjectList.length;j++)l=this.clickedObjectList[j],"function"==typeof l.releasedOutside&&l.releasedOutside();this.clickedObjectList=[]}this.isFirstPressed=ig.input.pressed("click");this.isReleased=ig.input.released("click");this.isPressed=
ig.input.state("click")},addToClickedObjectList:function(j){this.clickedObjectList.push(j)},removeFromClickedObjectList:function(j){for(var l=[],m=0;m<this.clickedObjectList.length;m++){var n=this.clickedObjectList[m];n!=j&&l.push(n)}this.clickedObjectList=l}})});ig.baked=!0;
ig.module("game.entities.pointer-selector").requires("game.entities.pointer").defines(function(){EntityPointerSelector=EntityPointer.extend({zIndex:1E3,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},init:function(j,l,m){this.parent(j,l,m)}})});ig.baked=!0;
ig.module("game.app.pointer").requires("game.entities.pointer-selector").defines(function(){PointerApp=EntityPointerSelector.extend({name:"PointerApp",size:{x:1,y:1},init:function(j,l,m){this.parent(j,l,m)},update:function(){this.parent();document.body.style.cursor=this.hoveringItem&&this.hoveringItem.cursor?this.hoveringItem.cursor:"inherit"},fnLetGo:function(){this.hoveringItem=null},fnGetCenter:function(j){var l={},l={x:this.pos.x+this.size.x/2,y:this.pos.y+this.size.y/2};j&&(l.x-=ig.game.screen.x,
l.y-=ig.game.screen.y);return l},fnSetCenter:function(j,l,m,n){if(!j||!l)return!1;switch(j){case "x":if("number"!=typeof l)return!1;this.pos.x=l-this.size.x/2+(m&&"number"==typeof m?m:0);break;case "y":if("number"!=typeof l)return!1;this.pos.y=l-this.size.y/2+(m&&"number"==typeof m?m:0);break;case "both":if("object"!=typeof l||!l.x||!l.y)return!1;j={x:0,y:0};j.x=m&&m.x?m.x:0;j.y=m&&m.y?m.y:0;this.pos={x:l.x-this.size.x/2+j.x,y:l.y-this.size.y/2+j.y}}n?(this.pos.x-=ig.game.screen.x,this.pos.y-=ig.game.screen.y):
(this.pos.x+=ig.game.screen.x,this.pos.y+=ig.game.screen.y);return this},check:function(j){j.disablePointer||this.parent(j)}})});ig.baked=!0;
ig.module("game.app.controller").requires("impact.entity","game.app.pointer").defines(function(){Controller=ig.Entity.extend({name:"Controller",_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},pos:{x:550,y:466},zIndex:1E3,localState:{},init:function(){ig.global.wm||(ig.game.controller=this,ig.game.pointer=ig.game.spawnEntity(PointerApp,ig.system.width/2,ig.system.height/2),ig.game.sortEntitiesDeferred())},fnGetState:function(j){return j?void 0!==ig.game.states[j]?ig.game.states[j]:
!1:ig.game.states},fnGetLocalState:function(j){return j?void 0!==this.localState[j]?this.localState[j]:!1:this.localState},fnGetSetting:function(j){return j?ig.game.settings[j]?ig.game.settings[j]:!1:ig.game.settings},fnSpawn:function(j,l,m,n){return ig.game.spawnEntity(j,l,m,n)},fnGetHelper:function(){return ig.game.helper}})});ig.baked=!0;
ig.module("game.entities.controllers.game-ctrl").requires("game.entities.games.board-game","game.entities.games.tile-game","game.entities.games.tile-helper","game.entities.games.ball-game","game.entities.games.starpick-game","game.entities.games.hintspin-game","game.entities.games.uiframe-bottom-game","game.entities.games.uiframe-top-game","game.entities.games.paused-game","game.entities.games.option-game","game.entities.games.starstatusuitop-game","game.entities.games.enddialog-game","game.entities.games.levelselect-game",
"game.entities.games.tilehint-game","game.entities.games.tutorial-game","game.entities.games.transitiontext-game","game.entities.level-splasher","game.services.level","game.services.score","game.services.bestpath","game.services.hint","game.services.tutorial","game.app.controller").defines(function(){EntityGameCtrl=Controller.extend({name:"GameCtrl",pathCompleted:!1,stepHistory:[],bestPath:new BestpathService,level:new LevelService,score:new ScoreService,tutorialService:new TutorialService,currentScore:0,
tutorial:!1,init:function(j,l,m){this.parent(j,l,m);this.fnSpawn(EntityLevelSplasher,0,0,{alpha:1,onFinish:function(){this.fnGetSetting("bShowTransitionText")&&this.fnSpawn(EntityTransitiontextGame,0,0,{message:_STRINGS.Game.go})}}).fnAnimateIn()},ready:function(){this.parent();if(!ig.global.wm){this.fnGetState().isPusedReset();this.fnSetLevelLayout();this.level=this.level.fnLoadLevel().fnGetLevel();this.tutorial=0===this.level&&!this.tutorialService.fnGet()||!1;this.score.fnLoad();this.bestPath.fnLoad();
this.board=this.fnSpawn(EntityBoardGame,0,0);this.uiFooter=this.fnSpawn(EntityUiframeBottomGame,0,544);this.uiTop=this.fnSpawn(EntityUiframeTopGame,0,0);this.fnSetTileLayout(this.fnGetSetting("layout")[this.level]);this.board.fnInitArrangeTiles();this.board.fnShuffle(this.fnGetSetting("layoutShuffle")[this.level]);var j=this.score.fnGet(this.level);this.startTopUi=this.fnSpawn(EntityStarstatusuitopGame,0,0,{score:j});this.fnSetTutorial()}},fnSetTutorial:function(){this.tutorial&&(this.tutorial=this.fnSpawn(EntityTutorialGame,
0,0))},fnAddScore:function(){3<this.score.fnGet(this.level)||(this.score.fnSet(this.score.fnGet(this.level)+1,this.level),this.startTopUi.fnAddScore())},fnSetLevelLayout:function(){var j=0;new LevelService;ig.game.queryString&&ig.game.queryString.layout&&(j=parseInt(ig.game.queryString.layout),this.fnGetSetting("layout")[j]&&this.level.fnSaveLevel(j).fnGetLevel())},fnSetTileLayout:function(j){for(il in j)this.board.fnAddTile(this.fnSpawn(EntityTileGame,0,0,{gridAx:{x:j[il].gridAx.x,y:j[il].gridAx.y},
tileId:il,tileType:j[il].type,tileDir:j[il].dir,ball:j[il].ball||!1,star:j[il].star||!1,hintSpin:j[il].hintspin||!1,isPath:j[il].isPath||!1}))},fnAddMoveHistory:function(j,l){this.stepHistory.push({id:j,dir:"right"==l?"left":"left"==l?"right":"top"==l?"bottom":"top"});this.uiFooter.fnActivateUndo()},fnUndo:function(){if(!this.pathCompleted&&0<this.stepHistory.length){var j=this.stepHistory[this.stepHistory.length-1];this.board.fnMoveTile(j.id,j.dir);this.stepHistory.pop();1>this.stepHistory.length&&
this.uiFooter.undoBtn.fnDeactivate()}},fnFast:function(){this.board.fnTriggerFast()},fnShowPauseDialog:function(){this.pauseDialog=this.fnSpawn(EntityPausedGame,0,0)},fnShowOptionDialog:function(){this.optionDialog=this.fnSpawn(EntityOptionGame,0,0)},fnShowEndGameDialog:function(){this.score.fnIsNewRecord(this.level)&&this.score.fnSave();this.bestPath.fnIsNewRecord(this.stepHistory.length,this.level)&&(this.bestPath.fnSet(this.stepHistory.length,this.level),this.bestPath.fnSave());var j=new LevelService;
this.fnGetSetting("layout").length-1>this.level&&this.level>=j.fnGetUnlockedLevel()&&j.fnSaveUnlockedLevel(this.level+1);this.endGameDialog=this.fnSpawn(EntityEnddialogGame,0,0)},fnShowSelectLevelDialog:function(){this.levelselectDialog=this.fnSpawn(EntityLevelselectGame,0,0)},fnReloadLevel:function(){this.levelSplasher=this.fnSpawn(EntityLevelSplasher,0,0,{alpha:0,onFinish:function(){ig.game.director.reloadLevel()},killOnfinish:!1}).fnAnimateOut()}})});ig.baked=!0;
ig.module("game.levels.game").requires("impact.image","game.entities.controllers.game-ctrl").defines(function(){LevelGame={entities:[{type:"EntityGameCtrl",x:550,y:466}],layer:[{name:"background",width:30,height:40,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/backgrounds/desktop/background.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:16,foreground:!1,data:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}]};LevelGameResources=[new ig.Image("media/graphics/backgrounds/desktop/background.jpg")]});ig.baked=!0;
ig.module("game.entities.menus.bg-menu").requires("game.app.entity").defines(function(){EntityBgMenu=Entity.extend({name:"BgMenu",size:{x:480,y:640},animSheet:new ig.AnimationSheet("media/graphics/backgrounds/desktop/background.jpg",480,640),init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.currentAnim=this.anims.idle;ig.global.wm||(this.zIndex=this.fnGetSetting("enIdx").menubackground,ig.game.sortEntitiesDeferred())}})});ig.baked=!0;
ig.module("game.entities.menus.btnoption-menu").requires("game.app.entity").defines(function(){EntityBtnoptionMenu=Entity.extend({name:"BtnoptionMenu",size:{x:99,y:101},animSheet:new ig.AnimationSheet("media/graphics/sprites/button_setting.png",99,101),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.addAnim("hover",0.1,[1]);this.currentAnim=this.anims.idle;ig.global.wm||(this.anims.idle.scale.x=0,this.anims.idle.scale.y=0,this.anims.hover.scale.x=
0,this.anims.hover.scale.y=0,this.zIndex=this.fnGetSetting("enIdx").menubtn,ig.game.sortEntitiesDeferred(),this.fnEntrace())},fnEntrace:function(){this.tween({anims:{idle:{scale:{x:1,y:1}},hover:{scale:{x:1,y:1}}}},0.25,{easing:ig.Tween.Easing.Sinusoidal.EaseInOut,delay:this.delay}).start()},over:function(){this.parent();this.currentAnim=this.anims.hover},leave:function(){this.parent();this.currentAnim=this.anims.idle},clicked:function(){this.parent();0<ig.game.getEntitiesByType(EntityButtonMoreGames).length&&
ig.game.getEntitiesByType(EntityButtonMoreGames)[0].hide();ig.soundHandler.sfxPlayer.play("button");this.optionDialog=this.fnSpawn(EntityOptionGame,0,0)}})});ig.baked=!0;
ig.module("game.entities.menus.btnplay-menu").requires("game.app.entity").defines(function(){EntityBtnplayMenu=Entity.extend({name:"BtnplayMenu",size:{x:126,y:128},animSheet:new ig.AnimationSheet("media/graphics/sprites/button_play.png",126,128),type:ig.Entity.TYPE.A,cursor:"pointer",init:function(j,l,m){this.parent(j,l,m);this.addAnim("idle",0.1,[0]);this.addAnim("hover",0.1,[1]);this.currentAnim=this.anims.idle;ig.global.wm||(this.anims.idle.scale.x=0,this.anims.idle.scale.y=0,this.anims.hover.scale.x=
0,this.anims.hover.scale.y=0,this.zIndex=this.fnGetSetting("enIdx").menubtn,ig.game.sortEntitiesDeferred(),this.fnEntrace())},fnEntrace:function(){this.tween({anims:{idle:{scale:{x:1,y:1}},hover:{scale:{x:1,y:1}}}},0.25,{easing:ig.Tween.Easing.Sinusoidal.EaseInOut,delay:this.delay}).start()},over:function(){this.parent();this.currentAnim=this.anims.hover},leave:function(){this.parent();this.currentAnim=this.anims.idle},clicked:function(){this.parent();0<ig.game.getEntitiesByType(EntityButtonMoreGames).length&&
ig.game.getEntitiesByType(EntityButtonMoreGames)[0].hide();ig.soundHandler.sfxPlayer.play("button");this.levelselectDialog=this.fnSpawn(EntityLevelselectGame,0,0)}})});ig.baked=!0;
ig.module("game.entities.controllers.mainmenu-ctrl").requires("game.app.controller","game.entities.menus.bg-menu","game.entities.menus.btnoption-menu","game.entities.games.option-game","game.entities.games.levelselect-game","game.entities.level-splasher","game.entities.menus.btnplay-menu").defines(function(){EntityMainmenuCtrl=Controller.extend({name:"MainmenuCtrl",init:function(j,l,m){this.parent(j,l,m)},ready:function(){this.parent();this.fnSpawn(EntityLevelSplasher,0,0,{alpha:1}).fnAnimateIn();
this.bg=this.fnSpawn(EntityBgMenu,0,0);this.fnInitButton()},fnInitButton:function(){this.btnPlay=this.fnSpawn(EntityBtnplayMenu,0,0,{delay:0});this.btnPlay.fnSetCenter("both",{x:ig.system.width/2,y:ig.system.height/2+50});_SETTINGS.MoreGames.Enabled?(this.btnOption=this.fnSpawn(EntityBtnoptionMenu,0,0,{delay:0.2}),this.btnMoregames=this.fnSpawn(EntityButtonMoreGames,270,440,{delay:0.4}),this.btnOption.pos={x:ig.system.width/2-80-this.btnOption.size.x/2,y:ig.system.height/2+120}):(this.btnOption=this.fnSpawn(EntityBtnoptionMenu,
0,0,{delay:0.2}),this.btnOption.pos={x:ig.system.width/2-this.btnOption.size.x/2,y:ig.system.height/2+120})},fnGotoGameLevel:function(){this.levelSplasher=this.fnSpawn(EntityLevelSplasher,0,0,{alpha:0,onFinish:function(){ig.game.director.loadLevel(2)},killOnfinish:!1}).fnAnimateOut()}})});ig.baked=!0;
ig.module("game.levels.mainmenu").requires("impact.image","game.entities.controllers.mainmenu-ctrl").defines(function(){LevelMainmenu={entities:[{type:"EntityMainmenuCtrl",x:568,y:80}],layer:[{name:"background",width:30,height:40,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/backgrounds/desktop/background.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:16,foreground:!1,data:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]}]};LevelMainmenuResources=[new ig.Image("media/graphics/backgrounds/desktop/background.jpg")]});ig.baked=!0;
ig.module("game.app.levels").requires("impact.game","game.levels.game","game.levels.mainmenu").defines(function(){ig.Game.inject({beginLevel:1,oLevels:{arMobile:[LevelMainmenu,LevelGame],arDesktop:[LevelMainmenu,LevelGame]},init:function(){this.parent()},fnMergeLevels:function(j,l){j||[];return!l?j:ig.ua.mobile?0>l?j.concat(this.oLevels.arMobile):this.oLevels.arMobile.concat(j):0>l?j.concat(this.oLevels.arDesktop):this.oLevels.arDesktop.concat(j)},fnGetBeginLevel:function(){this.beginLevel=!1===this.beginLevel?
this.director.currentLevel:this.beginLevel;var j=this.queryString&&this.queryString.level?parseInt(this.queryString.level):this.beginLevel;return this.director.levels[j]?j:this.beginLevel}})});ig.baked=!0;
ig.module("game.app.helper").requires("impact.game").defines(function(){ig.Game.inject({init:function(){this.parent()},helper:{fnR1D:function(j){return Math.round(10*j)/10},fnR2D:function(j){return Math.round(100*j)/100},fnR3D:function(j){return Math.round(1E3*j)/1E3},fnR4D:function(j){return Math.round(1E4*j)/1E4},fnR5D:function(j){return Math.round(1E5*j)/1E5},fnGetDistance:function(j,l){return Math.sqrt((l.x-=j.x)*l.x+(l.y-=j.y)*l.y)},fnCreateTileHelper:function(j){ig.game.spawnEntity(EntityTileHelper,
0,0,j)},fnRoundRect:function(j,l,m,n,q,r,B,u){"undefined"==typeof u&&(u=!0);"undefined"===typeof r&&(r=5);if("number"===typeof r)r={tl:r,tr:r,br:r,bl:r};else{var z={tl:0,tr:0,br:0,bl:0},D;for(D in z)r[D]=r[D]||z[D]}j.beginPath();j.moveTo(l+r.tl,m);j.lineTo(l+n-r.tr,m);j.quadraticCurveTo(l+n,m,l+n,m+r.tr);j.lineTo(l+n,m+q-r.br);j.quadraticCurveTo(l+n,m+q,l+n-r.br,m+q);j.lineTo(l+r.bl,m+q);j.quadraticCurveTo(l,m+q,l,m+q-r.bl);j.lineTo(l,m+r.tl);j.quadraticCurveTo(l,m,l+r.tl,m);j.closePath();B&&j.fill();
u&&j.stroke()}}})});ig.baked=!0;ig.module("game.services.testing").requires("game.app.service").defines(function(){TestingService=Service.extend({init:function(){this.parent("puzzle-ball-testing")},fnGet:function(){return this._get("easier")||[]},fnSet:function(j,l){var m=this.fnGet();m.push({easy:l,hard:j});this._set("easier",m)},fnReset:function(j){if(j)try{var l=JSON.parse(j);this._set("easier",l);return!0}catch(m){return!1}else return this._unset("easier"),!0}})});ig.baked=!0;
ig.module("game.app.minimain").requires("impact.game","game.app.settings","game.app.states","game.app.querystring","game.app.levels","game.app.helper","game.services.sound","game.services.level","game.services.hint","game.services.testing").defines(function(){ig.Game.inject({controller:!1,pointer:!1,init:function(){this.parent()},fnPause:function(){for(var j=ig.game.entities.length-1;0<=j;j--)this.entities[j].fnPause&&"function"==typeof this.entities[j].fnPause&&(this.entities[j].fnPause(),this.states.isPaused=
!0)},fnUnpause:function(){for(var j=this.entities.length-1;0<=j;j--)this.entities[j].fnUnpause&&"function"==typeof this.entities[j].fnUnpause&&(this.entities[j].fnUnpause(),this.states.isPusedReset())},cheat:{unlockLevel:function(j){this.enabled&&(j=!j?ig.game.settings.layout.length:j,j--,(new LevelService).fnSaveUnlockedLevel(j))},addHint:function(j){if(this.enabled){j=!j?1:j;for(var l=new HintService,m=0;m<j;m++)l.fnAdd();"GameCtrl"==ig.game.controller.name&&(ig.game.controller.uiFooter.hintRemaining=
l.fnGet())}}},test:{data:[],service:new TestingService,thanks:"Thank You!",easier:function(j,l){if(this.enabled){if("GameCtrl"!=ig.game.controller.name&&(!l||!j))return console.info("You are in Main Menu, you need to provide first and second parameter"),this.thanks;if(!j&&!l){if(0==ig.game.controller.level)return console.info("You are in level 1, you need to provide first and second parameter"),this.thanks;l=ig.game.controller.level+1;this.service.fnSet(l,l);console.info("OK!")}else if(j&&!l)l=ig.game.controller.level+
1,j>=l?console.info("First parameter should less than second parameter"):(this.service.fnSet(j,l),console.info("OK!"));else if(j>=l)console.info("First parameter should less than second parameter");else{if(!j)return console.info("First parameter should higher than 0"),this.thanks;this.service.fnSet(j,l);console.info("OK!")}return this.thanks}},easierReset:function(j){this.service.fnReset(j)?console.info("OK!"):console.info("Data should in stringified json");return"Thank You!"},easierReport:function(){console.info("Thank You!. Let we know this report by copy and paste to the chat room");
return JSON.stringify(this.service.fnGet())}}})});this.START_BRANDING_SPLASH;ig.baked=!0;
ig.module("plugins.branding.splash").requires("impact.impact","impact.entity").defines(function(){ig.BrandingSplash=ig.Class.extend({init:function(){ig.game.spawnEntity(EntityBranding,0,0);console.log("spawn branding")}});EntityBranding=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},splash:new ig.Image("branding/splash1.png"),init:function(j,l,m){this.parent(j,l,m);320>=ig.system.width?(this.size.x=320,this.size.y=200):(this.size.x=480,this.size.y=240);this.pos.x=(ig.system.width-this.size.x)/
2;this.pos.y=-this.size.y-200;this.endPosY=(ig.system.height-this.size.y)/2;j=this.tween({pos:{y:this.endPosY}},0.5,{easing:ig.Tween.Easing.Bounce.EaseIn});l=this.tween({},2.5,{onComplete:function(){ig.game.director.loadLevel(ig.game.director.currentLevel)}});j.chain(l);j.start();this.currentAnim=this.anims.idle},createClickableLayer:function(){console.log("Build clickable layer");this.checkClickableLayer("branding-splash",_SETTINGS.Branding.Logo.Link,_SETTINGS.Branding.Logo.NewWindow)},doesClickableLayerExist:function(j){for(k in dynamicClickableEntityDivs)if(k==
j)return!0;return!1},checkClickableLayer:function(j,l,m){"undefined"==typeof wm&&(this.doesClickableLayerExist(j)?(ig.game.showOverlay([j]),$("#"+j).find("[href]").attr("href",l)):this.createClickableOutboundLayer(j,l,"media/graphics/misc/invisible.png",m))},createClickableOutboundLayer:function(j,l,m,n){var q=ig.$new("div");q.id=j;document.body.appendChild(q);q=$("#"+q.id);q.css("float","left");q.css("position","absolute");if(ig.ua.mobile){var r=window.innerHeight/mobileHeight,B=window.innerWidth/
mobileWidth;q.css("left",this.pos.x*B);q.css("top",this.pos.y*r);q.css("width",this.size.x*B);q.css("height",this.size.y*r)}else r=w/2-destW/2,B=h/2-destH/2,console.log(r,B),q.css("left",r+this.pos.x*multiplier),q.css("top",B+this.pos.y*multiplier),q.css("width",this.size.x*multiplier),q.css("height",this.size.y*multiplier);n?q.html("<a target='_blank' href='"+l+"'><img style='width:100%;height:100%' src='"+m+"'></a>"):q.html("<a href='"+l+"'><img style='width:100%;height:100%' src='"+m+"'></a>");
dynamicClickableEntityDivs[j]={};dynamicClickableEntityDivs[j].width=this.size.x*multiplier;dynamicClickableEntityDivs[j].height=this.size.y*multiplier;dynamicClickableEntityDivs[j].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[j].entity_pos_y=this.pos.y},draw:function(){ig.system.context.fillStyle="#ffffff";ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);ig.system.context.fillStyle="#000";ig.system.context.font="12px Arial";ig.system.context.textAlign="left";320>=ig.system.width?
ig.system.context.fillText("powered by MarketJS.com",ig.system.width-150,ig.system.height-15):ig.system.context.fillText("powered by MarketJS.com",ig.system.width-160,ig.system.height-15);this.parent();this.splash&&ig.system.context.drawImage(this.splash.data,0,0,this.splash.data.width,this.splash.data.height,this.pos.x,this.pos.y,this.size.x,this.size.y)}})});this.END_BRANDING_SPLASH;ig.baked=!0;
ig.module("game.entities.buttons.button").requires("impact.entity","plugins.data.vector").defines(function(){EntityButton=ig.Entity.extend({collides:ig.Entity.COLLIDES.NEVER,type:ig.Entity.TYPE.A,size:new Vector2(48,48),fillColor:null,zIndex:95E3,init:function(j,l,m){this.parent(j,l,m);!ig.global.wm&&!isNaN(m.zIndex)&&(this.zIndex=m.zIndex);j=Math.floor(256*Math.random());l=Math.floor(256*Math.random());m=Math.floor(256*Math.random());this.fillColor="rgba("+j+","+m+","+l+",1)"},clicked:function(){throw"no implementation on clicked()";
},clicking:function(){throw"no implementation on clicking()";},released:function(){throw"no implementation on released()";}})});ig.baked=!0;
ig.module("plugins.clickable-div-layer").requires("plugins.data.vector").defines(function(){ClickableDivLayer=ig.Class.extend({pos:new Vector2(0,0),size:new Vector2(0,0),identifier:null,invisImagePath:"media/graphics/misc/invisible.png",init:function(j){this.pos=new Vector2(j.pos.x,j.pos.y);this.size=new Vector2(j.size.x,j.size.y);var l="more-games",m="www.google.com",n=!1;j.div_layer_name&&(l=j.div_layer_name);j.link&&(m=j.link);j.newWindow&&(n=j.newWindow);this.createClickableLayer(l,m,n)},createClickableLayer:function(j,
l,m){this.identifier=j;var n=ig.domHandler.getElementById("#"+j);n?(ig.domHandler.show(n),ig.domHandler.attr(n,"href",l)):this.createClickableOutboundLayer(j,l,this.invisImagePath,m)},update:function(j,l){this.pos.x===j&&this.pos.y===l||(ig.sizeHandler.dynamicClickableEntityDivs[this.identifier]={},ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].width=this.size.x,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].height=this.size.y,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].entity_pos_x=
this.pos.x,ig.sizeHandler.dynamicClickableEntityDivs[this.identifier].entity_pos_y=this.pos.y)},createClickableOutboundLayer:function(j,l,m,n){var q=ig.domHandler.create("div");ig.domHandler.attr(q,"id",j);var r=ig.domHandler.create("a");n?(ig.domHandler.attr(r,"href",l),ig.domHandler.attr(r,"target","_blank")):ig.domHandler.attr(r,"href",l);l=ig.domHandler.create("img");ig.domHandler.css(l,{width:"100%",height:"100%"});ig.domHandler.attr(l,"src",m);m=Math.min(ig.sizeHandler.scaleRatioMultiplier.x,
ig.sizeHandler.scaleRatioMultiplier.y);if(ig.ua.mobile){n=Math.floor(this.pos.x*ig.sizeHandler.scaleRatioMultiplier.x)+"px";var B=Math.floor(this.pos.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px",u=Math.floor(this.size.x*ig.sizeHandler.scaleRatioMultiplier.x)+"px";m=Math.floor(this.size.y*ig.sizeHandler.scaleRatioMultiplier.y)+"px"}else n=ig.domHandler.getElementById("#canvas"),n=ig.domHandler.getOffsets(n),B=n.top,n=Math.floor(n.left+this.pos.x*m)+"px",B=Math.floor(B+this.pos.y*m)+"px",u=Math.floor(this.size.x*
m)+"px",m=Math.floor(this.size.y*m)+"px";ig.domHandler.css(q,{"float":"left",position:"absolute",left:n,top:B,width:u,height:m,"z-index":3});ig.domHandler.addEvent(q,"mousemove",ig.input.mousemove.bind(ig.input),!1);ig.domHandler.appendChild(r,l);ig.domHandler.appendChild(q,r);ig.domHandler.appendToBody(q);ig.sizeHandler.dynamicClickableEntityDivs[j]={};ig.sizeHandler.dynamicClickableEntityDivs[j].width=this.size.x;ig.sizeHandler.dynamicClickableEntityDivs[j].height=this.size.y;ig.sizeHandler.dynamicClickableEntityDivs[j].entity_pos_x=
this.pos.x;ig.sizeHandler.dynamicClickableEntityDivs[j].entity_pos_y=this.pos.y}})});ig.baked=!0;
ig.module("game.entities.buttons.button-branding-logo").requires("game.entities.buttons.button","plugins.clickable-div-layer").defines(function(){EntityButtonBrandingLogo=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,logo:new ig.AnimationSheet("branding/logo.png",_SETTINGS.Branding.Logo.Width,_SETTINGS.Branding.Logo.Height),zIndex:10001,size:{x:64,y:66},clickableLayer:null,link:null,newWindow:!1,div_layer_name:"branding-logo",name:"brandinglogo",init:function(j,l,m){this.parent(j,l,m);
if(!ig.global.wm){if("undefined"==typeof wm)if(_SETTINGS.Branding.Logo.Enabled)this.size.x=_SETTINGS.Branding.Logo.Width,this.size.y=_SETTINGS.Branding.Logo.Height,this.anims.idle=new ig.Animation(this.logo,0,[0],!0),this.currentAnim=this.anims.idle,m&&m.centralize&&(this.pos.x=ig.system.width/2-this.size.x/2,console.log("centralize true ... centering branded logo ...")),_SETTINGS.Branding.Logo.LinkEnabled&&(this.link=_SETTINGS.Branding.Logo.Link,this.newWindow=_SETTINGS.Branding.Logo.NewWindow,this.clickableLayer=
new ClickableDivLayer(this));else{this.kill();return}this.div_layer_name=m.div_layer_name?m.div_layer_name:"branding-logo"}},show:function(){var j=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.show(j)},hide:function(){var j=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.hide(j)},clicked:function(){},clicking:function(){},released:function(){}})});ig.baked=!0;
ig.module("game.entities.branding-logo-placeholder").requires("impact.entity","game.entities.buttons.button-branding-logo").defines(function(){EntityBrandingLogoPlaceholder=ig.Entity.extend({gravityFactor:0,size:{x:32,y:32},_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",init:function(j,l,m){this.parent(j,l,m);if(m)switch(console.log("settings found ... using that div layer name"),j=m.div_layer_name,console.log("settings.centralize:",m.centralize),m.centralize){case "true":console.log("centralize true");
centralize=!0;break;case "false":console.log("centralize false");centralize=!1;break;default:console.log("default ... centralize false"),centralize=!1}else j="branding-logo",centralize=!1;if("undefined"==typeof wm){if(_SETTINGS.Branding.Logo.Enabled)try{ig.game.spawnEntity(EntityButtonBrandingLogo,this.pos.x,this.pos.y,{div_layer_name:j,centralize:centralize})}catch(n){console.log(n)}this.kill()}}})});ig.baked=!0;
ig.module("game.entities.buttons.button-more-games").requires("game.entities.buttons.button","plugins.clickable-div-layer").defines(function(){EntityButtonMoreGames=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,logo:new ig.AnimationSheet("media/graphics/sprites/button_moregames.png",99,101),size:{x:99,y:101},clickableLayer:null,link:null,newWindow:!1,div_layer_name:"more-games",name:"moregames",init:function(j,l,m){this.parent(j,l,m);ig.global.wm||(this.div_layer_name=m.div_layer_name?
m.div_layer_name:"more-games",_SETTINGS.MoreGames.Enabled?(this.anims.idle=new ig.Animation(this.logo,0,[0],!0),this.anims.hover=new ig.Animation(this.logo,0,[1],!0),this.currentAnim=this.anims.idle,_SETTINGS.MoreGames.Link&&(this.link=_SETTINGS.MoreGames.Link),_SETTINGS.MoreGames.NewWindow&&(this.newWindow=_SETTINGS.MoreGames.NewWindow),this.clickableLayer=new ClickableDivLayer(this),this.anims.idle.scale.x=0,this.anims.idle.scale.y=0,this.anims.hover.scale.x=0,this.anims.hover.scale.y=0,this.zIndex=
ig.game.settings.enIdx.menubtn,this.fnEntrace()):this.kill())},fnEntrace:function(){this.tween({anims:{idle:{scale:{x:1,y:1}},hover:{scale:{x:1,y:1}}}},0.25,{easing:ig.Tween.Easing.Sinusoidal.EaseInOut,delay:this.delay}).start()},show:function(){var j=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.show(j)},hide:function(){var j=ig.domHandler.getElementById("#"+this.div_layer_name);ig.domHandler.hide(j)},clicked:function(){},clicking:function(){},released:function(){},over:function(){this.currentAnim=
this.anims.hover},leave:function(){this.currentAnim=this.anims.idle}})});ig.baked=!0;
ig.module("game.entities.opening-shield").requires("impact.entity").defines(function(){EntityOpeningShield=ig.Entity.extend({size:{x:48,y:48},move:0,mIconAnim:0,shieldAnim:0,titleAnim:0,shieldImage:new ig.Image("media/graphics/opening/shield.png"),mIconImage:new ig.Image("media/graphics/opening/m_icon.png"),titleImage:new ig.Image("media/graphics/opening/title.png"),init:function(j,l,m){this.parent(j,l,m)},ready:function(){if(!ig.wm)if(_SETTINGS.DeveloperBranding.Splash.Enabled){this.initTimer=new ig.Timer(0.1);
try{ig.soundHandler.playSound(ig.soundHandler.SOUNDID.openingSound)}catch(j){console.log(j)}}else ig.game.director.nextLevel(),ig.system.context.globalAlpha=1,this.kill()},update:function(){this.parent();this.updateOriginalShieldOpening()},draw:function(){this.parent();ig.global.wm||(this.nextLevelTimer&&0>this.nextLevelTimer.delta()&&(ig.system.context.globalAlpha=-this.nextLevelTimer.delta()),this.drawOriginalShieldOpening())},updateOriginalShieldOpening:function(){this.initTimer&&0<this.initTimer.delta()&&
(this.initTimer=null,this.sheildTimer=new ig.Timer(0.05));this.sheildTimer&&0<this.sheildTimer.delta()&&(3>this.shieldAnim?(this.shieldAnim++,this.sheildTimer.reset()):(this.sheildTimer=null,this.moveTimer=new ig.Timer(0.001),this.mIconTimer=new ig.Timer(0.05),this.titleTimer=new ig.Timer(0.15)));this.moveTimer&&0<this.moveTimer.delta()&&(this.move+=0.3,this.moveTimer.reset());this.mIconTimer&&0<this.mIconTimer.delta()&&(12>this.mIconAnim?(this.mIconAnim++,this.moveTimer.reset()):this.mIconTimer=
null);this.titleTimer&&0<this.titleTimer.delta()&&(11>this.titleAnim?(this.titleAnim++,this.titleTimer.reset()):(this.titleTimer=null,this.nextLevelTimer=new ig.Timer(1)));this.nextLevelTimer&&0<this.nextLevelTimer.delta()&&(this.nextLevelTimer=null,ig.game.director.nextLevel(),ig.system.context.globalAlpha=1)},drawOriginalShieldOpening:function(){if(this.moveTimer){var j=ig.system.context;j.save();var l=ig.system.width/2,m=ig.system.height/2;j.translate(l,m);j.rotate(this.move*Math.PI/180);j.beginPath();
j.moveTo(0,0);for(var n=0,q=1;48>=q;q+=1)j.lineTo(0+800*Math.cos(2*q*Math.PI/48),0+800*Math.sin(2*q*Math.PI/48)),n++,2==n&&(n=0,j.lineTo(0,0));j.translate(-l,-m);l=j.createRadialGradient(l,m,100,l,m,250);l.addColorStop(0,"rgba(255,255,255,0.1)");l.addColorStop(1,"rgba(0,0,0,0)");j.fillStyle=l;j.fill();j.restore()}this.shieldImage.drawTile(ig.system.width/2-91,0-(768-ig.system.height)/2,this.shieldAnim,182,768);this.moveTimer&&(this.mIconImage.drawTile(ig.system.width/2-96,ig.system.height/2-70,this.mIconAnim,
166,160),this.titleImage.drawTile(ig.system.width/2-204,ig.system.height/2+100,this.titleAnim,409,76));ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.opening-kitty").requires("impact.entity").defines(function(){EntityOpeningKitty=ig.Entity.extend({size:{x:48,y:48},kittyAnim:-1,kittyImage:new ig.Image("media/graphics/opening/kitty.png"),kittyTitleImage:new ig.Image("media/graphics/opening/kittytitle.png"),soundKey:"kittyopeningSound",init:function(j,l,m){this.parent(j,l,m)},ready:function(){if(!ig.wm)if(_SETTINGS.DeveloperBranding.Splash.Enabled){this.initTimer=new ig.Timer(0.1);try{ig.soundHandler.sfxPlayer.play(this.soundKey)}catch(j){console.log(j)}}else ig.game.director.nextLevel(),
ig.system.context.globalAlpha=1,this.kill()},update:function(){this.parent();this.updateKittyOpening()},draw:function(){this.parent();ig.global.wm||(this.nextLevelTimer&&0>this.nextLevelTimer.delta()&&(ig.system.context.globalAlpha=-this.nextLevelTimer.delta()),this.drawKittyOpening())},updateKittyOpening:function(){this.initTimer&&0<this.initTimer.delta()&&(this.initTimer=null,this.kittyTimer=new ig.Timer(0.15));this.kittyTimer&&0<this.kittyTimer.delta()&&(7>this.kittyAnim?(this.kittyAnim++,this.kittyTimer.reset()):
(this.kittyTimer=null,this.nextLevelTimer=new ig.Timer(2)));this.nextLevelTimer&&0<this.nextLevelTimer.delta()&&(this.nextLevelTimer=null,ig.game.director.nextLevel(),ig.system.context.globalAlpha=1)},drawKittyOpening:function(){var j=ig.system.context.createLinearGradient(0,0,0,ig.system.height);j.addColorStop(0,"#ffed94");j.addColorStop(1,"#ffcd85");ig.system.context.fillStyle=j;ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);0<=this.kittyAnim&&(this.kittyImage.drawTile(ig.system.width/
2-this.kittyImage.width/8,ig.system.height/2-this.kittyImage.height/4,this.kittyAnim,218,325),this.kittyTitleImage.drawTile(ig.system.width/2-this.kittyTitleImage.width/2,ig.system.height/2+this.kittyImage.height/4+10,this.kittyAnim,380,37));ig.system.context.globalAlpha=1}})});ig.baked=!0;
ig.module("game.entities.select").requires("impact.entity").defines(function(){EntitySelect=ig.Entity.extend({type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,canSelect:!1,canSelectTimerDuration:0.35,zIndex:99999,isHovering:!1,isSelected:!1,init:function(j,l,m){this.parent(j,l,m);this.canSelectTimer=new ig.Timer(this.canSelectTimerDuration)},doesClickableLayerExist:function(j){for(k in dynamicClickableEntityDivs)if(k==j)return!0;return!1},checkClickableLayer:function(j,
l,m){"undefined"==typeof wm&&(this.doesClickableLayerExist(j)?(ig.game.showOverlay([j]),$("#"+j).find("[href]").attr("href",l)):this.createClickableOutboundLayer(j,l,"media/graphics/misc/invisible.png",m))},createClickableOutboundLayer:function(j,l,m,n){var q=ig.$new("div");q.id=j;document.body.appendChild(q);$("#"+q.id).css("float","left");$("#"+q.id).css("width",this.size.x*multiplier);$("#"+q.id).css("height",this.size.y*multiplier);$("#"+q.id).css("position","absolute");var r=w/2-destW/2,B=h/
2-destH/2;w==mobileWidth?($("#"+q.id).css("left",this.pos.x),$("#"+q.id).css("top",this.pos.y)):($("#"+q.id).css("left",r+this.pos.x*multiplier),$("#"+q.id).css("top",B+this.pos.y*multiplier));n?$("#"+q.id).html("<a target='_blank' href='"+l+"'><img style='width:100%;height:100%' src='"+m+"'></a>"):$("#"+q.id).html("<a href='"+l+"'><img style='width:100%;height:100%' src='"+m+"'></a>");dynamicClickableEntityDivs[j]={};dynamicClickableEntityDivs[j].width=$("#"+q.id).width();dynamicClickableEntityDivs[j].height=
$("#"+q.id).height();dynamicClickableEntityDivs[j].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[j].entity_pos_y=this.pos.y},hovered:function(){this.isHovering=!0;this.dehoverOthers()},dehoverOthers:function(){var j=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<j.length;i++)j[i]!=this&&(j[i].isHovering=!1)},deselectOthers:function(){var j=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<j.length;i++)j[i]!=this&&(j[i].isSelected=!1)},update:function(){this.parent();this.canSelectTimer&&0<
this.canSelectTimer.delta()&&(this.canSelect=!0,this.canSelectTimer=null)}})});ig.baked=!0;ig.module("game.levels.opening").requires("impact.image","game.entities.opening-kitty").defines(function(){LevelOpening={entities:[{type:"EntityOpeningKitty",x:520,y:212}],layer:[]}});ig.baked=!0;
ig.module("game.entities.buttons.button-sound").requires("game.entities.buttons.button").defines(function(){EntityButtonSound=EntityButton.extend({type:ig.Entity.TYPE.A,gravityFactor:0,logo:new ig.AnimationSheet("branding/logo.png",_SETTINGS.Branding.Logo.Width,_SETTINGS.Branding.Logo.Height),zIndex:10001,size:{x:50,y:50},mutetest:!1,name:"soundtest",init:function(j,l,m){this.parent(j,l,m)},draw:function(){this.parent();ig.system.context.fillRect(this.pos.x,this.pos.y,50,50)},clicked:function(){console.log("pressed");
this.mutetest?(console.log("unmute"),ig.soundHandler.unmuteAll(!0),this.mutetest=!1):(console.log("mute"),ig.soundHandler.muteAll(!0),this.mutetest=!0)},clicking:function(){},released:function(){}})});ig.baked=!0;
ig.module("game.levels.test-desktop").requires("impact.image","game.entities.branding-logo-placeholder","game.entities.buttons.button-more-games","game.entities.pointer","game.entities.buttons.button-sound").defines(function(){LevelTestDesktop={entities:[{type:"EntityBrandingLogoPlaceholder",x:296,y:396,settings:{div_layer_name:"layer_mainmenu",centralize:"true"}},{type:"EntityButtonMoreGames",x:432,y:284,settings:{div_layer_name:"layer_moregames_mainmenu"}},{type:"EntityPointer",x:608,y:120},{type:"EntityButtonSound",
x:192,y:284}],layer:[{name:"background",width:40,height:30,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/backgrounds/desktop/background.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:16,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],[41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],[81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,
96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160],[161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200],[201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,
221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280],[281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320],[321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,
345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360],[361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400],[401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440],[441,442,443,444,445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,
469,470,471,472,473,474,475,476,477,478,479,480],[481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520],[521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560],[561,562,563,564,565,566,567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,
593,594,595,596,597,598,599,600],[601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640],[641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680],[681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,
717,718,719,720],[721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760],[761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800],[801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840],
[841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880],[881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920],[921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960],[961,962,963,964,
965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1E3],[1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040],[1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,
1072,1073,1074,1075,1076,1077,1078,1079,1080],[1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120],[1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140,1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1160],[1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,
1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200]]}]};LevelTestDesktopResources=[new ig.Image("media/graphics/backgrounds/desktop/background.jpg")]});ig.baked=!0;
ig.module("game.levels.test-mobile").requires("impact.image","game.entities.branding-logo-placeholder","game.entities.buttons.button-more-games","game.entities.pointer").defines(function(){LevelTestMobile={entities:[{type:"EntityBrandingLogoPlaceholder",x:216,y:548,settings:{div_layer_name:"layer_mainmenu",centralize:"true"}},{type:"EntityButtonMoreGames",x:204,y:372,settings:{div_layer_name:"layer_moregames_mainmenu"}},{type:"EntityPointer",x:444,y:192}],layer:[{name:"background",width:30,height:40,
linkWithCollision:!1,visible:1,tilesetName:"media/graphics/backgrounds/mobile/background.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:16,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],[31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],[61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],[91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,
111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150],[151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180],[181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210],[211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,
235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270],[271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300],[301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330],[331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,
359,360],[361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390],[391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420],[421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,445,446,447,448,449,450],[451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480],[481,
482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510],[511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540],[541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,569,570],[571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600],[601,602,603,604,605,
606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630],[631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660],[661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690],[691,692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720],[721,722,723,724,725,726,727,728,729,
730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750],[751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780],[781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810],[811,812,813,814,815,816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840],[841,842,843,844,845,846,847,848,849,850,851,852,853,
854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870],[871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900],[901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930],[931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960],[961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,
978,979,980,981,982,983,984,985,986,987,988,989,990],[991,992,993,994,995,996,997,998,999,1E3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020],[1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050],[1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080],[1081,
1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110],[1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140],[1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170],[1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,
1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200]]}]};LevelTestMobileResources=[new ig.Image("media/graphics/backgrounds/mobile/background.jpg")]});ig.baked=!0;
ig.module("game.main").requires("impact.game","plugins.patches.webkit-image-smoothing-patch","plugins.patches.windowfocus-onMouseDown-patch","plugins.handlers.dom-handler","plugins.handlers.size-handler","plugins.handlers.api-handler","plugins.audio.sound-handler","plugins.io.io-manager","plugins.splash-loader","plugins.tween","plugins.url-parameters","plugins.director","plugins.impact-storage","game.app.minimain","plugins.branding.splash","game.entities.branding-logo-placeholder","game.entities.buttons.button-more-games",
"game.entities.opening-shield","game.entities.opening-kitty","game.entities.pointer","game.entities.pointer-selector","game.entities.select","game.services.sound","game.levels.opening","game.levels.test-desktop","game.levels.test-mobile","game.levels.mainmenu","game.levels.game").defines(function(){this.START_OBFUSCATION;this.FRAMEBREAKER;MyGame=ig.Game.extend({io:null,paused:!1,soundService:new SoundService,init:function(){this.parent();this.setupMarketJsGameCenter();this.io=new IoManager;this.setupUrlParams=
new ig.UrlParameters;this.removeLoadingWheel();this.finalize()},setupMarketJsGameCenter:function(){if(_SETTINGS)if(_SETTINGS.MarketJSGameCenter){var j=ig.domHandler.getElementByClass("gamecenter-activator");_SETTINGS.MarketJSGameCenter.Activator.Enabled&&_SETTINGS.MarketJSGameCenter.Activator.Position&&(console.log("MarketJSGameCenter activator settings present ...."),ig.domHandler.css(j,{position:"absolute",left:_SETTINGS.MarketJSGameCenter.Activator.Position.Left,top:_SETTINGS.MarketJSGameCenter.Activator.Position.Top,
"z-index":3}));ig.domHandler.show(j)}else console.log("MarketJSGameCenter settings not defined in game settings")},finalize:function(){if(ig.ua.mobile){var j=ig.domHandler.getElementById("#play");ig.domHandler.attr(j,"onclick",'ig.soundHandler.sfxPlayer.play("staticSound");ig.game.splashClick();');ig.domHandler.show(j)}else this.start();ig.sizeHandler.reorient()},removeLoadingWheel:function(){try{$("#ajaxbar").css("background","none")}catch(j){console.log(j)}},showDebugMenu:function(){console.log("showing debug menu ...");
ig.Entity._debugShowBoxes=!0;$(".ig_debug").show()},start:function(){this.resetPlayerStats();this.director=new ig.Director(this,[LevelOpening,LevelMainmenu,LevelGame]);if(_SETTINGS.Branding.Splash.Enabled)try{this.branding=new ig.BrandingSplash}catch(j){console.log(j),console.log("Loading original levels ..."),this.director.loadLevel(this.director.currentLevel)}else this.director.loadLevel(this.director.currentLevel);ig.soundHandler.bgmPlayer.play(ig.soundHandler.bgmPlayer.soundList.background);ig.soundHandler.bgmPlayer.volume(this.soundService.fnGetBgm())},
fpsCount:function(){this.fpsTimer||(this.fpsTimer=new ig.Timer(1));this.fpsTimer&&0>this.fpsTimer.delta()?null!=this.fpsCounter?this.fpsCounter++:this.fpsCounter=0:(ig.game.fps=this.fpsCounter,this.fpsCounter=0,this.fpsTimer.reset())},endGame:function(){console.log("End game");ig.soundHandler.bgmPlayer.stop();ig.apiHandler.run("MJSEnd")},resetPlayerStats:function(){ig.log("resetting player stats ...");this.playerStats={id:this.playerStats?this.playerStats.id:null}},splashClick:function(){var j=ig.domHandler.getElementById("#play");
ig.domHandler.hide(j);ig.apiHandler.run("MJSFooter");ig.apiHandler.run("MJSHeader");ig.game.start()},pauseGame:function(){ig.system.stopRunLoop.call(ig.system);console.log("Game Paused")},resumeGame:function(){ig.system.startRunLoop.call(ig.system);console.log("Game Resumed")},showOverlay:function(j){for(i=0;i<j.length;i++)$("#"+j[i])&&$("#"+j[i]).show(),document.getElementById(j[i])&&(document.getElementById(j[i]).style.visibility="visible")},hideOverlay:function(j){for(i=0;i<j.length;i++)$("#"+
j[i])&&$("#"+j[i]).hide(),document.getElementById(j[i])&&(document.getElementById(j[i]).style.visibility="hidden")},currentBGMVolume:1,addition:0.1,update:function(){this.paused?this.updateWhilePaused():(this.parent(),ig.ua.mobile&&ig.soundHandler&&ig.soundHandler.forceLoopBGM())},updateWhilePaused:function(){for(var j=0;j<this.entities.length;j++)this.entities[j].ignorePause&&this.entities[j].update()},draw:function(){this.parent()},clearCanvas:function(j,l,m){var n=j.canvas;j.clearRect(0,0,l,m);
n.style.display="none";n.offsetHeight;n.style.display="inherit"},drawDebug:function(){if(!ig.global.wm&&(this.debugEnable(),this.viewDebug&&(ig.system.context.fillStyle="#000000",ig.system.context.globalAlpha=0.35,ig.system.context.fillRect(0,0,ig.system.width/4,ig.system.height),ig.system.context.globalAlpha=1,this.debug&&0<this.debug.length)))for(i=0;i<this.debug.length;i++)ig.system.context.font="10px Arial",ig.system.context.fillStyle="#ffffff",ig.system.context.fillText(this.debugLine-this.debug.length+
i+": "+this.debug[i],10,50+10*i)},debugCL:function(j){this.debug?(50>this.debug.length||this.debug.splice(0,1),this.debug.push(j),this.debugLine++):(this.debug=[],this.debugLine=1,this.debug.push(j));console.log(j)},debugEnable:function(){ig.input.pressed("click")&&(this.debugEnableTimer=new ig.Timer(2));this.debugEnableTimer&&0>this.debugEnableTimer.delta()?ig.input.released("click")&&(this.debugEnableTimer=null):this.debugEnableTimer&&0<this.debugEnableTimer.delta()&&(this.debugEnableTimer=null,
this.viewDebug=this.viewDebug?!1:!0)}});ig.domHandler=null;ig.domHandler=new ig.DomHandler;ig.domHandler.forcedDeviceDetection();ig.domHandler.forcedDeviceRotation();ig.apiHandler=new ig.ApiHandler;ig.sizeHandler=new ig.SizeHandler(ig.domHandler);ig.ua.mobile?(ig.Sound.enabled=!1,ig.main("#canvas",MyGame,60,ig.sizeHandler.mobile.actualResolution.x,ig.sizeHandler.mobile.actualResolution.y,ig.sizeHandler.scale,ig.SplashLoader),ig.sizeHandler.resize()):ig.main("#canvas",MyGame,60,ig.sizeHandler.desktop.actualResolution.x,
ig.sizeHandler.desktop.actualResolution.y,ig.sizeHandler.scale,ig.SplashLoader);ig.soundHandler=null;ig.soundHandler=new ig.SoundHandler;ig.sizeHandler.reorient();this.END_OBFUSCATION});
